{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { w as t } from \"./withConfigTransport.js\";\nimport { __decorate as o } from \"tslib\";\nimport { h as e, resolveComponent as s, openBlock as i, createBlock as a, Transition as n, withCtx as r, withDirectives as l, createElementVNode as c, normalizeClass as p, normalizeStyle as f, createElementBlock as d, toDisplayString as v, createCommentVNode as u, vShow as h, createVNode as m, withModifiers as g, render as x } from \"vue\";\nimport { V as y, m as b, O as C, p as _ } from \"./vue-class-component.esm-bundler.js\";\nimport { s as T } from \"./VaIcon.js\";\nimport { C as z } from \"./ColorMixin.js\";\nimport { s as k } from \"./style-inject.es.js\";\nimport \"./VaConfig.js\";\nimport \"./flatten.js\";\nimport \"./color-config.js\";\nimport \"colortranslator\";\nimport \"./useSize.js\";\nconst w = y.with(class VaToastRendererProps {\n  constructor() {\n    this.content = _({\n      type: Function,\n      default: void 0\n    });\n  }\n\n});\nlet j = class VaToastRenderer extends b(w) {\n  render() {\n    return this.content(e);\n  }\n\n};\nj = o([C({\n  name: \"VaToastRenderer\"\n})], j);\nconst V = y.with(class ToastProps {\n  constructor() {\n    this.title = _({\n      type: String,\n      default: \"\"\n    }), this.offsetY = _({\n      type: Number,\n      default: 16\n    }), this.offsetX = _({\n      type: Number,\n      default: 16\n    }), this.message = _({\n      type: [String, Function],\n      default: \"\"\n    }), this.html = _({\n      type: Boolean,\n      default: !1\n    }), this.icon = _({\n      type: String,\n      default: \"close\"\n    }), this.customClass = _({\n      type: String,\n      default: \"\"\n    }), this.duration = _({\n      type: Number,\n      default: 5e3\n    }), this.color = _({\n      type: String,\n      default: \"\"\n    }), this.closeable = _({\n      type: Boolean,\n      default: !0\n    }), this.onClose = _({\n      type: [Function, void 0]\n    }), this.onClick = _({\n      type: [Function, void 0]\n    }), this.multiLine = _({\n      type: Boolean,\n      default: !1\n    }), this.position = _({\n      type: String,\n      default: \"top-right\",\n      validator: t => [\"top-right\", \"top-left\", \"bottom-right\", \"bottom-left\"].includes(t)\n    }), this.render = _({\n      type: Function,\n      default: void 0\n    });\n  }\n\n});\nlet $ = class VaToast extends b(z, V) {\n  constructor() {\n    super(...arguments), this.timer = null, this.visible = !1;\n  }\n\n  get positionX() {\n    return this.position.includes(\"right\") ? \"right\" : \"left\";\n  }\n\n  get positionY() {\n    return this.position.includes(\"top\") ? \"top\" : \"bottom\";\n  }\n\n  get toastClasses() {\n    return [this.customClass];\n  }\n\n  get toastStyles() {\n    return {\n      [this.positionY]: `${this.offsetY}px`,\n      [this.positionX]: `${this.offsetX}px`,\n      backgroundColor: this.colorComputed\n    };\n  }\n\n  get computedMessage() {\n    return \"function\" == typeof this.message ? this.message() : this.message;\n  }\n\n  destroyElement() {\n    this.$el.removeEventListener(\"transitionend\", this.destroyElement), this.$el.remove();\n  }\n\n  onToastClick() {\n    \"function\" != typeof this.$props.onClick ? this.$emit(\"click\") : this.$props.onClick();\n  }\n\n  onToastClose() {\n    this.visible = !1, this.$el.addEventListener(\"transitionend\", this.destroyElement), \"function\" != typeof this.onClose ? this.$emit(\"close\") : this.onClose();\n  }\n\n  clearTimer() {\n    this.timer && clearTimeout(this.timer);\n  }\n\n  startTimer() {\n    this.duration > 0 && (this.timer = setTimeout(() => {\n      this.visible && this.onToastClose();\n    }, this.duration));\n  }\n\n  mounted() {\n    this.visible = !0, this.duration > 0 && (this.timer = setTimeout(() => {\n      this.visible && this.onToastClose();\n    }, this.duration));\n  }\n\n};\n$ = o([C({\n  name: \"VaToast\",\n  components: {\n    VaIcon: T,\n    VaToastRenderer: j\n  },\n  emits: [\"on-click\", \"on-close\"]\n})], $);\nvar X = $;\nconst E = {\n  class: \"va-toast__group\"\n},\n      S = [\"textContent\"],\n      Y = {\n  class: \"va-toast__content\"\n},\n      M = [\"innerHTML\"],\n      N = [\"textContent\"],\n      L = {\n  key: 1,\n  class: \"va-toast__content\"\n};\nk(\":root{--va-toast-display:flex;--va-toast-width:330px;--va-toast-padding:14px 26px 14px 13px;--va-toast-border-radius:8px;--va-toast-box-sizing:border-box;--va-toast-border:1px solid #ebeef5;--va-toast-position:fixed;--va-toast-background-color:#fff;--va-toast-color:#fff;--va-toast-border-color:#fff;--va-toast-box-shadow:0 2px 12px 0 rgba(0,0,0,0.1);--va-toast-transition:opacity 0.3s,transform 0.3s,left 0.3s,right 0.3s,top 0.4s,bottom 0.3s;--va-toast-overflow:hidden;--va-toast-z-index:calc(var(--va-z-index-teleport-overlay) + 100);--va-toast-group-margin-left:13px;--va-toast-group-margin-right:8px;--va-toast-title-font-weight:bold;--va-toast-title-font-size:1rem;--va-toast-title-color:#303133;--va-toast-title-margin:0 0 6px;--va-toast-content-font-size:1rem;--va-toast-content-line-height:21px;--va-toast-content-padding-right:20px;--va-toast-icon-height:24px;--va-toast-icon-width:24px;--va-toast-icon-font-size:24px;--va-toast-close-icon-position:absolute;--va-toast-close-icon-top:18px;--va-toast-close-icon-right:15px;--va-toast-close-icon-cursor:pointer;--va-toast-close-icon-font-size:1rem;--va-toast-hover-color:#909399}.va-toast{align-items:center;background-color:#fff;border:1px solid var(--va-toast-border-color);border-radius:8px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-sizing:border-box;color:#fff;display:flex;font-family:var(--va-font-family);overflow:hidden;padding:14px 26px 14px 13px;position:fixed;transition:opacity .3s,transform .3s,left .3s,right .3s,top .4s,bottom .3s;width:330px;z-index:var(--va-toast-z-index)}.va-toast--multiline{min-height:70px}.va-toast--right{right:16px}.va-toast--left{left:16px}.va-toast__group{margin-left:var(--va-toast-group-margin-left);margin-right:var(--va-toast-group-margin-right)}.va-toast__title{color:var(--va-toast-title-color);font-size:var(--va-toast-title-font-size);font-weight:var(--va-toast-title-font-weight);margin:var(--va-toast-title-margin)}.va-toast__content{font-size:var(--va-toast-content-font-size);line-height:var(--va-toast-content-line-height);padding-right:var(--va-toast-content-padding-right)}.va-toast__content p{margin:0}.va-toast__icon{font-size:var(--va-toast-icon-font-size);height:var(--va-toast-icon-height);width:var(--va-toast-icon-width)}.va-toast__close-icon{cursor:pointer;font-size:1rem;position:absolute;right:15px;top:50%;transform:translateY(-50%)}.va-toast__close-icon:hover{color:var(--va-toast-hover-color)}.va-toast-fade-enter.right{right:0;transform:translateX(100%)}.va-toast-fade-enter.left{left:0;transform:translateX(-100%)}.va-toast-fade-leave-active{opacity:0}\"), X.render = function render(t, o, e, x, y, b) {\n  const C = s(\"VaToastRenderer\"),\n        _ = s(\"va-icon\");\n\n  return i(), a(n, {\n    name: \"va-toast-fade\"\n  }, {\n    default: r(() => [l(c(\"div\", {\n      class: p([\"va-toast\", t.$props.multiLine ? \"va-toast--multiline\" : \"\", ...t.toastClasses]),\n      style: f(t.toastStyles),\n      onMouseenter: o[0] || (o[0] = o => t.clearTimer()),\n      onMouseleave: o[1] || (o[1] = o => t.startTimer()),\n      onClick: o[2] || (o[2] = o => t.onToastClick()),\n      role: \"alert\"\n    }, [c(\"div\", E, [t.title ? (i(), d(\"h2\", {\n      key: 0,\n      class: \"va-toast__title\",\n      textContent: v(t.title)\n    }, null, 8, S)) : u(\"v-if\", !0), l(c(\"div\", Y, [t.html ? (i(), d(\"p\", {\n      key: 0,\n      innerHTML: t.computedMessage\n    }, null, 8, M)) : (i(), d(\"p\", {\n      key: 1,\n      textContent: v(t.computedMessage)\n    }, null, 8, N))], 512), [[h, t.message]]), t.render ? (i(), d(\"div\", L, [m(C, {\n      content: t.render\n    }, null, 8, [\"content\"])])) : u(\"v-if\", !0), t.closeable ? (i(), a(_, {\n      key: 2,\n      size: \"small\",\n      name: t.icon,\n      class: \"va-toast__close-icon\",\n      onClick: g(t.onToastClose, [\"stop\"])\n    }, null, 8, [\"name\", \"onClick\"])) : u(\"v-if\", !0)])], 38), [[h, t.visible]])]),\n    _: 1\n  });\n}, X.__file = \"src/components/va-toast/VaToast.vue\";\nvar F = t(X);\nlet R = 1,\n    H = [];\n\nconst getNodeProps = t => {\n  var o, e;\n  return null === (e = null === (o = t.component) || void 0 === o ? void 0 : o.proxy) || void 0 === e ? void 0 : e.computedProps;\n},\n      closeNotification = (t, o) => {\n  var e;\n  if (!t) return;\n  if (!H.length) return void (R = 1);\n  const s = H.findIndex(o => o === t);\n  if (s < 0) return;\n  const i = getNodeProps(t),\n        {\n    offsetX: a,\n    offsetY: n,\n    position: r\n  } = i,\n        l = null === (e = t.el) || void 0 === e ? void 0 : e.offsetHeight;\n  o(), H = H.reduce((o, e, i) => {\n    if (e === t) return o;\n\n    if (e.component) {\n      const {\n        offsetX: t,\n        offsetY: o,\n        position: c\n      } = getNodeProps(e);\n\n      if (i > s && a === t && n === o && r === c && e.el && l) {\n        const [t, o] = e.el.style.transform.match(/[\\d-]+(?=px)/g),\n              s = ((t, o, e) => {\n          const s = e.includes(\"bottom\") ? -1 : 1;\n          return parseInt(t, 10) - (o + 5) * s;\n        })(o, l, c);\n\n        e.el.style.transform = `translate(0, ${s}px)`;\n      }\n    }\n\n    return [...o, e];\n  }, []), H.length || (R = 1);\n},\n      mount = (t, {\n  props: o,\n  children: e,\n  element: s,\n  app: i\n} = {}) => {\n  let a,\n      n = s;\n  return a = m(t, { ...o,\n    onClose: () => {\n      closeNotification(a, () => ((t, o) => {\n        t && (x(null, t), t.remove()), t = null;\n      })(n)), (null == o ? void 0 : o.onClose) && o.onClose();\n    }\n  }, e), (null == i ? void 0 : i._context) && (a.appContext = i._context), n ? x(a, n) : \"undefined\" != typeof document && x(a, n = document.createElement(\"div\")), {\n    vNode: a,\n    el: n\n  };\n},\n      getToastOptions = t => (\"string\" == typeof t && (t = {\n  message: t\n}), ((t, ...o) => (o.forEach(o => {\n  if (\"object\" == typeof o) for (const e in o) if (Object.prototype.hasOwnProperty.call(o, e)) {\n    const s = o[e];\n    void 0 !== s && (t[e] = s);\n  }\n}), t))({}, t)),\n      initNotification = (t, o) => {\n  const e = ((t, o) => {\n    const {\n      vNode: e,\n      el: s\n    } = mount(F, {\n      app: o,\n      props: t\n    }),\n          i = getNodeProps(e);\n\n    if (s && e.el && i) {\n      document.body.appendChild(s.childNodes[0]);\n      const {\n        offsetX: t,\n        offsetY: o,\n        position: a\n      } = i;\n      e.el.style.display = \"flex\", e.el.id = \"notification_\" + R;\n      let n = 0;\n      return H.filter(e => {\n        const {\n          offsetX: s,\n          offsetY: i,\n          position: n\n        } = getNodeProps(e);\n        return s === t && i === o && a === n;\n      }).forEach(t => {\n        n += ((t, o) => {\n          if (t.el) {\n            const e = o.includes(\"bottom\") ? -1 : 1;\n            return (t.el.offsetHeight + 5) * e;\n          }\n\n          return 0;\n        })(t, a);\n      }), e.el.style.transform = `translate(0, ${n}px)`, R += 1, e;\n    }\n\n    return null;\n  })(getToastOptions(t), o);\n\n  return e && H.push(e), e;\n};\n\nclass Notification {\n  constructor(t) {\n    this.app = t;\n  }\n\n  init(t) {\n    var o, e;\n    return null === (e = null === (o = initNotification(t, this.app)) || void 0 === o ? void 0 : o.el) || void 0 === e ? void 0 : e.id;\n  }\n\n  close(t) {\n    (t => {\n      const o = H.find(o => {\n        var e;\n        return (null === (e = o.el) || void 0 === e ? void 0 : e.id) === t;\n      });\n      o && getNodeProps(o).onClose();\n    })(t);\n  }\n\n  closeAll() {\n    H.length ? H.forEach(t => getNodeProps(t).onClose()) : R = 1;\n  }\n\n}\n\nexport { Notification as default };","map":{"version":3,"mappings":"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","names":["VaToastRendererPropsMixin","Vue","with","VaToastRendererProps","constructor","this","prop","type","Function","default","undefined","VaToastRenderer","mixins","render","content","h","Options","name","ToastPropsMixin","ToastProps","String","Number","Boolean","validator","value","includes","VaToast","ColorMixin","positionX","position","positionY","toastClasses","customClass","toastStyles","offsetY","offsetX","backgroundColor","colorComputed","computedMessage","message","destroyElement","$el","removeEventListener","remove","onToastClick","$props","onClick","$emit","onToastClose","visible","addEventListener","onClose","clearTimer","timer","clearTimeout","startTimer","duration","setTimeout","mounted","components","VaIcon","emits","class","S","Y","M","N","L","key","k","_createBlock","_ctx","multiLine","_createElementVNode","style","onMouseenter","onMouseleave","role","title","i","_createElementBlock","textContent","_toDisplayString","_hoisted_1","html","innerHTML","_hoisted_3","_createVNode","_hoisted_6","closeable","size","withConfigTransport","seed","toastInstances","getNodeProps","vNode","component","proxy","computedProps","closeNotification","targetInstance","destroyElementFn","length","targetInstanceIndex","findIndex","instance","nodeProps","targetOffsetX","targetOffsetY","targetPosition","redundantHeight","el","offsetHeight","reduce","acc","index","_","transformY","transform","match","transformYNew","direction","parseInt","mount","props","children","element","app","createVNode","node","_context","appContext","document","createElement","getToastOptions","options","target","args","forEach","source","Object","prototype","hasOwnProperty","call","initNotification","toastInstance","customProps","body","appendChild","childNodes","display","id","filter","item","itemOffsetX","itemOffsetY","itemPosition","push","Notification","init","close","find","closeAll"],"sources":["../../src/components/va-toast/VaToast.vue","../../src/components/va-toast/VaToast.vue?vue&type=template&id=e50edcbc&lang.js","../../src/components/va-toast/VaToast.ts","../../src/components/va-toast/index.ts"],"sourcesContent":["<template>\n  <transition name=\"va-toast-fade\">\n    <div\n      v-show=\"visible\"\n      :class=\"['va-toast', $props.multiLine ? 'va-toast--multiline' : '', ...toastClasses]\"\n      :style=\"toastStyles\"\n      @mouseenter=\"clearTimer()\"\n      @mouseleave=\"startTimer()\"\n      @click=\"onToastClick()\"\n      role=\"alert\"\n    >\n      <div class=\"va-toast__group\">\n        <h2 v-if=\"title\" class=\"va-toast__title\" v-text=\"title\"></h2>\n\n        <div class=\"va-toast__content\" v-show=\"message\">\n          <p v-if=\"html\" v-html=\"computedMessage\"></p>\n          <p v-else v-text=\"computedMessage\"></p>\n        </div>\n\n        <div class=\"va-toast__content\" v-if=\"render\">\n          <VaToastRenderer :content=\"render\" />\n        </div>\n\n        <va-icon\n          v-if=\"closeable\"\n          size=\"small\"\n          :name=\"icon\"\n          class=\"va-toast__close-icon\"\n          @click.stop=\"onToastClose\"\n        />\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { h } from 'vue'\nimport { prop, mixins, Vue, Options } from 'vue-class-component'\nimport VaIcon from '../va-icon/VaIcon.vue'\n\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { NotificationPosition } from './types'\n\nclass ToastProps {\n  title = prop<string>({ type: String, default: '' })\n  offsetY = prop<number>({ type: Number, default: 16 })\n  offsetX = prop<number>({ type: Number, default: 16 })\n  message = prop<string | Function>({ type: [String, Function] as any, default: '' })\n  html = prop<boolean>({ type: Boolean, default: false })\n  icon = prop<string>({ type: String, default: 'close' })\n  customClass = prop<string>({ type: String, default: '' })\n  duration = prop<number>({ type: Number, default: 5000 })\n  color = prop<string>({ type: String, default: '' })\n  closeable = prop<boolean>({ type: Boolean, default: true })\n  onClose = prop<() => void>({ type: [Function, undefined] as any })\n  onClick = prop<() => void>({ type: [Function, undefined] as any })\n  multiLine = prop<boolean>({ type: Boolean, default: false })\n  position = prop<NotificationPosition>({\n    type: String as any,\n    default: 'top-right',\n    validator: (value: string) => {\n      return ['top-right', 'top-left', 'bottom-right', 'bottom-left'].includes(value)\n    },\n  })\n  render = prop<any>({ type: Function, default: undefined })\n}\n\nclass VaToastRendererProps {\n  content = prop<any>({ type: Function, default: undefined })\n}\n\nconst VaToastRendererPropsMixin = Vue.with(VaToastRendererProps)\n\n@Options({\n  name: 'VaToastRenderer',\n})\nclass VaToastRenderer extends mixins(VaToastRendererPropsMixin) {\n  render () {\n    return this.content(h)\n  }\n}\n\nconst ToastPropsMixin = Vue.with(ToastProps)\n\n@Options({\n  name: 'VaToast',\n  components: { VaIcon, VaToastRenderer },\n  emits: ['on-click', 'on-close'],\n})\nexport default class VaToast extends mixins(\n  ColorMixin,\n  ToastPropsMixin,\n) {\n  private timer: any = null\n  public visible = false\n\n  get positionX (): 'right' | 'left' {\n    return this.position.includes('right') ? 'right' : 'left'\n  }\n\n  get positionY (): 'top' | 'bottom' {\n    return this.position.includes('top') ? 'top' : 'bottom'\n  }\n\n  get toastClasses () {\n    return [this.customClass]\n  }\n\n  get toastStyles () {\n    return {\n      [this.positionY]: `${this.offsetY}px`,\n      [this.positionX]: `${this.offsetX}px`,\n      backgroundColor: this.colorComputed,\n    }\n  }\n\n  get computedMessage () {\n    return (typeof this.message === 'function') ? this.message() : this.message\n  }\n\n  destroyElement () {\n    this.$el.removeEventListener('transitionend', this.destroyElement)\n\n    // TODO: not sure if this is really needed (it doesn't work in vue3)\n    // this.$destroy() // or this.$destroy(true)\n\n    this.$el.remove() // or this.$el.parentNode?.removeChild(this.$el)\n  }\n\n  onToastClick () {\n    if (typeof this.$props.onClick === 'function') {\n      this.$props.onClick()\n      return\n    }\n    this.$emit('click')\n  }\n\n  onToastClose () {\n    this.visible = false\n    this.$el.addEventListener('transitionend', this.destroyElement)\n    if (typeof this.onClose === 'function') {\n      this.onClose()\n      return\n    }\n    this.$emit('close')\n  }\n\n  clearTimer () {\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n  }\n\n  startTimer () {\n    if (this.duration > 0) {\n      this.timer = setTimeout(() => {\n        if (this.visible) {\n          this.onToastClose()\n        }\n      }, this.duration)\n    }\n  }\n\n  mounted () {\n    this.visible = true\n    if (this.duration > 0) {\n      this.timer = setTimeout(() => {\n        if (this.visible) {\n          this.onToastClose()\n        }\n      }, this.duration)\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-toast {\n  display: flex;\n  width: $toast-width;\n  padding: $toast-padding;\n  align-items: center;\n  border-radius: $toast-radius;\n  box-sizing: border-box;\n  border: 1px solid var(--va-toast-border-color);\n  position: fixed;\n  background-color: white;\n  color: #ffffff;\n  box-shadow: $toast-shadow;\n  transition: opacity 0.3s, transform 0.3s, left 0.3s, right 0.3s, top 0.4s, bottom 0.3s;\n  overflow: hidden;\n  z-index: var(--va-toast-z-index);\n  font-family: var(--va-font-family);\n\n  &--multiline {\n    min-height: 70px;\n  }\n\n  &--right {\n    right: 16px;\n  }\n\n  &--left {\n    left: 16px;\n  }\n\n  &__group {\n    margin-left: var(--va-toast-group-margin-left);\n    margin-right: var(--va-toast-group-margin-right);\n  }\n\n  &__title {\n    font-weight: var(--va-toast-title-font-weight);\n    font-size: var(--va-toast-title-font-size);\n    color: var(--va-toast-title-color);\n    margin: var(--va-toast-title-margin);\n  }\n\n  &__content {\n    font-size: var(--va-toast-content-font-size);\n    line-height: var(--va-toast-content-line-height);\n    padding-right: var(--va-toast-content-padding-right);\n\n    p {\n      margin: 0;\n    }\n  }\n\n  &__icon {\n    height: var(--va-toast-icon-height);\n    width: var(--va-toast-icon-width);\n    font-size: var(--va-toast-icon-font-size);\n  }\n\n  &__close-icon {\n    position: absolute;\n    top: 50%;\n    right: 15px;\n    cursor: pointer;\n    transform: translateY(-50%);\n    font-size: $toast-close-font-size;\n\n    &:hover {\n      color: var(--va-toast-hover-color);\n    }\n  }\n}\n\n.va-toast-fade-enter {\n  &.right {\n    right: 0;\n    transform: translateX(100%);\n  }\n\n  &.left {\n    left: 0;\n    transform: translateX(-100%);\n  }\n}\n\n.va-toast-fade-leave-active {\n  opacity: 0;\n}\n\n</style>\n","<template>\n  <transition name=\"va-toast-fade\">\n    <div\n      v-show=\"visible\"\n      :class=\"['va-toast', $props.multiLine ? 'va-toast--multiline' : '', ...toastClasses]\"\n      :style=\"toastStyles\"\n      @mouseenter=\"clearTimer()\"\n      @mouseleave=\"startTimer()\"\n      @click=\"onToastClick()\"\n      role=\"alert\"\n    >\n      <div class=\"va-toast__group\">\n        <h2 v-if=\"title\" class=\"va-toast__title\" v-text=\"title\"></h2>\n\n        <div class=\"va-toast__content\" v-show=\"message\">\n          <p v-if=\"html\" v-html=\"computedMessage\"></p>\n          <p v-else v-text=\"computedMessage\"></p>\n        </div>\n\n        <div class=\"va-toast__content\" v-if=\"render\">\n          <VaToastRenderer :content=\"render\" />\n        </div>\n\n        <va-icon\n          v-if=\"closeable\"\n          size=\"small\"\n          :name=\"icon\"\n          class=\"va-toast__close-icon\"\n          @click.stop=\"onToastClose\"\n        />\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { h } from 'vue'\nimport { prop, mixins, Vue, Options } from 'vue-class-component'\nimport VaIcon from '../va-icon/VaIcon.vue'\n\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { NotificationPosition } from './types'\n\nclass ToastProps {\n  title = prop<string>({ type: String, default: '' })\n  offsetY = prop<number>({ type: Number, default: 16 })\n  offsetX = prop<number>({ type: Number, default: 16 })\n  message = prop<string | Function>({ type: [String, Function] as any, default: '' })\n  html = prop<boolean>({ type: Boolean, default: false })\n  icon = prop<string>({ type: String, default: 'close' })\n  customClass = prop<string>({ type: String, default: '' })\n  duration = prop<number>({ type: Number, default: 5000 })\n  color = prop<string>({ type: String, default: '' })\n  closeable = prop<boolean>({ type: Boolean, default: true })\n  onClose = prop<() => void>({ type: [Function, undefined] as any })\n  onClick = prop<() => void>({ type: [Function, undefined] as any })\n  multiLine = prop<boolean>({ type: Boolean, default: false })\n  position = prop<NotificationPosition>({\n    type: String as any,\n    default: 'top-right',\n    validator: (value: string) => {\n      return ['top-right', 'top-left', 'bottom-right', 'bottom-left'].includes(value)\n    },\n  })\n  render = prop<any>({ type: Function, default: undefined })\n}\n\nclass VaToastRendererProps {\n  content = prop<any>({ type: Function, default: undefined })\n}\n\nconst VaToastRendererPropsMixin = Vue.with(VaToastRendererProps)\n\n@Options({\n  name: 'VaToastRenderer',\n})\nclass VaToastRenderer extends mixins(VaToastRendererPropsMixin) {\n  render () {\n    return this.content(h)\n  }\n}\n\nconst ToastPropsMixin = Vue.with(ToastProps)\n\n@Options({\n  name: 'VaToast',\n  components: { VaIcon, VaToastRenderer },\n  emits: ['on-click', 'on-close'],\n})\nexport default class VaToast extends mixins(\n  ColorMixin,\n  ToastPropsMixin,\n) {\n  private timer: any = null\n  public visible = false\n\n  get positionX (): 'right' | 'left' {\n    return this.position.includes('right') ? 'right' : 'left'\n  }\n\n  get positionY (): 'top' | 'bottom' {\n    return this.position.includes('top') ? 'top' : 'bottom'\n  }\n\n  get toastClasses () {\n    return [this.customClass]\n  }\n\n  get toastStyles () {\n    return {\n      [this.positionY]: `${this.offsetY}px`,\n      [this.positionX]: `${this.offsetX}px`,\n      backgroundColor: this.colorComputed,\n    }\n  }\n\n  get computedMessage () {\n    return (typeof this.message === 'function') ? this.message() : this.message\n  }\n\n  destroyElement () {\n    this.$el.removeEventListener('transitionend', this.destroyElement)\n\n    // TODO: not sure if this is really needed (it doesn't work in vue3)\n    // this.$destroy() // or this.$destroy(true)\n\n    this.$el.remove() // or this.$el.parentNode?.removeChild(this.$el)\n  }\n\n  onToastClick () {\n    if (typeof this.$props.onClick === 'function') {\n      this.$props.onClick()\n      return\n    }\n    this.$emit('click')\n  }\n\n  onToastClose () {\n    this.visible = false\n    this.$el.addEventListener('transitionend', this.destroyElement)\n    if (typeof this.onClose === 'function') {\n      this.onClose()\n      return\n    }\n    this.$emit('close')\n  }\n\n  clearTimer () {\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n  }\n\n  startTimer () {\n    if (this.duration > 0) {\n      this.timer = setTimeout(() => {\n        if (this.visible) {\n          this.onToastClose()\n        }\n      }, this.duration)\n    }\n  }\n\n  mounted () {\n    this.visible = true\n    if (this.duration > 0) {\n      this.timer = setTimeout(() => {\n        if (this.visible) {\n          this.onToastClose()\n        }\n      }, this.duration)\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-toast {\n  display: flex;\n  width: $toast-width;\n  padding: $toast-padding;\n  align-items: center;\n  border-radius: $toast-radius;\n  box-sizing: border-box;\n  border: 1px solid var(--va-toast-border-color);\n  position: fixed;\n  background-color: white;\n  color: #ffffff;\n  box-shadow: $toast-shadow;\n  transition: opacity 0.3s, transform 0.3s, left 0.3s, right 0.3s, top 0.4s, bottom 0.3s;\n  overflow: hidden;\n  z-index: var(--va-toast-z-index);\n  font-family: var(--va-font-family);\n\n  &--multiline {\n    min-height: 70px;\n  }\n\n  &--right {\n    right: 16px;\n  }\n\n  &--left {\n    left: 16px;\n  }\n\n  &__group {\n    margin-left: var(--va-toast-group-margin-left);\n    margin-right: var(--va-toast-group-margin-right);\n  }\n\n  &__title {\n    font-weight: var(--va-toast-title-font-weight);\n    font-size: var(--va-toast-title-font-size);\n    color: var(--va-toast-title-color);\n    margin: var(--va-toast-title-margin);\n  }\n\n  &__content {\n    font-size: var(--va-toast-content-font-size);\n    line-height: var(--va-toast-content-line-height);\n    padding-right: var(--va-toast-content-padding-right);\n\n    p {\n      margin: 0;\n    }\n  }\n\n  &__icon {\n    height: var(--va-toast-icon-height);\n    width: var(--va-toast-icon-width);\n    font-size: var(--va-toast-icon-font-size);\n  }\n\n  &__close-icon {\n    position: absolute;\n    top: 50%;\n    right: 15px;\n    cursor: pointer;\n    transform: translateY(-50%);\n    font-size: $toast-close-font-size;\n\n    &:hover {\n      color: var(--va-toast-hover-color);\n    }\n  }\n}\n\n.va-toast-fade-enter {\n  &.right {\n    right: 0;\n    transform: translateX(100%);\n  }\n\n  &.left {\n    left: 0;\n    transform: translateX(-100%);\n  }\n}\n\n.va-toast-fade-leave-active {\n  opacity: 0;\n}\n\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\n\nimport VaToast from './VaToast.vue'\n\nexport default withConfigTransport(VaToast)\n","import VaToast from './VaToast'\nimport { NotificationOptions } from './types'\nimport { VNode, App, createVNode, render } from 'vue'\n\nconst GAP = 5\nlet seed = 1\n\nlet toastInstances: VNode[] = []\n\ntype OptionKeys = keyof NotificationOptions;\n\nconst merge = (target: NotificationOptions | any, ...args: NotificationOptions[]): NotificationOptions => {\n  args.forEach((source) => {\n    if (typeof source !== 'object') {\n      return\n    }\n    for (const prop in source) {\n      if (Object.prototype.hasOwnProperty.call(source, prop)) {\n        const value = source[prop as OptionKeys]\n        if (value !== undefined) {\n          target[prop] = value\n        }\n      }\n    }\n  })\n  return target\n}\n\nconst getTranslateValue = (item: VNode, position: string) => {\n  if (item.el) {\n    const direction = position.includes('bottom') ? -1 : 1\n    return (item.el.offsetHeight + GAP) * direction\n  }\n  return 0\n}\n\nconst getNewTranslateValue = (transformY: string, redundantHeight: number, position: string) => {\n  const direction = position.includes('bottom') ? -1 : 1\n  return parseInt(transformY, 10) - (redundantHeight + GAP) * direction\n}\n\nconst getNodeProps = (vNode: VNode) => {\n  // Here we assume that vNode is a `withConfigTransport` wrapped component\n  // so we can derive computedProps from it\n\n  // @ts-ignore\n  return vNode.component?.proxy?.computedProps as Record<OptionKeys, any>\n}\n\nconst closeNotification = (targetInstance: VNode | null, destroyElementFn: () => void) => {\n  if (!targetInstance) {\n    return\n  }\n\n  if (!toastInstances.length) {\n    seed = 1\n    return\n  }\n  const targetInstanceIndex = toastInstances.findIndex((instance) => instance === targetInstance)\n\n  if (targetInstanceIndex < 0) {\n    return\n  }\n\n  const nodeProps = getNodeProps(targetInstance)\n\n  const {\n    offsetX: targetOffsetX,\n    offsetY: targetOffsetY,\n    position: targetPosition,\n  } = nodeProps\n  const redundantHeight: number | null = targetInstance.el?.offsetHeight\n\n  destroyElementFn()\n\n  toastInstances = toastInstances.reduce((acc: any[], instance, index) => {\n    if (instance === targetInstance) {\n      return acc\n    }\n    if (instance.component) {\n      const { offsetX, offsetY, position } = getNodeProps(instance)\n      const isNextInstance = index > targetInstanceIndex && targetOffsetX === offsetX && targetOffsetY === offsetY && targetPosition === position\n      if (isNextInstance && instance.el && redundantHeight) {\n        const [_, transformY] = instance.el.style.transform.match(/[\\d-]+(?=px)/g)\n        const transformYNew = getNewTranslateValue(transformY, redundantHeight, position)\n        instance.el.style.transform = `translate(0, ${transformYNew}px)`\n      }\n    }\n    return [...acc, instance]\n  }, [])\n\n  if (!toastInstances.length) {\n    seed = 1\n  }\n}\n\nconst destroy = (el: HTMLElement | null | undefined, node: VNode | null) => {\n  if (el) {\n    render(null, el)\n    el.remove()\n  }\n  el = null\n  node = null\n}\n\nconst mount = (component: any, {\n  props,\n  children,\n  element,\n  app,\n}: { props?: { [key: string]: any }; children?: any; element?: HTMLElement; app?: App } = {}): { vNode: VNode; el?: HTMLElement } => {\n  let el: HTMLElement | null | undefined = element\n\n  // eslint-disable-next-line prefer-const\n  let vNode: VNode | null\n\n  const onClose = () => {\n    closeNotification(vNode, () => destroy(el, vNode))\n\n    if (props?.onClose) {\n      props.onClose()\n    }\n  }\n\n  vNode = createVNode(component, { ...props, onClose }, children)\n\n  if (app?._context) {\n    vNode.appContext = app._context\n  }\n  if (el) {\n    render(vNode, el)\n  } else if (typeof document !== 'undefined') {\n    render(vNode, el = document.createElement('div'))\n  }\n\n  return { vNode, el }\n}\n\nconst closeAllNotifications = () => {\n  if (!toastInstances.length) {\n    seed = 1\n    return\n  }\n  toastInstances.forEach(instance => getNodeProps(instance).onClose())\n}\n\nconst closeById = (id: string) => {\n  const targetInstance = toastInstances.find(instance => instance.el?.id === id)\n\n  if (targetInstance) {\n    const nodeProps = getNodeProps(targetInstance)\n    nodeProps.onClose()\n  }\n}\n\nconst createToastInstance = (customProps: NotificationOptions, app: App): VNode | null => {\n  const { vNode, el } = mount(VaToast, { app, props: customProps })\n\n  const nodeProps = getNodeProps(vNode)\n\n  if (el && vNode.el && nodeProps) {\n    document.body.appendChild(el.childNodes[0])\n    const { offsetX, offsetY, position } = nodeProps\n\n    vNode.el.style.display = 'flex'\n    vNode.el.id = 'notification_' + seed\n\n    let transformY = 0\n    toastInstances.filter(item => {\n      const {\n        offsetX: itemOffsetX,\n        offsetY: itemOffsetY,\n        position: itemPosition,\n      } = getNodeProps(item)\n\n      return itemOffsetX === offsetX && itemOffsetY === offsetY && position === itemPosition\n    }).forEach((item) => {\n      transformY += getTranslateValue(item, position)\n    })\n    vNode.el.style.transform = `translate(0, ${transformY}px)`\n\n    seed += 1\n    return vNode\n  }\n  return null\n}\n\nconst getToastOptions = (options: string | NotificationOptions): any => {\n  if (typeof options === 'string') {\n    options = {\n      message: options,\n    }\n  }\n  return merge({}, options)\n}\n\nconst initNotification = (options: NotificationOptions | string, app: App) => {\n  const toastInstance = createToastInstance(getToastOptions(options), app)\n  if (toastInstance) {\n    toastInstances.push(toastInstance)\n  }\n  return toastInstance\n}\n\nclass Notification {\n  app: App;\n\n  constructor (app: App) {\n    this.app = app\n  }\n\n  init (options: NotificationOptions) {\n    return initNotification(options, this.app)?.el?.id as null | string\n  }\n\n  close (id: string) {\n    closeById(id)\n  }\n\n  closeAll () {\n    closeAllNotifications()\n  }\n}\n\nexport default Notification\n"]},"metadata":{},"sourceType":"module"}