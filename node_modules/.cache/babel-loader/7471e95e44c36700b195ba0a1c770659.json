{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { w as e } from \"./withConfigTransport.js\";\nimport { ref as t, onMounted as a, onBeforeUnmount as o, computed as r, getCurrentInstance as n, defineComponent as i, watch as l, resolveComponent as u, openBlock as s, createElementBlock as m, withKeys as p, renderSlot as v, createVNode as d, normalizeStyle as c, toDisplayString as g, normalizeClass as f, createElementVNode as b, Fragment as y, renderList as V, createBlock as C, mergeProps as L, createSlots as _, withCtx as I, createCommentVNode as x } from \"vue\";\nimport { c as h } from \"./clamp.js\";\nimport { u as M, a as w } from \"./useStateful.js\";\nimport { u as k } from \"./color-config.js\";\nimport { u as E, a as N } from \"./useForm.js\";\nimport { f as F, e as R } from \"./child-props.js\";\nimport { u as j } from \"./useSyncProp.js\";\nimport z from \"./index28.js\";\nimport { s as U } from \"./style-inject.es.js\";\nimport { u as H, a as P } from \"./useSize.js\";\nimport \"./VaConfig.js\";\nimport \"./toNumber.js\";\nimport \"colortranslator\";\nimport \"./VaIcon.js\";\nimport \"./flatten.js\";\nvar $;\n!function (e) {\n  e[e.EMPTY = 0] = \"EMPTY\", e[e.HALF = .5] = \"HALF\", e[e.FULL = 1] = \"FULL\";\n}($ || ($ = {}));\n\nconst S = { ...M,\n  modelValue: {\n    type: Number,\n    default: 0\n  },\n  clearable: {\n    type: Boolean,\n    default: !1\n  },\n  hover: {\n    type: Boolean,\n    default: !1\n  }\n},\n      useRating = e => {\n  const {\n    emit: i\n  } = (() => {\n    const e = n();\n    if (!e) throw new Error(\"useRating hooks must be used on top of setup function\");\n    return {\n      props: e.props,\n      emit: e.emit\n    };\n  })(),\n        {\n    isHovered: l,\n    onMouseEnter: u,\n    onMouseLeave: s\n  } = function useHover(e) {\n    const r = t(!1),\n          onMouseEnter = () => {\n      r.value = !0;\n    },\n          onMouseLeave = () => {\n      r.value = !1;\n    };\n\n    return e && (a(() => {\n      var t, a;\n      null === (t = e.value) || void 0 === t || t.addEventListener(\"mouseenter\", onMouseEnter), null === (a = e.value) || void 0 === a || a.addEventListener(\"mouseleave\", onMouseLeave);\n    }), o(() => {\n      var t, a;\n      null === (t = e.value) || void 0 === t || t.removeEventListener(\"mouseover\", onMouseEnter), null === (a = e.value) || void 0 === a || a.removeEventListener(\"mouseleave\", onMouseLeave);\n    })), {\n      isHovered: r,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    };\n  }(),\n        {\n    valueComputed: m\n  } = w(e, i),\n        p = t(0),\n        v = r(() => e.hover && l.value ? p.value : m.value);\n\n  return {\n    visibleValue: v,\n    modelValue: m,\n    hoveredValue: p,\n    isHovered: l,\n    onMouseEnter: u,\n    onMouseLeave: s,\n    onItemValueUpdate: (t, a) => {\n      const o = t + a;\n      e.clearable && m.value === o ? m.value = 0 : m.value = o;\n    },\n    onItemHoveredValueUpdate: (t, a) => {\n      e.hover && (p.value = t + a);\n    },\n    getItemValue: e => {\n      const t = v.value - e;\n      return h(t, $.EMPTY, $.FULL);\n    }\n  };\n},\n      B = {\n  unselectedColor: {\n    type: String\n  },\n  color: {\n    type: String,\n    default: \"primary\"\n  },\n  modelValue: {\n    type: Number\n  }\n},\n      useVaRatingColors = e => {\n  const {\n    getColor: t,\n    getFocusColor: a,\n    getTextColor: o\n  } = k(),\n        n = r(() => t(e.color)),\n        i = r(() => e.unselectedColor ? t(e.unselectedColor) : a(t(e.color))),\n        l = r(() => e.modelValue === $.HALF ? `linear-gradient(90deg, ${n.value} 50%, ${i.value} 50%` : e.modelValue === $.EMPTY ? i.value : n.value),\n        u = r(() => e.modelValue === $.FULL ? o(n.value) : o(i.value));\n  return {\n    computedColor: n,\n    backgroundComputed: l,\n    textColorComputed: u\n  };\n};\n\nvar A = i({\n  name: \"VaRatingItem\",\n  components: {\n    VaIcon: z\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    icon: {\n      type: String,\n      default: \"star\"\n    },\n    halfIcon: {\n      type: String,\n      default: \"star_half\"\n    },\n    emptyIcon: {\n      type: String,\n      default: \"star_outline\"\n    },\n    halves: {\n      type: Boolean,\n      default: !1\n    },\n    hover: {\n      type: Boolean,\n      default: !1\n    },\n    tabindex: {\n      type: Number,\n      default: 1\n    },\n    size: {\n      type: [String, Number],\n      default: \"medium\"\n    },\n    emptyIconColor: {\n      type: String\n    },\n    color: {\n      type: String,\n      default: \"primary\"\n    }\n  },\n  emits: [\"update:modelValue\", \"click\", \"hover\"],\n\n  setup(e, {\n    emit: a\n  }) {\n    const o = t(),\n          [n] = j(\"modelValue\", e, a, $.EMPTY),\n          i = t(null),\n          u = r(() => e.hover && i.value || n.value);\n    return l(i, () => a(\"hover\", i.value || $.EMPTY)), { ...k(),\n      rootEl: o,\n      onEnter: () => {\n        n.value = 1;\n      },\n      onClick: () => {\n        n.value = i.value || $.FULL, a(\"click\", i.value || $.FULL);\n      },\n      onMouseMove: t => {\n        if (!o.value) return;\n        const {\n          offsetX: a\n        } = t,\n              r = o.value.clientWidth;\n        e.halves ? i.value = a / r <= $.HALF ? $.HALF : $.FULL : i.value = $.FULL;\n      },\n      onMouseLeave: () => {\n        i.value = null;\n      },\n      visibleValue: u,\n      computedIconName: r(() => e.halves && u.value === $.HALF ? e.halfIcon : u.value === $.EMPTY ? e.emptyIcon : e.icon)\n    };\n  }\n\n});\nconst T = [\"tabindex\"];\nU(\".va-rating-item{display:inline-block}.va-rating-item:focus{transform:scale(1.1)}.va-rating-item__wrapper{background-color:transparent;border-style:none;font-size:100%;overflow:visible;padding:0;text-transform:none}\"), A.render = function render$2(e, t, a, o, r, n) {\n  const i = u(\"va-icon\");\n  return s(), m(\"div\", {\n    ref: \"rootEl\",\n    class: \"va-rating-item\",\n    tabindex: e.$props.tabindex,\n    onKeyup: t[0] || (t[0] = p((...t) => e.onClick && e.onClick(...t), [\"enter\"])),\n    onMousemove: t[1] || (t[1] = (...t) => e.onMouseMove && e.onMouseMove(...t)),\n    onMouseleave: t[2] || (t[2] = (...t) => e.onMouseLeave && e.onMouseLeave(...t))\n  }, [v(e.$slots, \"default\", {\n    props: {\n      value: e.visibleValue,\n      onClick: e.onClick\n    }\n  }, () => [d(i, {\n    class: \"va-rating-item__wrapper\",\n    tabindex: \"-1\",\n    tag: \"button\",\n    name: e.computedIconName,\n    size: e.$props.size,\n    color: e.getColor(e.$props.color),\n    onClick: e.onClick\n  }, null, 8, [\"name\", \"size\", \"color\", \"onClick\"])])], 40, T);\n}, A.__file = \"src/components/va-rating/components/VaRatingItem/VaRatingItem.vue\";\nvar Y = i({\n  name: \"VaRatingItemNumberButton\",\n  props: { ...B,\n    ...H,\n    itemNumber: {\n      type: Number,\n      required: !0\n    },\n    modelValue: {\n      type: Number,\n      required: !0\n    }\n  },\n  setup: e => ({ ...useVaRatingColors(e),\n    ...P(e, \"VaRating\")\n  })\n});\nY.render = function render$1(e, t, a, o, r, n) {\n  return s(), m(\"button\", {\n    class: \"va-rating__number-item\",\n    tabindex: \"-1\",\n    style: c({\n      background: e.backgroundComputed,\n      color: e.textColorComputed,\n      width: e.sizeComputed,\n      height: e.sizeComputed,\n      fontSize: e.fontSizeComputed,\n      borderRadius: .125 * parseInt(e.fontSizeComputed) + \"rem\"\n    })\n  }, g(e.itemNumber), 5);\n}, Y.__file = \"src/components/va-rating/components/VaRatingItemNumberButton.vue\";\nconst K = R(A, [\"unselectedColor\"]),\n      q = R(Y, [\"modelValue\", \"itemNumber\"]);\nvar W = i({\n  name: \"VaRating\",\n  props: { ...S,\n    ...B,\n    ...E,\n    ...K,\n    ...q,\n    numbers: {\n      type: Boolean,\n      default: !1\n    },\n    halves: {\n      type: Boolean,\n      default: !1\n    },\n    max: {\n      type: Number,\n      default: 5\n    },\n    texts: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: [\"update:modelValue\"],\n  components: {\n    VaRatingItem: A,\n    VaRatingItemNumberButton: Y\n  },\n\n  setup(e) {\n    const {\n      createComputedClass: t\n    } = N(e),\n          a = useRating(e),\n          o = r(() => !e.disabled && !e.readonly);\n    return { ...useVaRatingColors(e),\n      ...a,\n      rootClass: t(\"va-rating\"),\n      VaRatingItemProps: F(e, K),\n      VaRatingItemNumberButtonProps: F(e, q),\n      isInteractionsEnabled: o,\n      tabindex: r(() => o.value ? 0 : void 0),\n      onArrowKeyPress: t => {\n        const o = e.halves ? $.HALF : $.FULL;\n        a.onItemValueUpdate(a.visibleValue.value, o * t);\n      }\n    };\n  }\n\n});\nU(\":root{--va-rating-display:flex;--va-rating-number-item-font-size:inherit;--va-rating-number-item-margin:0.1em;--va-rating-number-item-font-weight:700;--va-rating-number-item-cursor:pointer;--va-rating-item-wrapper-display:flex;--va-rating-item-wrapper-cursor:pointer;--va-rating-item-display:flex}.va-rating{display:var(--va-rating-display);font-family:var(--va-font-family)}.va-rating__number-item{align-items:center;background-color:transparent;border-style:none;cursor:pointer;display:flex;font-size:100%;font-size:var(--va-rating-number-item-font-size);font-weight:var(--va-rating-number-item-font-weight);justify-content:center;margin:var(--va-rating-number-item-margin);overflow:visible;padding:0;text-transform:none}.va-rating--disabled .va-rating__number-item{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-rating--readonly .va-rating__number-item{cursor:default}.va-rating__item-wrapper{cursor:var(--va-rating-item-wrapper-cursor);display:var(--va-rating-item-wrapper-display)}.va-rating--disabled .va-rating__item-wrapper,.va-rating--readonly .va-rating__item-wrapper{cursor:default}.va-rating-item{align-items:center;display:var(--va-rating-item-display);display:flex;justify-content:center}.va-rating--disabled .va-rating-item{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-rating--disabled .va-rating-item__wrapper,.va-rating--readonly .va-rating-item .va-rating-item__wrapper{cursor:auto!important}.va-rating__text-wrapper{padding-left:10px}\"), W.render = function render(e, t, a, o, r, n) {\n  const i = u(\"VaRatingItemNumberButton\"),\n        l = u(\"va-rating-item\");\n  return s(), m(\"div\", {\n    class: f([\"va-rating\", e.rootClass])\n  }, [b(\"div\", {\n    onKeyup: [t[0] || (t[0] = p(t => e.onArrowKeyPress(-1), [\"left\"])), t[1] || (t[1] = p(t => e.onArrowKeyPress(1), [\"right\"]))],\n    onMouseenter: t[2] || (t[2] = t => e.onMouseEnter()),\n    onMouseleave: t[3] || (t[3] = (...t) => e.onMouseLeave && e.onMouseLeave(...t)),\n    class: \"va-rating__item-wrapper\"\n  }, [(s(!0), m(y, null, V(e.$props.max, t => (s(), C(l, L(e.VaRatingItemProps, {\n    \"model-value\": e.getItemValue(t - 1),\n    key: t,\n    \"empty-icon-color\": e.$props.unselectedColor,\n    tabindex: e.tabindex,\n    onHover: a => e.isInteractionsEnabled && e.onItemHoveredValueUpdate(t - 1, a),\n    \"onUpdate:modelValue\": a => e.isInteractionsEnabled && e.onItemValueUpdate(t - 1, a)\n  }), _({\n    _: 2\n  }, [e.$props.numbers ? {\n    name: \"default\",\n    fn: I(({\n      props: a\n    }) => [d(i, L(e.VaRatingItemNumberButtonProps, {\n      \"model-value\": a.value,\n      \"item-number\": t,\n      onClick: a.onClick\n    }), null, 16, [\"model-value\", \"item-number\", \"onClick\"])])\n  } : void 0]), 1040, [\"model-value\", \"empty-icon-color\", \"tabindex\", \"onHover\", \"onUpdate:modelValue\"]))), 128))], 32), e.$props.texts && e.$props.texts.length === e.$props.max ? (s(), m(\"span\", {\n    key: 0,\n    class: \"va-rating__text-wrapper\",\n    style: c({\n      color: e.computedColor\n    })\n  }, g(e.$props.texts[Math.round(e.visibleValue) - 1]), 5)) : x(\"v-if\", !0)], 2);\n}, W.__file = \"src/components/va-rating/VaRating.vue\";\nvar X = e(A),\n    D = e(W);\nexport { X as VaRatingItem, D as default };","map":{"version":3,"mappings":"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","names":["RatingValue","useRatingProps","useStatefulProps","modelValue","type","Number","default","clearable","Boolean","hover","useRating","props","emit","instance","getCurrentInstance","Error","getContext","isHovered","onMouseEnter","onMouseLeave","useHover","el","ref","value","onMounted","addEventListener","onBeforeUnmount","removeEventListener","valueComputed","useStateful","hoveredValue","visibleValue","computed","onItemValueUpdate","itemIndex","newValue","newModelValue","onItemHoveredValueUpdate","getItemValue","itemValue","clamp","EMPTY","FULL","useVaRatingColorsProps","unselectedColor","String","color","useVaRatingColors","getColor","getFocusColor","getTextColor","useColors","computedColor","backgroundColor","backgroundComputed","HALF","textColorComputed","defineComponent","name","components","VaIcon","icon","halfIcon","emptyIcon","halves","tabindex","size","emptyIconColor","emits","setup","rootEl","useSyncProp","watch","onEnter","onClick","onMouseMove","ev","offsetX","iconWidth","clientWidth","computedIconName","_createElementBlock","class","_ctx","onKeyup","onMousemove","onMouseleave","_renderSlot","_createVNode","tag","useSizeProps","itemNumber","required","useSize","Y","style","VaRatingItemProps","extractComponentProps","VaRatingItem","VaRatingItemNumberButtonProps","VaRatingItemNumberButton","useFormProps","numbers","max","texts","Array","createComputedClass","useForm","rating","isInteractionsEnabled","disabled","readonly","rootClass","filterComponentProps","undefined","onArrowKeyPress","direction","step","o","_createElementVNode","onMouseenter","_createBlock","_mergeProps","key","onHover","$event","fn","length","Math","round","withConfigTransport","VaRating"],"sources":["../../src/components/va-rating/types/index.ts","../../src/components/va-rating/hooks/useRating.ts","../../src/composables/useHover.ts","../../src/components/va-rating/hooks/useVaRatingColors.ts","../../src/components/va-rating/components/VaRatingItem/VaRatingItem.vue","../../src/components/va-rating/components/VaRatingItem/VaRatingItem.vue?vue&type=template&id=030c47f6&lang.js","../../src/components/va-rating/components/VaRatingItemNumberButton.vue","../../src/components/va-rating/components/VaRatingItemNumberButton.vue?vue&type=template&id=08e7d55f&lang.js","../../src/components/va-rating/VaRating.vue","../../src/components/va-rating/VaRating.vue?vue&type=template&id=10f2d130&lang.js","../../src/components/va-rating/components/VaRatingItem/index.ts","../../src/components/va-rating/index.ts"],"sourcesContent":["export enum RatingValue {\n  EMPTY = 0,\n  HALF = 0.5,\n  FULL = 1\n}\n","import clamp from 'lodash/clamp'\nimport { useHover } from '../../../composables/useHover'\nimport { ref, getCurrentInstance, computed, ExtractPropTypes } from 'vue'\nimport { useStateful, useStatefulProps } from '../../../composables/useStateful'\nimport { RatingValue } from '../types'\n\nconst getContext = <P extends Record<string, any> = Record<string, any>, E extends string = string>() => {\n  const instance = getCurrentInstance()\n  if (!instance) { throw new Error('useRating hooks must be used on top of setup function') }\n  return {\n    props: instance.props,\n    emit: instance.emit,\n  } as {\n    props: P,\n    emit: (event: E, ...args: any[]) => void\n  }\n}\n\nexport const useRatingProps = {\n  ...useStatefulProps,\n  modelValue: { type: Number, default: 0 },\n  clearable: { type: Boolean, default: false },\n  hover: { type: Boolean, default: false },\n}\n\nexport const useRating = (props: ExtractPropTypes<typeof useRatingProps>) => {\n  const { emit } = getContext()\n  const { isHovered, onMouseEnter, onMouseLeave } = useHover()\n  const { valueComputed: modelValue } = useStateful(props, emit)\n\n  const hoveredValue = ref(0)\n\n  const visibleValue = computed(() => props.hover && isHovered.value ? hoveredValue.value : modelValue.value)\n\n  const onItemValueUpdate = (itemIndex: number, newValue: number) => {\n    const newModelValue = itemIndex + newValue\n    if (props.clearable) {\n      if (modelValue.value === newModelValue) {\n        modelValue.value = 0\n        return\n      }\n    }\n    modelValue.value = newModelValue\n  }\n\n  const onItemHoveredValueUpdate = (itemIndex: number, newValue: number) => {\n    if (!props.hover) { return }\n    hoveredValue.value = itemIndex + newValue\n  }\n\n  const getItemValue = (itemIndex: number) => {\n    const itemValue = visibleValue.value - itemIndex\n    return clamp(itemValue, RatingValue.EMPTY, RatingValue.FULL)\n  }\n\n  return {\n    visibleValue,\n    modelValue,\n    hoveredValue,\n    isHovered,\n    onMouseEnter,\n    onMouseLeave,\n    onItemValueUpdate,\n    onItemHoveredValueUpdate,\n    getItemValue,\n  }\n}\n","import { ref, onMounted, onBeforeUnmount, Ref } from 'vue'\n\nexport function useHover (el?: Ref<HTMLElement | null | undefined>) {\n  const isHovered = ref(false)\n\n  const onMouseEnter = () => { isHovered.value = true }\n  const onMouseLeave = () => { isHovered.value = false }\n\n  if (el) {\n    onMounted(() => {\n      el.value?.addEventListener('mouseenter', onMouseEnter)\n      el.value?.addEventListener('mouseleave', onMouseLeave)\n    })\n    onBeforeUnmount(() => {\n      el.value?.removeEventListener('mouseover', onMouseEnter)\n      el.value?.removeEventListener('mouseleave', onMouseLeave)\n    })\n  }\n\n  return {\n    isHovered,\n    onMouseEnter,\n    onMouseLeave,\n  }\n}\n","import { computed, ExtractPropTypes } from 'vue'\nimport { useColors } from '../../../services/color-config/color-config'\nimport { RatingValue } from '../types'\n\nexport const useVaRatingColorsProps = {\n  unselectedColor: { type: String },\n  color: { type: String, default: 'primary' },\n  modelValue: { type: Number },\n}\n\nexport const useVaRatingColors = (props: ExtractPropTypes<typeof useVaRatingColorsProps>) => {\n  const { getColor, getFocusColor, getTextColor } = useColors()\n\n  const computedColor = computed(() => getColor(props.color))\n\n  const backgroundColor = computed(() => {\n    if (props.unselectedColor) { return getColor(props.unselectedColor) }\n\n    return getFocusColor(getColor(props.color))\n  })\n\n  const backgroundComputed = computed(() => {\n    if (props.modelValue === RatingValue.HALF) {\n      return `linear-gradient(90deg, ${computedColor.value} 50%, ${backgroundColor.value} 50%`\n    }\n\n    if (props.modelValue === RatingValue.EMPTY) {\n      return backgroundColor.value\n    }\n\n    return computedColor.value\n  })\n\n  const textColorComputed = computed(() => {\n    if (props.modelValue === RatingValue.FULL) {\n      return getTextColor(computedColor.value)\n    }\n\n    return getTextColor(backgroundColor.value)\n  })\n\n  return {\n    computedColor,\n    backgroundComputed,\n    textColorComputed,\n  }\n}\n","<template>\n  <div\n    ref=\"rootEl\"\n    class=\"va-rating-item\"\n    :tabindex=\"$props.tabindex\"\n    @keyup.enter=\"onClick\"\n    @mousemove=\"onMouseMove\"\n    @mouseleave=\"onMouseLeave\"\n  >\n    <slot :props=\"{\n      value: visibleValue, onClick\n    }\">\n      <va-icon\n        class=\"va-rating-item__wrapper\"\n        tabindex=\"-1\"\n        tag=\"button\"\n        :name=\"computedIconName\"\n        :size=\"$props.size\"\n        :color=\"getColor($props.color)\"\n        @click=\"onClick\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { useColors } from '../../../../services/color-config/color-config'\nimport { useSyncProp } from '../../../../composables/useSyncProp'\nimport VaIcon from '../../../va-icon'\nimport { RatingValue } from '../../types'\n\nexport default defineComponent({\n  name: 'VaRatingItem',\n\n  components: { VaIcon },\n\n  props: {\n    modelValue: { type: Number, default: 0 },\n    icon: { type: String, default: 'star' },\n    halfIcon: { type: String, default: 'star_half' },\n    emptyIcon: { type: String, default: 'star_outline' },\n    halves: { type: Boolean, default: false },\n    hover: { type: Boolean, default: false },\n    tabindex: { type: Number, default: 1 },\n    size: { type: [String, Number], default: 'medium' },\n    emptyIconColor: { type: String },\n    color: { type: String, default: 'primary' },\n  },\n\n  emits: ['update:modelValue', 'click', 'hover'],\n\n  setup (props, { emit }) {\n    const rootEl = ref<HTMLElement>()\n    const [modelValue] = useSyncProp('modelValue', props, emit, RatingValue.EMPTY)\n    const hoveredValue = ref<number | null>(null)\n\n    const visibleValue = computed(() => {\n      if (props.hover) {\n        return hoveredValue.value || modelValue.value\n      }\n      return modelValue.value\n    })\n\n    const onMouseMove = (ev: MouseEvent) => {\n      if (!rootEl.value) { return }\n      const { offsetX } = ev\n      const iconWidth = rootEl.value.clientWidth\n\n      if (props.halves) {\n        hoveredValue.value = offsetX / iconWidth <= RatingValue.HALF ? RatingValue.HALF : RatingValue.FULL\n      } else {\n        hoveredValue.value = RatingValue.FULL\n      }\n    }\n\n    const onMouseLeave = () => {\n      hoveredValue.value = null\n    }\n\n    const onEnter = () => {\n      modelValue.value = 1\n    }\n\n    const onClick = () => {\n      modelValue.value = hoveredValue.value || RatingValue.FULL\n      emit('click', hoveredValue.value || RatingValue.FULL)\n    }\n\n    watch(hoveredValue, () => emit('hover', hoveredValue.value || RatingValue.EMPTY))\n\n    return {\n      ...useColors(),\n      rootEl,\n      onEnter,\n      onClick,\n      onMouseMove,\n      onMouseLeave,\n      visibleValue,\n      computedIconName: computed(() => {\n        if (props.halves && visibleValue.value === RatingValue.HALF) {\n          return props.halfIcon\n        }\n        if (visibleValue.value === RatingValue.EMPTY) {\n          return props.emptyIcon\n        }\n\n        return props.icon\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../styles/resources\";\n\n.va-rating-item {\n  display: inline-block;\n\n  &:focus {\n    transform: scale(1.1);\n  }\n\n  &__wrapper {\n    @include normalize-button();\n  }\n}\n</style>\n","<template>\n  <div\n    ref=\"rootEl\"\n    class=\"va-rating-item\"\n    :tabindex=\"$props.tabindex\"\n    @keyup.enter=\"onClick\"\n    @mousemove=\"onMouseMove\"\n    @mouseleave=\"onMouseLeave\"\n  >\n    <slot :props=\"{\n      value: visibleValue, onClick\n    }\">\n      <va-icon\n        class=\"va-rating-item__wrapper\"\n        tabindex=\"-1\"\n        tag=\"button\"\n        :name=\"computedIconName\"\n        :size=\"$props.size\"\n        :color=\"getColor($props.color)\"\n        @click=\"onClick\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { useColors } from '../../../../services/color-config/color-config'\nimport { useSyncProp } from '../../../../composables/useSyncProp'\nimport VaIcon from '../../../va-icon'\nimport { RatingValue } from '../../types'\n\nexport default defineComponent({\n  name: 'VaRatingItem',\n\n  components: { VaIcon },\n\n  props: {\n    modelValue: { type: Number, default: 0 },\n    icon: { type: String, default: 'star' },\n    halfIcon: { type: String, default: 'star_half' },\n    emptyIcon: { type: String, default: 'star_outline' },\n    halves: { type: Boolean, default: false },\n    hover: { type: Boolean, default: false },\n    tabindex: { type: Number, default: 1 },\n    size: { type: [String, Number], default: 'medium' },\n    emptyIconColor: { type: String },\n    color: { type: String, default: 'primary' },\n  },\n\n  emits: ['update:modelValue', 'click', 'hover'],\n\n  setup (props, { emit }) {\n    const rootEl = ref<HTMLElement>()\n    const [modelValue] = useSyncProp('modelValue', props, emit, RatingValue.EMPTY)\n    const hoveredValue = ref<number | null>(null)\n\n    const visibleValue = computed(() => {\n      if (props.hover) {\n        return hoveredValue.value || modelValue.value\n      }\n      return modelValue.value\n    })\n\n    const onMouseMove = (ev: MouseEvent) => {\n      if (!rootEl.value) { return }\n      const { offsetX } = ev\n      const iconWidth = rootEl.value.clientWidth\n\n      if (props.halves) {\n        hoveredValue.value = offsetX / iconWidth <= RatingValue.HALF ? RatingValue.HALF : RatingValue.FULL\n      } else {\n        hoveredValue.value = RatingValue.FULL\n      }\n    }\n\n    const onMouseLeave = () => {\n      hoveredValue.value = null\n    }\n\n    const onEnter = () => {\n      modelValue.value = 1\n    }\n\n    const onClick = () => {\n      modelValue.value = hoveredValue.value || RatingValue.FULL\n      emit('click', hoveredValue.value || RatingValue.FULL)\n    }\n\n    watch(hoveredValue, () => emit('hover', hoveredValue.value || RatingValue.EMPTY))\n\n    return {\n      ...useColors(),\n      rootEl,\n      onEnter,\n      onClick,\n      onMouseMove,\n      onMouseLeave,\n      visibleValue,\n      computedIconName: computed(() => {\n        if (props.halves && visibleValue.value === RatingValue.HALF) {\n          return props.halfIcon\n        }\n        if (visibleValue.value === RatingValue.EMPTY) {\n          return props.emptyIcon\n        }\n\n        return props.icon\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../styles/resources\";\n\n.va-rating-item {\n  display: inline-block;\n\n  &:focus {\n    transform: scale(1.1);\n  }\n\n  &__wrapper {\n    @include normalize-button();\n  }\n}\n</style>\n","<template>\n  <button\n    class=\"va-rating__number-item\"\n    tabindex=\"-1\"\n    :style=\"{\n      background: backgroundComputed,\n      color: textColorComputed,\n      width: sizeComputed,\n      height: sizeComputed,\n      fontSize: fontSizeComputed,\n      borderRadius: `${parseInt(fontSizeComputed) * 0.125}rem`,\n    }\"\n  >\n    {{ itemNumber }}\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useVaRatingColorsProps, useVaRatingColors } from '../hooks/useVaRatingColors'\nimport { useSize, useSizeProps } from '../../../composables/useSize'\n\nexport default defineComponent({\n  name: 'VaRatingItemNumberButton',\n\n  props: {\n    ...useVaRatingColorsProps,\n    ...useSizeProps,\n    itemNumber: { type: Number, required: true },\n    modelValue: { type: Number, required: true },\n  },\n\n  setup (props) {\n    return {\n      ...useVaRatingColors(props),\n      ...useSize(props, 'VaRating'),\n    }\n  },\n})\n</script>\n","<template>\n  <button\n    class=\"va-rating__number-item\"\n    tabindex=\"-1\"\n    :style=\"{\n      background: backgroundComputed,\n      color: textColorComputed,\n      width: sizeComputed,\n      height: sizeComputed,\n      fontSize: fontSizeComputed,\n      borderRadius: `${parseInt(fontSizeComputed) * 0.125}rem`,\n    }\"\n  >\n    {{ itemNumber }}\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useVaRatingColorsProps, useVaRatingColors } from '../hooks/useVaRatingColors'\nimport { useSize, useSizeProps } from '../../../composables/useSize'\n\nexport default defineComponent({\n  name: 'VaRatingItemNumberButton',\n\n  props: {\n    ...useVaRatingColorsProps,\n    ...useSizeProps,\n    itemNumber: { type: Number, required: true },\n    modelValue: { type: Number, required: true },\n  },\n\n  setup (props) {\n    return {\n      ...useVaRatingColors(props),\n      ...useSize(props, 'VaRating'),\n    }\n  },\n})\n</script>\n","<template>\n  <div class=\"va-rating\" :class=\"rootClass\">\n    <div\n      @keyup.left=\"onArrowKeyPress(-1)\"\n      @keyup.right=\"onArrowKeyPress(1)\"\n      @mouseenter=\"onMouseEnter()\"\n      @mouseleave=\"onMouseLeave\"\n      class=\"va-rating__item-wrapper\"\n    >\n      <va-rating-item\n        v-for=\"itemNumber in $props.max\"\n        v-bind=\"VaRatingItemProps\"\n        :model-value=\"getItemValue(itemNumber - 1)\"\n        :key=\"itemNumber\"\n        :empty-icon-color=\"$props.unselectedColor\"\n        :tabindex=\"tabindex\"\n        @hover=\"isInteractionsEnabled && onItemHoveredValueUpdate(itemNumber - 1, $event)\"\n        @update:model-value=\"isInteractionsEnabled && onItemValueUpdate(itemNumber - 1, $event)\"\n      >\n        <template v-if=\"$props.numbers\" v-slot=\"{ props }\">\n          <VaRatingItemNumberButton\n            v-bind=\"VaRatingItemNumberButtonProps\"\n            :model-value=\"props.value\"\n            :item-number=\"itemNumber\"\n            @click=\"props.onClick\"\n          />\n        </template>\n      </va-rating-item>\n    </div>\n    <span\n      v-if=\"$props.texts && $props.texts.length === $props.max\"\n      class=\"va-rating__text-wrapper\"\n      :style=\"{ color: computedColor }\"\n    >\n      {{ $props.texts[Math.round(visibleValue) - 1] }}\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue'\nimport { useRating, useRatingProps } from './hooks/useRating'\nimport { useVaRatingColors, useVaRatingColorsProps } from './hooks/useVaRatingColors'\nimport { useForm, useFormProps } from '../../composables/useForm'\nimport { extractComponentProps, filterComponentProps } from '../../utils/child-props'\nimport { RatingValue } from './types'\nimport VaRatingItem from './components/VaRatingItem/VaRatingItem.vue'\nimport VaRatingItemNumberButton from './components/VaRatingItemNumberButton.vue'\n\nconst VaRatingItemProps = extractComponentProps(VaRatingItem, ['unselectedColor'])\nconst VaRatingItemNumberButtonProps = extractComponentProps(VaRatingItemNumberButton, ['modelValue', 'itemNumber'])\n\nexport default defineComponent({\n  name: 'VaRating',\n\n  props: {\n    ...useRatingProps,\n    ...useVaRatingColorsProps,\n    ...useFormProps,\n    ...VaRatingItemProps,\n    ...VaRatingItemNumberButtonProps,\n    numbers: { type: Boolean, default: false },\n    halves: { type: Boolean, default: false },\n    max: { type: Number, default: 5 },\n    texts: { type: Array, default: () => [] },\n  },\n\n  emits: ['update:modelValue'],\n\n  components: { VaRatingItem, VaRatingItemNumberButton },\n\n  setup (props) {\n    const { createComputedClass } = useForm(props)\n    const rating = useRating(props)\n\n    const isInteractionsEnabled = computed(() => !props.disabled && !props.readonly)\n\n    return {\n      ...useVaRatingColors(props),\n      ...rating,\n\n      rootClass: createComputedClass('va-rating'),\n\n      VaRatingItemProps: filterComponentProps(props, VaRatingItemProps),\n      VaRatingItemNumberButtonProps: filterComponentProps(props, VaRatingItemNumberButtonProps),\n\n      isInteractionsEnabled,\n      tabindex: computed(() => isInteractionsEnabled.value ? 0 : undefined),\n\n      onArrowKeyPress: (direction: 1 | -1) => {\n        const step = props.halves ? RatingValue.HALF : RatingValue.FULL\n        rating.onItemValueUpdate(rating.visibleValue.value, (step) * direction)\n      },\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-rating {\n  display: var(--va-rating-display);\n  font-family: var(--va-font-family);\n\n  &__number-item {\n    @include normalize-button();\n\n    font-size: var(--va-rating-number-item-font-size);\n    margin: var(--va-rating-number-item-margin);\n    font-weight: var(--va-rating-number-item-font-weight);\n\n    @include flex-center();\n\n    cursor: pointer;\n\n    @at-root {\n      .va-rating--disabled & {\n        @include va-disabled();\n      }\n\n      .va-rating--readonly & {\n        cursor: default;\n      }\n    }\n  }\n\n  &__item-wrapper {\n    display: var(--va-rating-item-wrapper-display);\n    cursor: var(--va-rating-item-wrapper-cursor);\n\n    @at-root {\n      .va-rating--readonly &,\n      .va-rating--disabled & {\n        cursor: default;\n      }\n    }\n  }\n\n  &-item {\n    display: var(--va-rating-item-display);\n\n    @include flex-center();\n\n    .va-rating--disabled & {\n      @include va-disabled();\n\n      &__wrapper {\n        cursor: initial !important;\n      }\n    }\n\n    .va-rating--readonly & &__wrapper {\n      cursor: initial !important;\n    }\n  }\n\n  &__text-wrapper {\n    padding-left: 10px;\n  }\n}\n</style>\n","<template>\n  <div class=\"va-rating\" :class=\"rootClass\">\n    <div\n      @keyup.left=\"onArrowKeyPress(-1)\"\n      @keyup.right=\"onArrowKeyPress(1)\"\n      @mouseenter=\"onMouseEnter()\"\n      @mouseleave=\"onMouseLeave\"\n      class=\"va-rating__item-wrapper\"\n    >\n      <va-rating-item\n        v-for=\"itemNumber in $props.max\"\n        v-bind=\"VaRatingItemProps\"\n        :model-value=\"getItemValue(itemNumber - 1)\"\n        :key=\"itemNumber\"\n        :empty-icon-color=\"$props.unselectedColor\"\n        :tabindex=\"tabindex\"\n        @hover=\"isInteractionsEnabled && onItemHoveredValueUpdate(itemNumber - 1, $event)\"\n        @update:model-value=\"isInteractionsEnabled && onItemValueUpdate(itemNumber - 1, $event)\"\n      >\n        <template v-if=\"$props.numbers\" v-slot=\"{ props }\">\n          <VaRatingItemNumberButton\n            v-bind=\"VaRatingItemNumberButtonProps\"\n            :model-value=\"props.value\"\n            :item-number=\"itemNumber\"\n            @click=\"props.onClick\"\n          />\n        </template>\n      </va-rating-item>\n    </div>\n    <span\n      v-if=\"$props.texts && $props.texts.length === $props.max\"\n      class=\"va-rating__text-wrapper\"\n      :style=\"{ color: computedColor }\"\n    >\n      {{ $props.texts[Math.round(visibleValue) - 1] }}\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue'\nimport { useRating, useRatingProps } from './hooks/useRating'\nimport { useVaRatingColors, useVaRatingColorsProps } from './hooks/useVaRatingColors'\nimport { useForm, useFormProps } from '../../composables/useForm'\nimport { extractComponentProps, filterComponentProps } from '../../utils/child-props'\nimport { RatingValue } from './types'\nimport VaRatingItem from './components/VaRatingItem/VaRatingItem.vue'\nimport VaRatingItemNumberButton from './components/VaRatingItemNumberButton.vue'\n\nconst VaRatingItemProps = extractComponentProps(VaRatingItem, ['unselectedColor'])\nconst VaRatingItemNumberButtonProps = extractComponentProps(VaRatingItemNumberButton, ['modelValue', 'itemNumber'])\n\nexport default defineComponent({\n  name: 'VaRating',\n\n  props: {\n    ...useRatingProps,\n    ...useVaRatingColorsProps,\n    ...useFormProps,\n    ...VaRatingItemProps,\n    ...VaRatingItemNumberButtonProps,\n    numbers: { type: Boolean, default: false },\n    halves: { type: Boolean, default: false },\n    max: { type: Number, default: 5 },\n    texts: { type: Array, default: () => [] },\n  },\n\n  emits: ['update:modelValue'],\n\n  components: { VaRatingItem, VaRatingItemNumberButton },\n\n  setup (props) {\n    const { createComputedClass } = useForm(props)\n    const rating = useRating(props)\n\n    const isInteractionsEnabled = computed(() => !props.disabled && !props.readonly)\n\n    return {\n      ...useVaRatingColors(props),\n      ...rating,\n\n      rootClass: createComputedClass('va-rating'),\n\n      VaRatingItemProps: filterComponentProps(props, VaRatingItemProps),\n      VaRatingItemNumberButtonProps: filterComponentProps(props, VaRatingItemNumberButtonProps),\n\n      isInteractionsEnabled,\n      tabindex: computed(() => isInteractionsEnabled.value ? 0 : undefined),\n\n      onArrowKeyPress: (direction: 1 | -1) => {\n        const step = props.halves ? RatingValue.HALF : RatingValue.FULL\n        rating.onItemValueUpdate(rating.visibleValue.value, (step) * direction)\n      },\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-rating {\n  display: var(--va-rating-display);\n  font-family: var(--va-font-family);\n\n  &__number-item {\n    @include normalize-button();\n\n    font-size: var(--va-rating-number-item-font-size);\n    margin: var(--va-rating-number-item-margin);\n    font-weight: var(--va-rating-number-item-font-weight);\n\n    @include flex-center();\n\n    cursor: pointer;\n\n    @at-root {\n      .va-rating--disabled & {\n        @include va-disabled();\n      }\n\n      .va-rating--readonly & {\n        cursor: default;\n      }\n    }\n  }\n\n  &__item-wrapper {\n    display: var(--va-rating-item-wrapper-display);\n    cursor: var(--va-rating-item-wrapper-cursor);\n\n    @at-root {\n      .va-rating--readonly &,\n      .va-rating--disabled & {\n        cursor: default;\n      }\n    }\n  }\n\n  &-item {\n    display: var(--va-rating-item-display);\n\n    @include flex-center();\n\n    .va-rating--disabled & {\n      @include va-disabled();\n\n      &__wrapper {\n        cursor: initial !important;\n      }\n    }\n\n    .va-rating--readonly & &__wrapper {\n      cursor: initial !important;\n    }\n  }\n\n  &__text-wrapper {\n    padding-left: 10px;\n  }\n}\n</style>\n","import withConfigTransport from '../../../../services/config-transport/withConfigTransport'\nimport VaRatingItem from './VaRatingItem.vue'\n\nexport default withConfigTransport(VaRatingItem)\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport VaRating from './VaRating.vue'\nexport { default as VaRatingItem } from './components/VaRatingItem'\n\nexport default withConfigTransport(VaRating)\n"]},"metadata":{},"sourceType":"module"}