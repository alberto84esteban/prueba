{"ast":null,"code":"import { w as a } from \"./withConfigTransport.js\";\nimport { defineComponent as e, ref as r, computed as o, watch as i, openBlock as t, createElementBlock as l, renderSlot as n, createCommentVNode as s, createElementVNode as v, normalizeStyle as d, withDirectives as g, vShow as m } from \"vue\";\nimport { s as c } from \"./style-inject.es.js\";\nimport \"./VaConfig.js\";\nvar p = e({\n  name: \"VaImage\",\n  emits: [\"loaded\", \"error\"],\n  props: {\n    ratio: {\n      type: Number,\n      default: 1\n    },\n    contain: {\n      type: Boolean,\n      default: !1\n    },\n    src: {\n      type: String,\n      required: !0\n    }\n  },\n\n  setup(a, {\n    emit: e\n  }) {\n    const t = r(!0),\n          l = r(!1),\n          n = o(() => ({\n      objectFit: a.contain ? \"contain\" : \"cover\"\n    })),\n          s = o(() => ({\n      paddingBottom: 1 / a.ratio * 100 + \"%\"\n    }));\n    return i(() => a.src, () => {\n      t.value = !0, l.value = !1;\n    }), {\n      loading: t,\n      loadingError: l,\n      imageStyles: n,\n      paddingStyles: s,\n      handleLoad: () => {\n        t.value = !1, e(\"loaded\", a.src);\n      },\n      handleError: a => {\n        l.value = !0, t.value = !1, e(\"error\", a);\n      }\n    };\n  }\n\n});\nconst f = {\n  class: \"va-image\"\n},\n      _ = {\n  key: 0,\n  class: \"va-image__error\"\n},\n      u = {\n  class: \"va-image__img\",\n  ref: \"img\"\n},\n      y = [\"src\"],\n      h = {\n  class: \"va-image__overlay\"\n},\n      E = {\n  key: 1,\n  class: \"va-image__loader\"\n};\nc(\":root{--va-image-overflow:hidden;--va-image-position:relative;--va-image-img-background-position:50% 50%;--va-image-img-background-repeat:no-repeat}.va-image{font-family:var(--va-font-family);overflow:var(--va-image-overflow);position:var(--va-image-position)}.va-image img{height:100%;width:100%}.va-image__error,.va-image__img,.va-image__loader,.va-image__overlay{bottom:0;left:0;position:absolute;right:0;top:0}.va-image__error,.va-image__loader,.va-image__overlay{align-items:center;display:flex;justify-content:center}\"), p.render = function render(a, e, r, o, i, c) {\n  return t(), l(\"div\", f, [a.loadingError ? (t(), l(\"div\", _, [n(a.$slots, \"error\")])) : s(\"v-if\", !0), v(\"div\", {\n    style: d(a.paddingStyles)\n  }, null, 4), g(v(\"div\", u, [v(\"img\", {\n    style: d(a.imageStyles),\n    src: a.src,\n    onError: e[0] || (e[0] = (...e) => a.handleError && a.handleError(...e)),\n    onLoad: e[1] || (e[1] = (...e) => a.handleLoad && a.handleLoad(...e))\n  }, null, 44, y)], 512), [[m, !a.loadingError && !a.loading]]), v(\"div\", h, [n(a.$slots, \"default\")]), a.loading ? (t(), l(\"div\", E, [n(a.$slots, \"loader\")])) : s(\"v-if\", !0)]);\n}, p.__file = \"src/components/va-image/VaImage.vue\";\nvar b = a(p);\nexport { b as default };","map":{"version":3,"mappings":";;;;AAqCA,QAAeA,EAAgB;AAC7BC,QAAM,SADuB;AAE7BC,SAAO,CAAC,QAAD,EAAW,OAAX,CAFsB;AAG7BC,SAAO;AACLC,WAAO;AAAEC,YAAMC,MAAR;AAAoCC,eAAS;AAA7C,KADF;AAELC,aAAS;AAAEH,YAAMI,OAAR;AAAsCF,gBAAS;AAA/C,KAFJ;AAGLG,SAAK;AAAEL,YAAMM,MAAR;AAAoCC,iBAAU;AAA9C;AAHA,GAHsB;;AAQ7BC,QAAOV,CAAPU,EAAOV;AAAOW,UAAEA;AAATX,GAAPU,EAAgBC;AACd,UAAMC,IAAUC,GAAI,CAAJA,CAAhB;AAAA,UACMC,IAAeD,GAAI,CAAJA,CADrB;AAAA,UAGME,IAAcC,EAAS;AAC3BC,iBAAWjB,EAAMK,OAANL,GAAgB,SAAhBA,GAAqC;AADrB,MAATgB,CAHpB;AAAA,UAOME,IAAgBF,EAAS;AAC7BG,qBAAkB,IAAInB,EAAMC,KAAV,GAAkB,GAAlB,GAAH;AADc,MAATe,CAPtB;AA2BA,WALAI,EAAM,MAAMpB,EAAMO,GAAlBa,EAAuB;AACrBR,QAAQS,KAART,GAAQS,CAAQ,CAAhBT,EACAE,EAAaO,KAAbP,GAAaO,CAAQ,CADrBT;AACqB,KAFvBQ,GAKO;AACLR,gBADK;AAELE,qBAFK;AAGLC,oBAHK;AAILG,sBAJK;AAKLI,kBArBiB;AACjBV,UAAQS,KAART,GAAQS,CAAQ,CAAhBT,EACAD,EAAK,QAALA,EAAeX,EAAMO,GAArBI,CADAC;AACqBL,OAchB;AAMLgB,mBAjBmBC;AACnBV,UAAaO,KAAbP,GAAaO,CAAQ,CAArBP,EACAF,EAAQS,KAART,GAAQS,CAAQ,CADhBP,EAEAH,EAAK,OAALA,EAAca,CAAdb,CAFAG;AAEcU;AAQT,KAAP;AARgBA;;AA5BW,CAAhB3B,CAAf;AA4BoB2B;AChEbC,SAAM;ADgEOD;AAAAA,MChEPE;AAAAC;AAGPF,SAAM;AAHC,CDgEOD;AAAAA,MC7DRI;AAQNH,SAAM,eARA;AASNZ,OAAI;AATE,CD6DQW;AAAAA,MCpDVK,WDoDUL;AAAAA,MCpDVM;AASDL,SAAM;AATL,CDoDUD;AAAAA,MC3CLO;AAAAJ;AAKTF,SAAM;AALG,CD2CKD;ACtCRQ;AAAA,cA1BVC,aAEUC,EAAYpB,YAAZoB,IAAYC,KADpBF,aAIEG,oBAJFC,EACQH,IAGNE,aALJE,EAQEC;AAAMC,aAAON,eAAPM;AAAND,KAAaL,IAAbK,EAAaL,CAAbK,CARFD,EAQeJ,EACbK,aAKEA;AACGC,aAAON,aAAPM,CADHD;AAEGhC,SAAK2B,KAFRK;AAGGE,uCAAOP,oCAAPO,CAHHF;AAIGG,sCAAMR,kCAANQ;AAJHH,KAISL,IAJTK,EAISL,EAJTK,EAISL,CAJTK,CALFI,GASWT,GATXK,CADaL,EAUFA,MARAA,cAQAA,IARAA,CAAiBA,SAQjBA,EAVEA,CARfI,EAqBEC,aACEH,sBADFQ,EArBFN,EAyBUJ,EAAOtB,OAAPsB,IAAOC,KADfF,aAIEG,qBAJFS,EACQX,IAGNE,aA5BJE,EA0BU;AAENF,CAFM,EAENA,gDAFM;ACxBZ,QAAeU,EAAoBC,CAApBD,CAAf;AAAmCC","names":["defineComponent","name","emits","props","ratio","type","Number","default","contain","Boolean","src","String","required","setup","emit","loading","ref","loadingError","imageStyles","computed","objectFit","paddingStyles","paddingBottom","watch","value","handleLoad","handleError","err","class","_","key","u","y","h","E","c","_createElementBlock","_ctx","t","_renderSlot","_hoisted_2","_hoisted_1","_createElementVNode","style","onError","onLoad","_hoisted_3","_hoisted_5","_hoisted_6","withConfigTransport","VaImage"],"sources":["../../src/components/va-image/VaImage.vue","../../src/components/va-image/VaImage.vue?vue&type=template&id=7ef4d00a&lang.js","../../src/components/va-image/index.ts"],"sourcesContent":["<template>\n  <div class=\"va-image\">\n    <div\n      v-if=\"loadingError\"\n      class=\"va-image__error\"\n    >\n      <slot name=\"error\" />\n    </div>\n\n    <div :style=\"paddingStyles\" />\n    <div\n      v-show=\"!loadingError && !loading\"\n      class=\"va-image__img\"\n      ref=\"img\"\n    >\n      <img\n        :style=\"imageStyles\"\n        :src=\"src\"\n        @error=\"handleError\"\n        @load=\"handleLoad\"\n      />\n    </div>\n    <div class=\"va-image__overlay\">\n      <slot />\n    </div>\n    <div\n      v-if=\"loading\"\n      class=\"va-image__loader\"\n    >\n      <slot name=\"loader\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, watch, PropType, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'VaImage',\n  emits: ['loaded', 'error'],\n  props: {\n    ratio: { type: Number as PropType<number>, default: 1 },\n    contain: { type: Boolean as PropType<boolean>, default: false },\n    src: { type: String as PropType<string>, required: true },\n  },\n  setup (props, { emit }) {\n    const loading = ref(true)\n    const loadingError = ref(false)\n\n    const imageStyles = computed(() => ({\n      objectFit: props.contain ? 'contain' as const : 'cover' as const,\n    }))\n\n    const paddingStyles = computed(() => ({\n      paddingBottom: `${1 / props.ratio * 100}%`,\n    }))\n\n    const handleLoad = () => {\n      loading.value = false\n      emit('loaded', props.src)\n    }\n\n    const handleError = (err: Event) => {\n      loadingError.value = true\n      loading.value = false\n      emit('error', err)\n    }\n\n    watch(() => props.src, () => {\n      loading.value = true\n      loadingError.value = false\n    })\n\n    return {\n      loading,\n      loadingError,\n      imageStyles,\n      paddingStyles,\n      handleLoad,\n      handleError,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-image {\n  overflow: var(--va-image-overflow);\n  position: var(--va-image-position);\n  font-family: var(--va-font-family);\n\n  img {\n    height: 100%;\n    width: 100%;\n  }\n\n  &__img,\n  &__loader,\n  &__error,\n  &__overlay {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n\n  &__loader,\n  &__error,\n  &__overlay {\n    @include flex-center();\n  }\n}\n</style>\n","<template>\n  <div class=\"va-image\">\n    <div\n      v-if=\"loadingError\"\n      class=\"va-image__error\"\n    >\n      <slot name=\"error\" />\n    </div>\n\n    <div :style=\"paddingStyles\" />\n    <div\n      v-show=\"!loadingError && !loading\"\n      class=\"va-image__img\"\n      ref=\"img\"\n    >\n      <img\n        :style=\"imageStyles\"\n        :src=\"src\"\n        @error=\"handleError\"\n        @load=\"handleLoad\"\n      />\n    </div>\n    <div class=\"va-image__overlay\">\n      <slot />\n    </div>\n    <div\n      v-if=\"loading\"\n      class=\"va-image__loader\"\n    >\n      <slot name=\"loader\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, watch, PropType, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'VaImage',\n  emits: ['loaded', 'error'],\n  props: {\n    ratio: { type: Number as PropType<number>, default: 1 },\n    contain: { type: Boolean as PropType<boolean>, default: false },\n    src: { type: String as PropType<string>, required: true },\n  },\n  setup (props, { emit }) {\n    const loading = ref(true)\n    const loadingError = ref(false)\n\n    const imageStyles = computed(() => ({\n      objectFit: props.contain ? 'contain' as const : 'cover' as const,\n    }))\n\n    const paddingStyles = computed(() => ({\n      paddingBottom: `${1 / props.ratio * 100}%`,\n    }))\n\n    const handleLoad = () => {\n      loading.value = false\n      emit('loaded', props.src)\n    }\n\n    const handleError = (err: Event) => {\n      loadingError.value = true\n      loading.value = false\n      emit('error', err)\n    }\n\n    watch(() => props.src, () => {\n      loading.value = true\n      loadingError.value = false\n    })\n\n    return {\n      loading,\n      loadingError,\n      imageStyles,\n      paddingStyles,\n      handleLoad,\n      handleError,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-image {\n  overflow: var(--va-image-overflow);\n  position: var(--va-image-position);\n  font-family: var(--va-font-family);\n\n  img {\n    height: 100%;\n    width: 100%;\n  }\n\n  &__img,\n  &__loader,\n  &__error,\n  &__overlay {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n\n  &__loader,\n  &__error,\n  &__overlay {\n    @include flex-center();\n  }\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport VaImage from './VaImage.vue'\n\nexport default withConfigTransport(VaImage)\n"]},"metadata":{},"sourceType":"module"}