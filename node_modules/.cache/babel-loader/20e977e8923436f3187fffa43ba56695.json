{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { w as a } from \"./withConfigTransport.js\";\nimport { __decorate as e } from \"tslib\";\nimport { h as o, Transition as t, watch as i, resolveComponent as l, openBlock as r, createBlock as s, Teleport as n, createElementVNode as d, createVNode as m, withCtx as v, normalizeStyle as p, createElementBlock as h, normalizeClass as c, createCommentVNode as f, toDisplayString as u, renderSlot as g, createTextVNode as y } from \"vue\";\nimport { V as _, O as x, m as w, p as b } from \"./vue-class-component.esm-bundler.js\";\nimport { C as $ } from \"./ColorMixin.js\";\nimport { S as k } from \"./StatefulMixin.js\";\nimport z from \"./index8.js\";\nimport C from \"./index28.js\";\nimport { s as T } from \"./style-inject.es.js\";\nimport \"./VaConfig.js\";\nimport \"./color-config.js\";\nimport \"colortranslator\";\nimport \"./useColor.js\";\nimport \"./useRouterLink.js\";\nimport \"./useSize.js\";\nimport \"./useLoading.js\";\nimport \"./index39.js\";\nimport \"./clamp.js\";\nimport \"./toNumber.js\";\nimport \"./VaIcon.js\";\nimport \"./flatten.js\";\n\nconst S = _.with(class ModalProps {\n  constructor() {\n    this.modelValue = b({\n      type: Boolean,\n      default: !1\n    }), this.attachElement = b({\n      type: String,\n      default: \"body\"\n    }), this.disableAttachment = b({\n      type: Boolean,\n      default: !1\n    }), this.title = b({\n      type: String,\n      default: \"\"\n    }), this.message = b({\n      type: String,\n      default: \"\"\n    }), this.okText = b({\n      type: String,\n      default: \"OK\"\n    }), this.cancelText = b({\n      type: String,\n      default: \"Cancel\"\n    }), this.hideDefaultActions = b({\n      type: Boolean,\n      default: !1\n    }), this.fullscreen = b({\n      type: Boolean,\n      default: !1\n    }), this.mobileFullscreen = b({\n      type: Boolean,\n      default: !0\n    }), this.noDismiss = b({\n      type: Boolean,\n      default: !1\n    }), this.noOutsideDismiss = b({\n      type: Boolean,\n      default: !1\n    }), this.noEscDismiss = b({\n      type: Boolean,\n      default: !1\n    }), this.maxWidth = b({\n      type: String,\n      default: \"\"\n    }), this.maxHeight = b({\n      type: String,\n      default: \"\"\n    }), this.size = b({\n      type: String,\n      default: \"medium\",\n      validator: a => [\"medium\", \"small\", \"large\"].includes(a)\n    }), this.fixedLayout = b({\n      type: Boolean,\n      default: !1\n    }), this.withoutTransitions = b({\n      type: Boolean,\n      default: !1\n    }), this.overlay = b({\n      type: Boolean,\n      default: !0\n    }), this.overlayOpacity = b({\n      type: [Number, String],\n      default: .6\n    }), this.zIndex = b({\n      type: [Number, String],\n      default: void 0\n    });\n  }\n\n});\n\nclass ModalElementProps {\n  constructor() {\n    this.isTransition = b({\n      type: Boolean,\n      default: !0\n    });\n  }\n\n}\n\nlet j = class ModalElement extends _.with(ModalElementProps) {\n  render() {\n    const a = this.$slots.default ? this.$slots.default(this.$attrs) : null;\n    return this.$props.isTransition ? o(t, { ...this.$attrs\n    }, this.$slots) : a;\n  }\n\n};\nj = e([x({\n  name: \"ModalElement\"\n})], j);\nlet B = class VaModal extends w($, k, S) {\n  created() {\n    i(() => this.valueComputed, a => {\n      a ? window.addEventListener(\"keyup\", this.listenKeyUp) : window.removeEventListener(\"keyup\", this.listenKeyUp);\n    });\n  }\n\n  get computedClass() {\n    return {\n      \"va-modal--fullscreen\": this.$props.fullscreen,\n      \"va-modal--mobile-fullscreen\": this.$props.mobileFullscreen,\n      \"va-modal--fixed-layout\": this.$props.fixedLayout,\n      [`va-modal--size-${this.$props.size}`]: \"medium\" !== this.$props.size\n    };\n  }\n\n  get computedOverlayStyles() {\n    return !!document.querySelectorAll(\".va-modal__overlay\").length ? {} : {\n      \"background-color\": `rgba(0, 0, 0, ${this.$props.overlayOpacity})`,\n      \"z-index\": this.$props.zIndex ? Number(this.$props.zIndex) - 1 : void 0\n    };\n  }\n\n  get computedModalContainerStyle() {\n    return {\n      \"z-index\": this.$props.zIndex\n    };\n  }\n\n  get hasContentSlot() {\n    return this.$slots.default;\n  }\n\n  get hasHeaderSlot() {\n    return this.$slots.header;\n  }\n\n  get hasFooterSlot() {\n    return this.$slots.footer;\n  }\n\n  show() {\n    this.valueComputed = !0;\n  }\n\n  hide() {\n    this.valueComputed = !1;\n  }\n\n  toggle() {\n    this.valueComputed = !this.valueComputed;\n  }\n\n  cancel() {\n    this.hide(), this.$emit(\"cancel\");\n  }\n\n  ok() {\n    this.hide(), this.$emit(\"ok\");\n  }\n\n  listenKeyUp(a) {\n    \"Escape\" !== a.code || this.$props.noEscDismiss || this.$props.noDismiss || this.cancel();\n  }\n\n  onOutsideClick() {\n    this.$props.noOutsideDismiss || this.$props.noDismiss || (this.$emit(\"click-outside\"), this.cancel());\n  }\n\n  onBeforeEnterTransition(a) {\n    this.$emit(\"before-open\", a);\n  }\n\n  onAfterEnterTransition(a) {\n    this.$emit(\"open\", a);\n  }\n\n  onBeforeLeaveTransition(a) {\n    this.$emit(\"before-close\", a);\n  }\n\n  onAfterLeaveTransition(a) {\n    this.$emit(\"close\", a);\n  }\n\n};\nB = e([x({\n  name: \"VaModal\",\n  components: {\n    VaButton: z,\n    VaIcon: C,\n    ModalElement: j\n  },\n  emits: [\"update:modelValue\", \"cancel\", \"ok\", \"before-open\", \"open\", \"before-close\", \"close\", \"click-outside\"]\n})], B);\nvar E = B;\nconst L = {\n  class: \"va-modal\"\n},\n      A = {\n  key: 1,\n  class: \"va-modal__header\"\n},\n      M = {\n  key: 2,\n  class: \"va-modal__message\"\n},\n      O = {\n  key: 3,\n  class: \"va-modal__message\"\n},\n      V = {\n  key: 4,\n  class: \"va-modal__footer\"\n},\n      D = {\n  key: 5,\n  class: \"va-modal__footer\"\n};\nT(\":root{--va-modal-title-margin-bottom:1.5rem;--va-modal-position:fixed;--va-modal-top:0;--va-modal-left:0;--va-modal-display:flex;--va-modal-width:100%;--va-modal-height:100%;--va-modal-align-items:center;--va-modal-justify-content:center;--va-modal-overflow:hidden;--va-modal-outline:0;--va-modal-z-index:var(--va-z-index-teleport-overlay);--va-modal-container-z-index:100;--va-modal-dialog-background:#fff;--va-modal-dialog-min-height:3.125rem;--va-modal-dialog-height:fit-content;--va-modal-dialog-border-radius:0.375rem;--va-modal-dialog-margin:1rem;--va-modal-dialog-box-shadow:0 4px 70px -18px #707070;--va-modal-dialog-max-width:768px;--va-modal-dialog-max-height:calc(100vh - 2rem);--va-modal-dialog-position:relative;--va-modal-overlay-position:fixed;--va-modal-overlay-top:0;--va-modal-overlay-left:0;--va-modal-overlay-z-index:calc(var(--va-modal-container-z-index) - 1);--va-modal-overlay-width:100vw;--va-modal-overlay-height:100vh}.va-modal{align-items:var(--va-modal-align-items);display:var(--va-modal-display);font-family:var(--va-font-family);height:var(--va-modal-height);justify-content:var(--va-modal-justify-content);left:var(--va-modal-left);outline:var(--va-modal-outline);overflow:var(--va-modal-overflow);position:var(--va-modal-position);top:var(--va-modal-top);width:var(--va-modal-width);z-index:var(--va-modal-z-index)}.va-modal__title{font-size:.625rem;font-weight:700;letter-spacing:.6px;line-height:1.2;margin-bottom:1.5rem;text-transform:uppercase}.va-modal__container{z-index:var(--va-modal-container-z-index)}.va-modal__container--transition-enter-from,.va-modal__container--transition-leave-to{opacity:0;transform:translateY(-30%)}.va-modal__container--transition-enter-active,.va-modal__container--transition-leave-active{transition:opacity .15s cubic-bezier(1,.5,.8,1),transform .3s ease}.va-modal__dialog{background:var(--va-modal-dialog-background);border-radius:var(--va-modal-dialog-border-radius,var(--va-block-border-radius));box-shadow:var(--va-modal-dialog-box-shadow,var(--va-block-box-shadow));height:var(--va-modal-dialog-height);margin:var(--va-modal-dialog-margin);max-height:var(--va-modal-dialog-max-height);max-width:var(--va-modal-dialog-max-width);min-height:var(--va-modal-dialog-min-height);overflow:auto;position:var(--va-modal-dialog-position)}.va-modal__overlay{height:var(--va-modal-overlay-height);left:var(--va-modal-overlay-left);position:var(--va-modal-overlay-position);top:var(--va-modal-overlay-top);width:var(--va-modal-overlay-width);z-index:var(--va-modal-overlay-z-index)}.va-modal__overlay--transition-enter-from,.va-modal__overlay--transition-leave-to{opacity:0}.va-modal__overlay--transition-enter-active,.va-modal__overlay--transition-leave-active{transition:opacity .2s cubic-bezier(1,.5,.8,1)}.va-modal--fullscreen{border-radius:0;margin:0;min-height:100vh!important;min-width:100vw!important}@media (max-width:576px){.va-modal--mobile-fullscreen{border-radius:0;margin:0!important;min-height:100vh!important;min-width:100vw!important}}.va-modal--size-small{max-width:576px}@media (max-width:576px){.va-modal--size-small{max-width:100vw!important}}.va-modal--size-small .va-modal__inner{max-width:576px}@media (max-width:576px){.va-modal--size-small .va-modal__inner{max-width:100vw!important}}.va-modal--size-large,.va-modal--size-large .va-modal__inner{max-width:992px}.va-modal--fixed-layout .va-modal__inner{max-height:calc(100vh - 2rem);overflow:hidden;padding:1.25rem 0 1.5rem}.va-modal--fixed-layout .va-modal__inner .va-modal__footer,.va-modal--fixed-layout .va-modal__inner .va-modal__header,.va-modal--fixed-layout .va-modal__inner .va-modal__title{padding:0 1.875rem 0 1.5rem}.va-modal--fixed-layout .va-modal__inner .va-modal__message{overflow:auto;padding:0 1.875rem 0 1.5rem}.va-modal--fixed-layout .va-modal__dialog{overflow:hidden}.va-modal__message{margin-bottom:1.5rem}.va-modal__inner{display:flex;flex-flow:column;margin:auto;max-width:768px;overflow:visible;padding:1.25rem 1.875rem 1.5rem 1.5rem;position:relative}.va-modal__inner>div:last-of-type{margin-bottom:0!important}.va-modal__close{color:#babfc2;cursor:pointer;font-size:1.5rem!important;font-style:normal!important;position:absolute;right:1rem;top:1rem;z-index:1}.va-modal__footer{display:flex;flex-wrap:wrap;justify-content:center;margin-top:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content}.va-modal__footer:last-of-type{margin-bottom:0!important}\"), E.render = function render(a, e, o, t, i, _) {\n  const x = l(\"modal-element\"),\n        w = l(\"va-icon\"),\n        b = l(\"va-button\");\n  return a.valueComputed ? (r(), s(n, {\n    key: 0,\n    to: a.attachElement,\n    disabled: a.disableAttachment\n  }, [d(\"div\", L, [m(x, {\n    name: \"va-modal__overlay--transition\",\n    isTransition: !a.$props.withoutTransitions,\n    onClick: a.onOutsideClick,\n    appear: \"\"\n  }, {\n    default: v(() => [d(\"div\", {\n      class: \"va-modal__overlay\",\n      style: p(a.$props.overlay && a.computedOverlayStyles)\n    }, null, 4)]),\n    _: 1\n  }, 8, [\"isTransition\", \"onClick\"]), m(x, {\n    name: \"va-modal__container--transition\",\n    isTransition: !a.$props.withoutTransitions,\n    appear: \"\",\n    onBeforeEnter: a.onBeforeEnterTransition,\n    onAfterEnter: a.onAfterEnterTransition,\n    onBeforeLeave: a.onBeforeLeaveTransition,\n    onAfterLeave: a.onAfterLeaveTransition\n  }, {\n    default: v(() => [a.valueComputed ? (r(), h(\"div\", {\n      key: 0,\n      class: \"va-modal__container\",\n      style: p(a.computedModalContainerStyle)\n    }, [d(\"div\", {\n      class: c([\"va-modal__dialog\", a.computedClass]),\n      style: p({\n        maxWidth: a.$props.maxWidth,\n        maxHeight: a.$props.maxHeight\n      }),\n      ref: \"modal\"\n    }, [a.$props.fullscreen ? (r(), s(w, {\n      key: 0,\n      onClick: e[0] || (e[0] = e => a.cancel()),\n      name: \"close\",\n      class: \"va-modal__close\"\n    })) : f(\"v-if\", !0), d(\"div\", {\n      class: \"va-modal__inner\",\n      style: p({\n        maxWidth: a.$props.maxWidth,\n        maxHeight: a.$props.maxHeight\n      })\n    }, [a.title ? (r(), h(\"div\", {\n      key: 0,\n      class: \"va-modal__title\",\n      style: p({\n        color: a.theme.getColor(\"primary\")\n      })\n    }, u(a.$props.title), 5)) : f(\"v-if\", !0), a.hasHeaderSlot ? (r(), h(\"div\", A, [g(a.$slots, \"header\")])) : f(\"v-if\", !0), a.$props.message ? (r(), h(\"div\", M, u(a.$props.message), 1)) : f(\"v-if\", !0), a.hasContentSlot ? (r(), h(\"div\", O, [g(a.$slots, \"default\")])) : f(\"v-if\", !0), !a.$props.cancelText && !a.$props.okText || a.$props.hideDefaultActions ? f(\"v-if\", !0) : (r(), h(\"div\", V, [a.$props.cancelText ? (r(), s(b, {\n      key: 0,\n      color: \"gray\",\n      class: \"mr-2\",\n      flat: \"\",\n      onClick: a.cancel\n    }, {\n      default: v(() => [y(u(a.$props.cancelText), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])) : f(\"v-if\", !0), m(b, {\n      onClick: a.ok\n    }, {\n      default: v(() => [y(u(a.$props.okText), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])), a.hasFooterSlot ? (r(), h(\"div\", D, [g(a.$slots, \"footer\")])) : f(\"v-if\", !0)], 4)], 6)], 4)) : f(\"v-if\", !0)]),\n    _: 3\n  }, 8, [\"isTransition\", \"onBeforeEnter\", \"onAfterEnter\", \"onBeforeLeave\", \"onAfterLeave\"])])], 8, [\"to\", \"disabled\"])) : f(\"v-if\", !0);\n}, E.__file = \"src/components/va-modal/VaModal.vue\";\nvar H = a(E);\nexport { H as default };","map":{"version":3,"mappings":"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","names":["ModalPropsMixin","Vue","with","ModalProps","constructor","this","prop","type","Boolean","default","String","validator","size","includes","Number","undefined","ModalElementProps","ModalElement","render","children","$slots","$attrs","$props","isTransition","h","Transition","Options","name","VaModal","mixins","ColorMixin","StatefulMixin","created","watch","valueComputed","window","addEventListener","listenKeyUp","removeEventListener","computedClass","fullscreen","mobileFullscreen","fixedLayout","computedOverlayStyles","document","querySelectorAll","length","overlayOpacity","zIndex","computedModalContainerStyle","hasContentSlot","hasHeaderSlot","header","hasFooterSlot","footer","show","hide","toggle","cancel","$emit","ok","e","code","noEscDismiss","noDismiss","onOutsideClick","noOutsideDismiss","onBeforeEnterTransition","el","onAfterEnterTransition","onBeforeLeaveTransition","onAfterLeaveTransition","components","VaButton","VaIcon","emits","class","A","key","M","O","V","D","T","_ctx","r","_createBlock","to","disabled","_createElementVNode","_createVNode","withoutTransitions","onClick","appear","style","overlay","_hoisted_1","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","_createElementBlock","maxWidth","maxHeight","ref","f","title","getColor","_renderSlot","_hoisted_2","message","_hoisted_3","_hoisted_4","cancelText","okText","hideDefaultActions","color","flat","_hoisted_5","_hoisted_6","withConfigTransport"],"sources":["../../src/components/va-modal/VaModal.vue","../../src/components/va-modal/VaModal.vue?vue&type=template&id=fb3de2a4&lang.js","../../src/components/va-modal/index.ts"],"sourcesContent":["<template>\n  <teleport v-if='valueComputed' :to=\"attachElement\" :disabled=\"disableAttachment\">\n    <div class=\"va-modal\">\n      <modal-element\n        name=\"va-modal__overlay--transition\"\n        :isTransition=\"!$props.withoutTransitions\"\n        @click=\"onOutsideClick\"\n        appear\n      >\n        <div\n          class=\"va-modal__overlay\"\n          :style=\"$props.overlay && computedOverlayStyles\"\n        />\n      </modal-element>\n      <modal-element\n        name=\"va-modal__container--transition\"\n        :isTransition=\"!$props.withoutTransitions\"\n        appear\n        @beforeEnter=\"onBeforeEnterTransition\"\n        @afterEnter=\"onAfterEnterTransition\"\n        @beforeLeave=\"onBeforeLeaveTransition\"\n        @afterLeave=\"onAfterLeaveTransition\"\n      >\n        <div\n          v-if=\"valueComputed\"\n          class=\"va-modal__container\"\n          :style=\"computedModalContainerStyle\"\n        >\n          <div\n            class=\"va-modal__dialog\"\n            :class=\"computedClass\"\n            :style=\"{ maxWidth: $props.maxWidth, maxHeight: $props.maxHeight }\"\n            ref=\"modal\"\n          >\n            <va-icon\n              v-if=\"$props.fullscreen\"\n              @click=\"cancel()\"\n              name=\"close\"\n              class=\"va-modal__close\"\n            />\n\n            <div\n              class=\"va-modal__inner\"\n              :style=\"{ maxWidth: $props.maxWidth, maxHeight: $props.maxHeight }\"\n            >\n              <div\n                v-if=\"title\"\n                class=\"va-modal__title\"\n                :style=\"{ color: theme.getColor('primary') }\"\n              >\n                {{ $props.title }}\n              </div>\n              <div v-if=\"hasHeaderSlot\" class=\"va-modal__header\">\n                <slot name=\"header\" />\n              </div>\n              <div v-if=\"$props.message\" class=\"va-modal__message\">\n                {{ $props.message }}\n              </div>\n              <div v-if=\"hasContentSlot\" class=\"va-modal__message\">\n                <slot />\n              </div>\n              <div\n                v-if=\"($props.cancelText || $props.okText) && !$props.hideDefaultActions\"\n                class=\"va-modal__footer\"\n              >\n                <va-button v-if=\"$props.cancelText\" color=\"gray\" class=\"mr-2\" flat @click=\"cancel\">\n                  {{ $props.cancelText }}\n                </va-button>\n                <va-button @click=\"ok\">\n                  {{ $props.okText }}\n                </va-button>\n              </div>\n              <div v-if=\"hasFooterSlot\" class=\"va-modal__footer\">\n                <slot name=\"footer\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </modal-element>\n    </div>\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { watch, h, Transition } from 'vue'\nimport { Options, prop, Vue, mixins } from 'vue-class-component'\n\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { StatefulMixin } from '../../mixins/StatefulMixin/StatefulMixin'\nimport VaButton from '../va-button'\nimport VaIcon from '../va-icon'\n\nclass ModalProps {\n  modelValue = prop<boolean>({ type: Boolean, default: false })\n  attachElement = prop<string>({ type: String, default: 'body' })\n  disableAttachment = prop<boolean>({ type: Boolean, default: false })\n  title = prop<string>({ type: String, default: '' })\n  message = prop<string>({ type: String, default: '' })\n  okText = prop<string>({ type: String, default: 'OK' })\n  cancelText = prop<string>({ type: String, default: 'Cancel' })\n  hideDefaultActions = prop<boolean>({ type: Boolean, default: false })\n  fullscreen = prop<boolean>({ type: Boolean, default: false })\n  mobileFullscreen = prop<boolean>({ type: Boolean, default: true })\n  noDismiss = prop<boolean>({ type: Boolean, default: false })\n  noOutsideDismiss = prop<boolean>({ type: Boolean, default: false })\n  noEscDismiss = prop<boolean>({ type: Boolean, default: false })\n  maxWidth = prop<string>({ type: String, default: '' })\n  maxHeight = prop<string>({ type: String, default: '' })\n  size = prop<string>({\n    type: String,\n    default: 'medium',\n    validator: (size: string) => {\n      return ['medium', 'small', 'large'].includes(size)\n    },\n  })\n\n  fixedLayout = prop<boolean>({ type: Boolean, default: false })\n  withoutTransitions = prop<boolean>({ type: Boolean, default: false })\n  overlay = prop<boolean>({ type: Boolean, default: true })\n  overlayOpacity = prop<number | string>({\n    type: [Number, String],\n    default: 0.6,\n  })\n\n  zIndex = prop<number | string>({ type: [Number, String], default: undefined })\n}\n\nconst ModalPropsMixin = Vue.with(ModalProps)\n\nclass ModalElementProps {\n  isTransition = prop<boolean>({\n    type: Boolean,\n    default: true,\n  })\n}\n\n@Options({\n  name: 'ModalElement',\n})\nclass ModalElement extends Vue.with(ModalElementProps) {\n  render (): any {\n    const children = this.$slots.default ? this.$slots.default(this.$attrs) : null\n\n    return this.$props.isTransition\n      ? h(\n        Transition,\n        { ...this.$attrs },\n        this.$slots,\n      )\n      : children\n  }\n}\n\n@Options({\n  name: 'VaModal',\n  components: { VaButton, VaIcon, ModalElement },\n  emits: ['update:modelValue', 'cancel', 'ok', 'before-open', 'open', 'before-close', 'close', 'click-outside'],\n})\nexport default class VaModal extends mixins(\n  ColorMixin,\n  StatefulMixin,\n  ModalPropsMixin,\n) {\n  created () {\n    watch(() => this.valueComputed, (valueComputed: boolean) => {\n      if (valueComputed) {\n        window.addEventListener('keyup', this.listenKeyUp)\n      } else {\n        window.removeEventListener('keyup', this.listenKeyUp)\n      }\n    })\n  }\n\n  get computedClass () {\n    return {\n      'va-modal--fullscreen': this.$props.fullscreen,\n      'va-modal--mobile-fullscreen': this.$props.mobileFullscreen,\n      'va-modal--fixed-layout': this.$props.fixedLayout,\n      [`va-modal--size-${this.$props.size}`]: this.$props.size !== 'medium',\n    }\n  }\n\n  get computedOverlayStyles () {\n    // NOTE Not sure exactly what that does.\n    // Supposedly solves some case when background wasn't shown.\n    // As a side effect removes background from nested modals.\n\n    const moreThanOneModalIsOpen = !!document.querySelectorAll(\n      '.va-modal__overlay',\n    ).length\n\n    return moreThanOneModalIsOpen\n      ? {}\n      : {\n        'background-color': `rgba(0, 0, 0, ${this.$props.overlayOpacity})`,\n        'z-index': this.$props.zIndex ? Number(this.$props.zIndex) - 1 : undefined,\n      }\n  }\n\n  get computedModalContainerStyle () {\n    return {\n      'z-index': this.$props.zIndex,\n    }\n  }\n\n  get hasContentSlot () {\n    return this.$slots.default\n  }\n\n  get hasHeaderSlot () {\n    return this.$slots.header\n  }\n\n  get hasFooterSlot () {\n    return this.$slots.footer\n  }\n\n  show () {\n    this.valueComputed = true\n  }\n\n  hide () {\n    this.valueComputed = false\n  }\n\n  toggle () {\n    this.valueComputed = !this.valueComputed\n  }\n\n  cancel () {\n    this.hide()\n    this.$emit('cancel')\n  }\n\n  ok () {\n    this.hide()\n    this.$emit('ok')\n  }\n\n  listenKeyUp (e: KeyboardEvent) {\n    if (e.code === 'Escape' && !this.$props.noEscDismiss && !this.$props.noDismiss) {\n      this.cancel()\n    }\n  }\n\n  onOutsideClick () {\n    if (this.$props.noOutsideDismiss || this.$props.noDismiss) { return }\n\n    this.$emit('click-outside')\n    this.cancel()\n  }\n\n  onBeforeEnterTransition (el: HTMLElement) {\n    this.$emit('before-open', el)\n  }\n\n  onAfterEnterTransition (el: HTMLElement) {\n    this.$emit('open', el)\n  }\n\n  onBeforeLeaveTransition (el: HTMLElement) {\n    this.$emit('before-close', el)\n  }\n\n  onAfterLeaveTransition (el: HTMLElement) {\n    this.$emit('close', el)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/resources';\n@import 'variables';\n\n.va-modal {\n  position: var(--va-modal-position);\n  display: var(--va-modal-display);\n  align-items: var(--va-modal-align-items);\n  justify-content: var(--va-modal-justify-content);\n  width: var(--va-modal-width);\n  height: var(--va-modal-height);\n  top: var(--va-modal-top);\n  left: var(--va-modal-left);\n  overflow: var(--va-modal-overflow);\n  outline: var(--va-modal-outline);\n  z-index: var(--va-modal-z-index);\n  font-family: var(--va-font-family);\n\n  &__title {\n    margin-bottom: 1.5rem;\n\n    @include va-title();\n  }\n\n  &__container {\n    z-index: var(--va-modal-container-z-index);\n\n    &--transition {\n      @include va-modal-transition();\n    }\n  }\n\n  &__dialog {\n    background: var(--va-modal-dialog-background);\n    min-height: var(--va-modal-dialog-min-height);\n    height: var(--va-modal-dialog-height);\n    border-radius: var(--va-modal-dialog-border-radius, var(--va-block-border-radius));\n    margin: var(--va-modal-dialog-margin);\n    box-shadow: var(--va-modal-dialog-box-shadow, var(--va-block-box-shadow));\n    max-width: var(--va-modal-dialog-max-width);\n    max-height: var(--va-modal-dialog-max-height);\n    position: var(--va-modal-dialog-position);\n    overflow: auto;\n  }\n\n  &__overlay {\n    position: var(--va-modal-overlay-position);\n    top: var(--va-modal-overlay-top);\n    left: var(--va-modal-overlay-left);\n    z-index: var(--va-modal-overlay-z-index);\n    width: var(--va-modal-overlay-width);\n    height: var(--va-modal-overlay-height);\n\n    &--transition {\n      @include va-modal-transition(true);\n    }\n  }\n\n  &--fullscreen {\n    min-width: 100vw !important;\n    min-height: 100vh !important;\n    border-radius: 0;\n    margin: 0;\n  }\n\n  &--mobile-fullscreen {\n    @media all and (max-width: map-get($grid-breakpoints, sm)) {\n      margin: 0 !important;\n      min-width: 100vw !important;\n      min-height: 100vh !important;\n      border-radius: 0;\n    }\n  }\n\n  &--size {\n    &-small {\n      max-width: map_get($grid-breakpoints, sm);\n\n      @media all and (max-width: map-get($grid-breakpoints, sm)) {\n        max-width: 100vw !important;\n      }\n\n      .va-modal__inner {\n        max-width: map_get($grid-breakpoints, sm);\n\n        @media all and (max-width: map-get($grid-breakpoints, sm)) {\n          max-width: 100vw !important;\n        }\n      }\n    }\n\n    &-large {\n      max-width: map-get($grid-breakpoints, lg);\n\n      .va-modal__inner {\n        max-width: map-get($grid-breakpoints, lg);\n      }\n    }\n  }\n\n  &--fixed-layout {\n    .va-modal__inner {\n      overflow: hidden;\n      padding: $modal-padding-top 0 $modal-padding-bottom;\n      max-height: calc(100vh - 2rem);\n\n      .va-modal__header,\n      .va-modal__footer,\n      .va-modal__title {\n        padding: 0 $modal-padding-right 0 $modal-padding-left;\n      }\n\n      .va-modal__message {\n        padding: 0 $modal-padding-right 0 $modal-padding-left;\n        overflow: auto;\n      }\n    }\n\n    .va-modal__dialog {\n      overflow: hidden;\n    }\n  }\n\n  &__message {\n    margin-bottom: 1.5rem;\n  }\n\n  &__inner {\n    overflow: visible;\n    display: flex;\n    position: relative;\n    flex-flow: column;\n    padding: $modal-padding-top $modal-padding-right $modal-padding-bottom $modal-padding-left;\n    max-width: map_get($grid-breakpoints, md);\n    margin: auto;\n\n    > div:last-of-type {\n      margin-bottom: 0 !important;\n    }\n  }\n\n  &__close {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    cursor: pointer;\n    font-size: 1.5rem !important;\n    font-style: normal !important;\n    color: $brand-secondary;\n    z-index: 1;\n  }\n\n  &__footer {\n    margin-top: auto;\n    min-height: fit-content;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n\n    &:last-of-type {\n      margin-bottom: 0 !important;\n    }\n  }\n}\n</style>\n","<template>\n  <teleport v-if='valueComputed' :to=\"attachElement\" :disabled=\"disableAttachment\">\n    <div class=\"va-modal\">\n      <modal-element\n        name=\"va-modal__overlay--transition\"\n        :isTransition=\"!$props.withoutTransitions\"\n        @click=\"onOutsideClick\"\n        appear\n      >\n        <div\n          class=\"va-modal__overlay\"\n          :style=\"$props.overlay && computedOverlayStyles\"\n        />\n      </modal-element>\n      <modal-element\n        name=\"va-modal__container--transition\"\n        :isTransition=\"!$props.withoutTransitions\"\n        appear\n        @beforeEnter=\"onBeforeEnterTransition\"\n        @afterEnter=\"onAfterEnterTransition\"\n        @beforeLeave=\"onBeforeLeaveTransition\"\n        @afterLeave=\"onAfterLeaveTransition\"\n      >\n        <div\n          v-if=\"valueComputed\"\n          class=\"va-modal__container\"\n          :style=\"computedModalContainerStyle\"\n        >\n          <div\n            class=\"va-modal__dialog\"\n            :class=\"computedClass\"\n            :style=\"{ maxWidth: $props.maxWidth, maxHeight: $props.maxHeight }\"\n            ref=\"modal\"\n          >\n            <va-icon\n              v-if=\"$props.fullscreen\"\n              @click=\"cancel()\"\n              name=\"close\"\n              class=\"va-modal__close\"\n            />\n\n            <div\n              class=\"va-modal__inner\"\n              :style=\"{ maxWidth: $props.maxWidth, maxHeight: $props.maxHeight }\"\n            >\n              <div\n                v-if=\"title\"\n                class=\"va-modal__title\"\n                :style=\"{ color: theme.getColor('primary') }\"\n              >\n                {{ $props.title }}\n              </div>\n              <div v-if=\"hasHeaderSlot\" class=\"va-modal__header\">\n                <slot name=\"header\" />\n              </div>\n              <div v-if=\"$props.message\" class=\"va-modal__message\">\n                {{ $props.message }}\n              </div>\n              <div v-if=\"hasContentSlot\" class=\"va-modal__message\">\n                <slot />\n              </div>\n              <div\n                v-if=\"($props.cancelText || $props.okText) && !$props.hideDefaultActions\"\n                class=\"va-modal__footer\"\n              >\n                <va-button v-if=\"$props.cancelText\" color=\"gray\" class=\"mr-2\" flat @click=\"cancel\">\n                  {{ $props.cancelText }}\n                </va-button>\n                <va-button @click=\"ok\">\n                  {{ $props.okText }}\n                </va-button>\n              </div>\n              <div v-if=\"hasFooterSlot\" class=\"va-modal__footer\">\n                <slot name=\"footer\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </modal-element>\n    </div>\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { watch, h, Transition } from 'vue'\nimport { Options, prop, Vue, mixins } from 'vue-class-component'\n\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { StatefulMixin } from '../../mixins/StatefulMixin/StatefulMixin'\nimport VaButton from '../va-button'\nimport VaIcon from '../va-icon'\n\nclass ModalProps {\n  modelValue = prop<boolean>({ type: Boolean, default: false })\n  attachElement = prop<string>({ type: String, default: 'body' })\n  disableAttachment = prop<boolean>({ type: Boolean, default: false })\n  title = prop<string>({ type: String, default: '' })\n  message = prop<string>({ type: String, default: '' })\n  okText = prop<string>({ type: String, default: 'OK' })\n  cancelText = prop<string>({ type: String, default: 'Cancel' })\n  hideDefaultActions = prop<boolean>({ type: Boolean, default: false })\n  fullscreen = prop<boolean>({ type: Boolean, default: false })\n  mobileFullscreen = prop<boolean>({ type: Boolean, default: true })\n  noDismiss = prop<boolean>({ type: Boolean, default: false })\n  noOutsideDismiss = prop<boolean>({ type: Boolean, default: false })\n  noEscDismiss = prop<boolean>({ type: Boolean, default: false })\n  maxWidth = prop<string>({ type: String, default: '' })\n  maxHeight = prop<string>({ type: String, default: '' })\n  size = prop<string>({\n    type: String,\n    default: 'medium',\n    validator: (size: string) => {\n      return ['medium', 'small', 'large'].includes(size)\n    },\n  })\n\n  fixedLayout = prop<boolean>({ type: Boolean, default: false })\n  withoutTransitions = prop<boolean>({ type: Boolean, default: false })\n  overlay = prop<boolean>({ type: Boolean, default: true })\n  overlayOpacity = prop<number | string>({\n    type: [Number, String],\n    default: 0.6,\n  })\n\n  zIndex = prop<number | string>({ type: [Number, String], default: undefined })\n}\n\nconst ModalPropsMixin = Vue.with(ModalProps)\n\nclass ModalElementProps {\n  isTransition = prop<boolean>({\n    type: Boolean,\n    default: true,\n  })\n}\n\n@Options({\n  name: 'ModalElement',\n})\nclass ModalElement extends Vue.with(ModalElementProps) {\n  render (): any {\n    const children = this.$slots.default ? this.$slots.default(this.$attrs) : null\n\n    return this.$props.isTransition\n      ? h(\n        Transition,\n        { ...this.$attrs },\n        this.$slots,\n      )\n      : children\n  }\n}\n\n@Options({\n  name: 'VaModal',\n  components: { VaButton, VaIcon, ModalElement },\n  emits: ['update:modelValue', 'cancel', 'ok', 'before-open', 'open', 'before-close', 'close', 'click-outside'],\n})\nexport default class VaModal extends mixins(\n  ColorMixin,\n  StatefulMixin,\n  ModalPropsMixin,\n) {\n  created () {\n    watch(() => this.valueComputed, (valueComputed: boolean) => {\n      if (valueComputed) {\n        window.addEventListener('keyup', this.listenKeyUp)\n      } else {\n        window.removeEventListener('keyup', this.listenKeyUp)\n      }\n    })\n  }\n\n  get computedClass () {\n    return {\n      'va-modal--fullscreen': this.$props.fullscreen,\n      'va-modal--mobile-fullscreen': this.$props.mobileFullscreen,\n      'va-modal--fixed-layout': this.$props.fixedLayout,\n      [`va-modal--size-${this.$props.size}`]: this.$props.size !== 'medium',\n    }\n  }\n\n  get computedOverlayStyles () {\n    // NOTE Not sure exactly what that does.\n    // Supposedly solves some case when background wasn't shown.\n    // As a side effect removes background from nested modals.\n\n    const moreThanOneModalIsOpen = !!document.querySelectorAll(\n      '.va-modal__overlay',\n    ).length\n\n    return moreThanOneModalIsOpen\n      ? {}\n      : {\n        'background-color': `rgba(0, 0, 0, ${this.$props.overlayOpacity})`,\n        'z-index': this.$props.zIndex ? Number(this.$props.zIndex) - 1 : undefined,\n      }\n  }\n\n  get computedModalContainerStyle () {\n    return {\n      'z-index': this.$props.zIndex,\n    }\n  }\n\n  get hasContentSlot () {\n    return this.$slots.default\n  }\n\n  get hasHeaderSlot () {\n    return this.$slots.header\n  }\n\n  get hasFooterSlot () {\n    return this.$slots.footer\n  }\n\n  show () {\n    this.valueComputed = true\n  }\n\n  hide () {\n    this.valueComputed = false\n  }\n\n  toggle () {\n    this.valueComputed = !this.valueComputed\n  }\n\n  cancel () {\n    this.hide()\n    this.$emit('cancel')\n  }\n\n  ok () {\n    this.hide()\n    this.$emit('ok')\n  }\n\n  listenKeyUp (e: KeyboardEvent) {\n    if (e.code === 'Escape' && !this.$props.noEscDismiss && !this.$props.noDismiss) {\n      this.cancel()\n    }\n  }\n\n  onOutsideClick () {\n    if (this.$props.noOutsideDismiss || this.$props.noDismiss) { return }\n\n    this.$emit('click-outside')\n    this.cancel()\n  }\n\n  onBeforeEnterTransition (el: HTMLElement) {\n    this.$emit('before-open', el)\n  }\n\n  onAfterEnterTransition (el: HTMLElement) {\n    this.$emit('open', el)\n  }\n\n  onBeforeLeaveTransition (el: HTMLElement) {\n    this.$emit('before-close', el)\n  }\n\n  onAfterLeaveTransition (el: HTMLElement) {\n    this.$emit('close', el)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/resources';\n@import 'variables';\n\n.va-modal {\n  position: var(--va-modal-position);\n  display: var(--va-modal-display);\n  align-items: var(--va-modal-align-items);\n  justify-content: var(--va-modal-justify-content);\n  width: var(--va-modal-width);\n  height: var(--va-modal-height);\n  top: var(--va-modal-top);\n  left: var(--va-modal-left);\n  overflow: var(--va-modal-overflow);\n  outline: var(--va-modal-outline);\n  z-index: var(--va-modal-z-index);\n  font-family: var(--va-font-family);\n\n  &__title {\n    margin-bottom: 1.5rem;\n\n    @include va-title();\n  }\n\n  &__container {\n    z-index: var(--va-modal-container-z-index);\n\n    &--transition {\n      @include va-modal-transition();\n    }\n  }\n\n  &__dialog {\n    background: var(--va-modal-dialog-background);\n    min-height: var(--va-modal-dialog-min-height);\n    height: var(--va-modal-dialog-height);\n    border-radius: var(--va-modal-dialog-border-radius, var(--va-block-border-radius));\n    margin: var(--va-modal-dialog-margin);\n    box-shadow: var(--va-modal-dialog-box-shadow, var(--va-block-box-shadow));\n    max-width: var(--va-modal-dialog-max-width);\n    max-height: var(--va-modal-dialog-max-height);\n    position: var(--va-modal-dialog-position);\n    overflow: auto;\n  }\n\n  &__overlay {\n    position: var(--va-modal-overlay-position);\n    top: var(--va-modal-overlay-top);\n    left: var(--va-modal-overlay-left);\n    z-index: var(--va-modal-overlay-z-index);\n    width: var(--va-modal-overlay-width);\n    height: var(--va-modal-overlay-height);\n\n    &--transition {\n      @include va-modal-transition(true);\n    }\n  }\n\n  &--fullscreen {\n    min-width: 100vw !important;\n    min-height: 100vh !important;\n    border-radius: 0;\n    margin: 0;\n  }\n\n  &--mobile-fullscreen {\n    @media all and (max-width: map-get($grid-breakpoints, sm)) {\n      margin: 0 !important;\n      min-width: 100vw !important;\n      min-height: 100vh !important;\n      border-radius: 0;\n    }\n  }\n\n  &--size {\n    &-small {\n      max-width: map_get($grid-breakpoints, sm);\n\n      @media all and (max-width: map-get($grid-breakpoints, sm)) {\n        max-width: 100vw !important;\n      }\n\n      .va-modal__inner {\n        max-width: map_get($grid-breakpoints, sm);\n\n        @media all and (max-width: map-get($grid-breakpoints, sm)) {\n          max-width: 100vw !important;\n        }\n      }\n    }\n\n    &-large {\n      max-width: map-get($grid-breakpoints, lg);\n\n      .va-modal__inner {\n        max-width: map-get($grid-breakpoints, lg);\n      }\n    }\n  }\n\n  &--fixed-layout {\n    .va-modal__inner {\n      overflow: hidden;\n      padding: $modal-padding-top 0 $modal-padding-bottom;\n      max-height: calc(100vh - 2rem);\n\n      .va-modal__header,\n      .va-modal__footer,\n      .va-modal__title {\n        padding: 0 $modal-padding-right 0 $modal-padding-left;\n      }\n\n      .va-modal__message {\n        padding: 0 $modal-padding-right 0 $modal-padding-left;\n        overflow: auto;\n      }\n    }\n\n    .va-modal__dialog {\n      overflow: hidden;\n    }\n  }\n\n  &__message {\n    margin-bottom: 1.5rem;\n  }\n\n  &__inner {\n    overflow: visible;\n    display: flex;\n    position: relative;\n    flex-flow: column;\n    padding: $modal-padding-top $modal-padding-right $modal-padding-bottom $modal-padding-left;\n    max-width: map_get($grid-breakpoints, md);\n    margin: auto;\n\n    > div:last-of-type {\n      margin-bottom: 0 !important;\n    }\n  }\n\n  &__close {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    cursor: pointer;\n    font-size: 1.5rem !important;\n    font-style: normal !important;\n    color: $brand-secondary;\n    z-index: 1;\n  }\n\n  &__footer {\n    margin-top: auto;\n    min-height: fit-content;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n\n    &:last-of-type {\n      margin-bottom: 0 !important;\n    }\n  }\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport VaModal from './VaModal.vue'\n\nexport default withConfigTransport(VaModal)\n"]},"metadata":{},"sourceType":"module"}