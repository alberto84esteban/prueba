{"ast":null,"code":"import { __decorate as e } from \"tslib\";\nimport { V as t, m as s, O as a, p as l } from \"./vue-class-component.esm-bundler.js\";\nconst o = t.with(class Props {\n  constructor() {\n    this.modelValue = l({\n      type: void 0,\n      default: void 0\n    }), this.stateful = l({\n      type: Boolean,\n      default: !1\n    });\n  }\n\n});\nlet u = class StatefulMixin extends s(o) {\n  constructor() {\n    super(...arguments), this.valueState = {\n      modelValue: this.$props.modelValue\n    };\n  }\n\n  created() {\n    this.hasStatefulMixin = !0;\n  }\n\n  get valueComputed() {\n    return this.$props.stateful ? this.valueState.modelValue : this.$props.modelValue;\n  }\n\n  set valueComputed(e) {\n    this.$props.stateful && (this.valueState.modelValue = e), this.$emit(\"update:modelValue\", e);\n  }\n\n};\nu = e([a({\n  emits: [\"update:modelValue\"]\n})], u);\nexport { u as S };","map":{"version":3,"mappings":";;AAkBA,MAAMA,IAAaC,EAAIC,IAAJD,CAZnB,MAAME,KAAN,CAAMA;AAANC;AACEC,sBAAkBC,EAAgB;AAChCC,iBAAMC,CAD0B;AAEhCC,oBAASD;AAFuB,KAAhBF,CAAlBD,EAKAA,gBAAWC,EAAc;AACvBC,YAAMG,OADiB;AAEvBD,gBAAS;AAFc,KAAdH,CALXD;AAOW;;AARPF,CAYaF,CAAnB;AAJa,IAWAU,IAAb,MAAaA,aAAb,SAAmCC,EAAOZ,CAAPY,CAAnC,CAA0CZ;AAA1CI;AAAAA,yBACEC,kBAAyB;AACvBQ,kBAAYR,KAAKS,MAALT,CAAYQ;AADD,KAD3BT;AAOEW;;AAAAA;AACEV,SAAKW,gBAALX,GAAKW,CAAmB,CAAxBX;AAGFY;;AAAAA;AACE,WAAIZ,KAAKS,MAALT,CAAYa,QAAZb,GACKA,KAAKc,UAALd,CAAgBQ,UADrBR,GAGGA,KAAKS,MAALT,CAAYQ,UAHnB;AAMFI;;AAAAA,oBAAmBG,CAAnBH,EAAmBG;AACbf,SAAKS,MAALT,CAAYa,QAAZb,KACFA,KAAKc,UAALd,CAAgBQ,UAAhBR,GAA6Be,CAD3Bf,GAGJA,KAAKgB,KAALhB,CAAW,mBAAXA,EAAgCe,CAAhCf,CAHIA;AAG4Be;;AAtBMpB,CAX7B;AAWAW,OAHZW,EAAQ;AACPC,SAAO,CAAC,mBAAD;AADA,CAARD,CAGYX;AAAAA","names":["PropsMixin","Vue","with","Props","constructor","this","prop","type","undefined","default","Boolean","StatefulMixin","mixins","modelValue","$props","created","hasStatefulMixin","valueComputed","stateful","valueState","value","$emit","Options","emits"],"sources":["../../src/mixins/StatefulMixin/StatefulMixin.ts"],"sourcesContent":["import { mixins, Options, prop, Vue } from 'vue-class-component'\n\nexport type ValueState = {\n  modelValue?: any;\n}\n\nclass Props {\n  modelValue: any = prop<undefined>({\n    type: undefined,\n    default: undefined,\n  })\n\n  stateful = prop<boolean>({\n    type: Boolean,\n    default: false,\n  })\n}\n\nconst PropsMixin = Vue.with(Props)\n\n// TODO Definitions could be done better, but it's too complicated to bother.\n\n@Options({\n  emits: ['update:modelValue'],\n})\nexport class StatefulMixin extends mixins(PropsMixin) {\n  valueState: ValueState = {\n    modelValue: this.$props.modelValue,\n  }\n\n  hasStatefulMixin!: boolean\n\n  created () {\n    this.hasStatefulMixin = true\n  }\n\n  get valueComputed () {\n    if (this.$props.stateful) {\n      return this.valueState.modelValue\n    }\n    return this.$props.modelValue\n  }\n\n  set valueComputed (value) {\n    if (this.$props.stateful) {\n      this.valueState.modelValue = value\n    }\n    this.$emit('update:modelValue', value)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}