{"version":3,"file":"VaInput.js","sources":["../../src/components/va-input/hooks/useCleave.ts","../../src/components/va-input/components/VaInputWrapper.vue","../../src/composables/useBem.ts","../../src/components/va-input/components/VaInputWrapper.vue?vue&type=template&id=6c3205d6&lang.js","../../src/composables/useClearable.ts","../../src/components/va-input/components/VaTextarea/useTextareaRowHeight.ts","../../src/components/va-input/components/VaTextarea/VaTextarea.vue","../../src/components/va-input/components/VaTextarea/VaTextarea.vue?vue&type=template&id=150a9286&lang.js","../../src/components/va-input/VaInput.vue","../../src/components/va-input/VaInput.vue?vue&type=template&id=db73a230&lang.js"],"sourcesContent":["import Cleave from 'cleave.js'\nimport { CleaveOptions } from 'cleave.js/options'\nimport { computed, onBeforeUnmount, onMounted, ref, Ref, watch } from 'vue'\n\nconst DEFAULT_MASK_TOKENS: Record<string, Record<string, unknown>> = {\n  creditCard: {\n    creditCard: true,\n  },\n  date: {\n    date: true,\n    datePattern: ['d', 'm', 'Y'],\n  },\n  time: {\n    time: true,\n    timePattern: ['h', 'm'],\n    timeFormat: '24',\n  },\n  numeral: {\n    numeral: true,\n    numeralThousandsGroupStyle: 'thousand',\n  },\n}\n\nexport const useCleaveProps = {\n  mask: { type: [String, Object], default: '' },\n  returnRaw: { type: Boolean, default: true },\n  modelValue: { type: String },\n}\n\ntype Props = {\n  mask: string | Record<string, string>,\n  returnRaw: boolean,\n  modelValue: string | number,\n}\n\nexport const useCleave = (\n  element: Ref<HTMLInputElement | undefined>,\n  props: Props,\n  emit: (event: 'update:modelValue' | any, ...args: any[]) => any,\n) => {\n  const cleave = ref<Cleave>()\n\n  const getMask = (mask: CleaveOptions | string) => {\n    if (typeof mask === 'string') {\n      return DEFAULT_MASK_TOKENS[mask] ? { ...DEFAULT_MASK_TOKENS[mask] } : {}\n    }\n    return { ...mask }\n  }\n\n  const destroyCleave = () => {\n    if (cleave.value) { cleave.value.destroy() }\n  }\n\n  const initCleave = () => {\n    destroyCleave()\n\n    if (!element.value) { return }\n\n    cleave.value = new Cleave(element.value, getMask(props.mask))\n  }\n\n  onMounted(() => { initCleave() })\n  onBeforeUnmount(() => { destroyCleave() })\n\n  watch(() => [element.value, props.mask], () => { initCleave() })\n\n  const computedValue = computed<string | number>(() => {\n    if (cleave.value) {\n      if (props.returnRaw && props.modelValue === cleave.value.getRawValue()) {\n        return cleave.value.getFormattedValue()\n      }\n    }\n\n    return props.modelValue\n  })\n\n  const onInput = (event: Event) => {\n    const value = (event.target as HTMLInputElement).value\n\n    if (props.mask !== 'string' && !Object.keys(props.mask).length) {\n      emit('update:modelValue', value)\n      return\n    }\n\n    if (cleave.value) {\n      cleave.value.setRawValue(value)\n      if (props.returnRaw) {\n        emit('update:modelValue', cleave.value.getRawValue())\n        return\n      }\n    }\n\n    emit('update:modelValue', value)\n  }\n\n  return {\n    cleave,\n    computedValue,\n    onInput,\n  }\n}\n","<template>\n  <div\n    class=\"va-input-wrapper\"\n    :class=\"wrapperClass\"\n    @click=\"$emit('click', $event)\"\n  >\n    <div class=\"va-input-wrapper__input\">\n      <div\n        v-if=\"$slots.prepend\"\n        class=\"va-input-wrapper__prepend-inner\"\n        @click=\"$emit('click-prepend')\"\n      >\n        <slot name=\"prepend\" />\n      </div>\n\n      <div class=\"va-input-wrapper__content\">\n        <div\n          class=\"va-input__container\"\n          ref=\"container\"\n          :style=\"{ borderColor: borderColorComputed }\"\n        >\n          <div\n            v-if=\"$slots.prependInner\"\n            class=\"va-input__prepend-inner\"\n            @click=\"$emit('click-prepend-inner', $event)\"\n          >\n            <slot name=\"prependInner\" />\n          </div>\n\n          <div class=\"va-input__content-wrapper\">\n            <div class=\"va-input__content\">\n              <label\n                v-if=\"label\"\n                aria-hidden=\"true\"\n                class=\"va-input__label\"\n                :style=\"{ color: colorComputed }\"\n              >\n                {{ label }}\n                <span\n                  v-if=\"requiredMark\"\n                  class=\"va-input__required-mark\"\n                >\n                  *\n                </span>\n              </label>\n\n              <div v-if=\"$slots.content\" class=\"va-input__content__input\">\n                <slot name=\"content\" />\n              </div>\n\n              <slot />\n            </div>\n          </div>\n\n          <div\n            v-if=\"$slots.icon\"\n            class=\"va-input__icons\"\n            @click=\"$emit('click-icon', $event)\"\n          >\n            <slot name=\"icon\" />\n          </div>\n\n          <div\n            v-if=\"$slots.appendInner\"\n            class=\"va-input__append-inner\"\n            @click=\"$emit('click-append-inner', $event)\"\n          >\n            <slot name=\"appendInner\" />\n          </div>\n        </div>\n\n        <div\n          v-if=\"bordered\"\n          class=\"va-input--bordered__border\"\n          :style=\"{ borderColor: borderColorComputed }\"\n        />\n      </div>\n\n      <div\n        v-if=\"$slots.append\"\n        class=\"va-input-wrapper__append-inner\"\n        @click=\"$emit('click-append')\"\n      >\n        <slot name=\"append\" />\n      </div>\n    </div>\n\n    <div class=\"va-input-wrapper__message-list-wrapper\">\n      <slot name=\"messages\" v-bind=\"{ messages: messagesComputed, errorLimit, color: messagesColor }\">\n        <va-message-list\n          :color=\"messagesColor\"\n          :model-value=\"messagesComputed\"\n          :limit=\"errorLimit\"\n        />\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from 'vue'\nimport { useBem } from '../../../composables/useBem'\nimport { useFormProps } from '../../../composables/useForm'\nimport { useValidationProps } from '../../../composables/useValidation'\nimport { getColor } from '../../../services/color-config/color-config'\nimport VaMessageList from './VaMessageList'\n\nexport default defineComponent({\n  name: 'VaInputWrapper',\n\n  components: { VaMessageList },\n\n  props: {\n    ...useFormProps,\n    ...useValidationProps,\n\n    label: { type: String, default: '' },\n    color: { type: String, default: 'primary' },\n    outline: { type: Boolean, default: false },\n    bordered: { type: Boolean, default: false },\n    focused: { type: Boolean, default: false },\n    error: { type: Boolean, default: false },\n    success: { type: Boolean, default: false },\n    requiredMark: { type: Boolean, default: false },\n  },\n\n  emits: [\n    'click',\n    'click-prepend',\n    'click-append',\n    'click-prepend-inner',\n    'click-append-inner',\n    'click-icon',\n  ],\n\n  setup (props) {\n    const { createModifiersClasses } = useBem('va-input')\n\n    const colorComputed = computed(() => getColor(props.color))\n\n    return {\n      wrapperClass: createModifiersClasses(() => ({\n        outline: props.outline,\n        bordered: props.bordered,\n        solid: !props.outline && !props.bordered,\n        disabled: props.disabled,\n        readonly: props.readonly,\n        labeled: !!props.label,\n        success: props.success,\n        focused: props.focused,\n        error: props.error,\n      })),\n\n      colorComputed,\n      borderColorComputed: computed(() => props.focused ? colorComputed.value : undefined),\n\n      messagesColor: computed(() => {\n        if (props.error) { return 'danger' }\n        if (props.success) { return 'success' }\n\n        return ''\n      }),\n      messagesComputed: computed(() => props.error ? props.errorMessages : props.messages),\n      errorLimit: computed(() => props.error ? props.errorCount : 99),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import '../../../styles/resources/index.scss';\n@import '../variables';\n\n.va-input {\n  position: relative;\n  color: var(--va-input-text-color);\n  cursor: var(--va-input-cursor);\n  font-family: var(--va-font-family);\n\n  &--readonly {\n    cursor: default;\n  }\n\n  &--disabled {\n    @include va-disabled;\n  }\n\n  &__container {\n    display: flex;\n    position: relative;\n    align-items: center;\n    width: 100%;\n    min-height: var(--va-input-min-height);\n    border-color: var(--va-input-color);\n    border-style: solid;\n    border-width: var(--va-input-border-width);\n    overflow: hidden;\n    padding: 0 var(--va-input-content-horizontal-padding);\n\n    /* Creates gap between prepend, content, validation icons, append */\n    & > * {\n      padding-right: var(--va-input-content-items-gap);\n      line-height: 0;\n\n      &:last-child {\n        padding-right: 0;\n      }\n    }\n  }\n\n  &-wrapper__input {\n    display: flex;\n    align-items: center;\n  }\n\n  &-wrapper__message-list-wrapper {\n    margin-top: 2px;\n  }\n\n  &-wrapper__content {\n    position: relative;\n    flex-grow: 1;\n  }\n\n  &-wrapper__prepend-inner,\n  &-wrapper__append-inner,\n  &__prepend-inner,\n  &__append-inner {\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n  }\n\n  &__content-wrapper {\n    display: flex;\n    align-items: center;\n    width: 100%;\n\n    .va-input__content {\n      width: 100%;\n      position: relative;\n\n      input {\n        cursor: inherit;\n      }\n\n      &__input {\n        @include va-scroll(var(--va-input-scroll-color));\n\n        width: 100%;\n        // Use line-height as min-height for empty content slot\n        min-height: var(--va-input-line-height);\n        color: var(--va-input-text-color);\n        background-color: transparent;\n        border-style: none;\n        outline: none;\n        line-height: var(--va-input-line-height);\n        font-size: var(--va-input-font-size);\n        font-family: inherit;\n        font-weight: var(--va-input-font-weight);\n        font-style: var(--va-input-font-style);\n        font-stretch: var(--va-input-font-stretch);\n        letter-spacing: var(--va-input-letter-spacing);\n        transform: translateY(-1px);\n\n        &::-webkit-scrollbar {\n          width: 10px;\n        }\n\n        &::placeholder {\n          color: var(--va-input-placeholder-text-color);\n        }\n\n        &:disabled {\n          opacity: var(--va-input-disabled-opacity);\n        }\n      }\n    }\n  }\n\n  &__icons {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    & > * {\n      margin-right: calc(var(--va-input-content-items-gap) / 4);\n\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n  }\n\n  &__required-mark {\n    transform: translate(0, -2px);\n    color: var(--va-danger);\n    font-size: 18px;\n    font-weight: var(--va-input-container-label-font-weight);\n  }\n\n  textarea {\n    margin: 12px 0;\n    resize: vertical;\n  }\n\n  &--labeled {\n    .va-input__content-wrapper {\n      padding-top: 12px;\n      height: 100%;\n      align-items: flex-end;\n    }\n\n    .va-input__label {\n      @include va-ellipsis();\n\n      height: 12px;\n      transform: translateY(-100%);\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: flex;\n      padding-top: 1px;\n      max-width: var(--va-input-container-label-max-width);\n      color: var(--va-input-container-label-color);\n      font-size: var(--va-input-container-label-font-size);\n      letter-spacing: var(--va-input-container-label-letter-spacing, var(--va-letter-spacing));\n      line-height: var(--va-input-container-label-line-height);\n      font-weight: var(--va-input-container-label-font-weight);\n      text-transform: var(--va-input-container-label-text-transform);\n      transform-origin: top left;\n    }\n\n    textarea {\n      margin-top: 0;\n    }\n  }\n\n  /* We have 3 styles and two states for each style separately */\n  &--solid {\n    .va-input__container {\n      background: var(--va-input-color);\n      border-color: var(--va-input-color);\n      border-radius: var(--va-input-border-radius);\n    }\n\n    &.va-input--success {\n      .va-input__container {\n        background: var(--va-input-success-background);\n        border-color: var(--va-input-success-color);\n      }\n    }\n\n    &.va-input--error {\n      .va-input__container {\n        background: var(--va-input-error-background);\n        border-color: var(--va-input-error-color);\n      }\n    }\n  }\n\n  &--outline {\n    .va-input__container {\n      border-radius: 0;\n      border-color: var(--va-input-bordered-color);\n    }\n\n    &.va-input--success {\n      .va-input__container {\n        background: var(--va-input-success-background);\n        border-color: var(--va-input-success-color);\n      }\n    }\n\n    &.va-input--error {\n      .va-input__container {\n        background: var(--va-input-error-background);\n        border-color: var(--va-input-error-color);\n      }\n    }\n  }\n\n  &--bordered {\n    /*\n      We can not just set border-bottom, because we also have border on the other sides.\n      We also can not use after or before, because we need to set border-color according to\n      color prop\n    */\n    &__border {\n      border-color: var(--va-input-bordered-color);\n      position: absolute;\n      height: 0;\n      border-bottom-width: var(--va-input-border-width);\n      border-bottom-style: solid;\n      width: 100%;\n      bottom: 0;\n    }\n\n    .va-input__container {\n      background: var(--va-input-color);\n      border-top-left-radius: var(--va-input-border-radius);\n      border-top-right-radius: var(--va-input-border-radius);\n      border-color: transparent !important;\n    }\n\n    &.va-input--success {\n      .va-input__container {\n        background: var(--va-input-success-background);\n      }\n\n      .va-input_bordered__border {\n        border-color: var(--va-input-success-color);\n      }\n    }\n\n    &.va-input--error {\n      .va-input__container {\n        background: var(--va-input-error-background);\n      }\n\n      .va-input_bordered__border {\n        border-color: var(--va-input-error-color);\n      }\n    }\n  }\n}\n</style>\n","import { computed, Ref, unref } from 'vue'\n\nexport const useBem = (baseClass: string) => {\n  const createModifiersClasses = (modifiersCb: () => Record<string, boolean>, classes: string[] | Ref<string[]> = []) => {\n    return computed(() => {\n      const modifiers = modifiersCb()\n      return [\n        baseClass,\n        ...unref(classes),\n        ...Object\n          .keys(modifiers)\n          .filter((modifierName) => modifiers[modifierName])\n          .map((modifierName) => `${baseClass}--${modifierName}`),\n      ]\n    })\n  }\n\n  return {\n    createModifiersClasses,\n  }\n}\n","<template>\n  <div\n    class=\"va-input-wrapper\"\n    :class=\"wrapperClass\"\n    @click=\"$emit('click', $event)\"\n  >\n    <div class=\"va-input-wrapper__input\">\n      <div\n        v-if=\"$slots.prepend\"\n        class=\"va-input-wrapper__prepend-inner\"\n        @click=\"$emit('click-prepend')\"\n      >\n        <slot name=\"prepend\" />\n      </div>\n\n      <div class=\"va-input-wrapper__content\">\n        <div\n          class=\"va-input__container\"\n          ref=\"container\"\n          :style=\"{ borderColor: borderColorComputed }\"\n        >\n          <div\n            v-if=\"$slots.prependInner\"\n            class=\"va-input__prepend-inner\"\n            @click=\"$emit('click-prepend-inner', $event)\"\n          >\n            <slot name=\"prependInner\" />\n          </div>\n\n          <div class=\"va-input__content-wrapper\">\n            <div class=\"va-input__content\">\n              <label\n                v-if=\"label\"\n                aria-hidden=\"true\"\n                class=\"va-input__label\"\n                :style=\"{ color: colorComputed }\"\n              >\n                {{ label }}\n                <span\n                  v-if=\"requiredMark\"\n                  class=\"va-input__required-mark\"\n                >\n                  *\n                </span>\n              </label>\n\n              <div v-if=\"$slots.content\" class=\"va-input__content__input\">\n                <slot name=\"content\" />\n              </div>\n\n              <slot />\n            </div>\n          </div>\n\n          <div\n            v-if=\"$slots.icon\"\n            class=\"va-input__icons\"\n            @click=\"$emit('click-icon', $event)\"\n          >\n            <slot name=\"icon\" />\n          </div>\n\n          <div\n            v-if=\"$slots.appendInner\"\n            class=\"va-input__append-inner\"\n            @click=\"$emit('click-append-inner', $event)\"\n          >\n            <slot name=\"appendInner\" />\n          </div>\n        </div>\n\n        <div\n          v-if=\"bordered\"\n          class=\"va-input--bordered__border\"\n          :style=\"{ borderColor: borderColorComputed }\"\n        />\n      </div>\n\n      <div\n        v-if=\"$slots.append\"\n        class=\"va-input-wrapper__append-inner\"\n        @click=\"$emit('click-append')\"\n      >\n        <slot name=\"append\" />\n      </div>\n    </div>\n\n    <div class=\"va-input-wrapper__message-list-wrapper\">\n      <slot name=\"messages\" v-bind=\"{ messages: messagesComputed, errorLimit, color: messagesColor }\">\n        <va-message-list\n          :color=\"messagesColor\"\n          :model-value=\"messagesComputed\"\n          :limit=\"errorLimit\"\n        />\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from 'vue'\nimport { useBem } from '../../../composables/useBem'\nimport { useFormProps } from '../../../composables/useForm'\nimport { useValidationProps } from '../../../composables/useValidation'\nimport { getColor } from '../../../services/color-config/color-config'\nimport VaMessageList from './VaMessageList'\n\nexport default defineComponent({\n  name: 'VaInputWrapper',\n\n  components: { VaMessageList },\n\n  props: {\n    ...useFormProps,\n    ...useValidationProps,\n\n    label: { type: String, default: '' },\n    color: { type: String, default: 'primary' },\n    outline: { type: Boolean, default: false },\n    bordered: { type: Boolean, default: false },\n    focused: { type: Boolean, default: false },\n    error: { type: Boolean, default: false },\n    success: { type: Boolean, default: false },\n    requiredMark: { type: Boolean, default: false },\n  },\n\n  emits: [\n    'click',\n    'click-prepend',\n    'click-append',\n    'click-prepend-inner',\n    'click-append-inner',\n    'click-icon',\n  ],\n\n  setup (props) {\n    const { createModifiersClasses } = useBem('va-input')\n\n    const colorComputed = computed(() => getColor(props.color))\n\n    return {\n      wrapperClass: createModifiersClasses(() => ({\n        outline: props.outline,\n        bordered: props.bordered,\n        solid: !props.outline && !props.bordered,\n        disabled: props.disabled,\n        readonly: props.readonly,\n        labeled: !!props.label,\n        success: props.success,\n        focused: props.focused,\n        error: props.error,\n      })),\n\n      colorComputed,\n      borderColorComputed: computed(() => props.focused ? colorComputed.value : undefined),\n\n      messagesColor: computed(() => {\n        if (props.error) { return 'danger' }\n        if (props.success) { return 'success' }\n\n        return ''\n      }),\n      messagesComputed: computed(() => props.error ? props.errorMessages : props.messages),\n      errorLimit: computed(() => props.error ? props.errorCount : 99),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import '../../../styles/resources/index.scss';\n@import '../variables';\n\n.va-input {\n  position: relative;\n  color: var(--va-input-text-color);\n  cursor: var(--va-input-cursor);\n  font-family: var(--va-font-family);\n\n  &--readonly {\n    cursor: default;\n  }\n\n  &--disabled {\n    @include va-disabled;\n  }\n\n  &__container {\n    display: flex;\n    position: relative;\n    align-items: center;\n    width: 100%;\n    min-height: var(--va-input-min-height);\n    border-color: var(--va-input-color);\n    border-style: solid;\n    border-width: var(--va-input-border-width);\n    overflow: hidden;\n    padding: 0 var(--va-input-content-horizontal-padding);\n\n    /* Creates gap between prepend, content, validation icons, append */\n    & > * {\n      padding-right: var(--va-input-content-items-gap);\n      line-height: 0;\n\n      &:last-child {\n        padding-right: 0;\n      }\n    }\n  }\n\n  &-wrapper__input {\n    display: flex;\n    align-items: center;\n  }\n\n  &-wrapper__message-list-wrapper {\n    margin-top: 2px;\n  }\n\n  &-wrapper__content {\n    position: relative;\n    flex-grow: 1;\n  }\n\n  &-wrapper__prepend-inner,\n  &-wrapper__append-inner,\n  &__prepend-inner,\n  &__append-inner {\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n  }\n\n  &__content-wrapper {\n    display: flex;\n    align-items: center;\n    width: 100%;\n\n    .va-input__content {\n      width: 100%;\n      position: relative;\n\n      input {\n        cursor: inherit;\n      }\n\n      &__input {\n        @include va-scroll(var(--va-input-scroll-color));\n\n        width: 100%;\n        // Use line-height as min-height for empty content slot\n        min-height: var(--va-input-line-height);\n        color: var(--va-input-text-color);\n        background-color: transparent;\n        border-style: none;\n        outline: none;\n        line-height: var(--va-input-line-height);\n        font-size: var(--va-input-font-size);\n        font-family: inherit;\n        font-weight: var(--va-input-font-weight);\n        font-style: var(--va-input-font-style);\n        font-stretch: var(--va-input-font-stretch);\n        letter-spacing: var(--va-input-letter-spacing);\n        transform: translateY(-1px);\n\n        &::-webkit-scrollbar {\n          width: 10px;\n        }\n\n        &::placeholder {\n          color: var(--va-input-placeholder-text-color);\n        }\n\n        &:disabled {\n          opacity: var(--va-input-disabled-opacity);\n        }\n      }\n    }\n  }\n\n  &__icons {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    & > * {\n      margin-right: calc(var(--va-input-content-items-gap) / 4);\n\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n  }\n\n  &__required-mark {\n    transform: translate(0, -2px);\n    color: var(--va-danger);\n    font-size: 18px;\n    font-weight: var(--va-input-container-label-font-weight);\n  }\n\n  textarea {\n    margin: 12px 0;\n    resize: vertical;\n  }\n\n  &--labeled {\n    .va-input__content-wrapper {\n      padding-top: 12px;\n      height: 100%;\n      align-items: flex-end;\n    }\n\n    .va-input__label {\n      @include va-ellipsis();\n\n      height: 12px;\n      transform: translateY(-100%);\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: flex;\n      padding-top: 1px;\n      max-width: var(--va-input-container-label-max-width);\n      color: var(--va-input-container-label-color);\n      font-size: var(--va-input-container-label-font-size);\n      letter-spacing: var(--va-input-container-label-letter-spacing, var(--va-letter-spacing));\n      line-height: var(--va-input-container-label-line-height);\n      font-weight: var(--va-input-container-label-font-weight);\n      text-transform: var(--va-input-container-label-text-transform);\n      transform-origin: top left;\n    }\n\n    textarea {\n      margin-top: 0;\n    }\n  }\n\n  /* We have 3 styles and two states for each style separately */\n  &--solid {\n    .va-input__container {\n      background: var(--va-input-color);\n      border-color: var(--va-input-color);\n      border-radius: var(--va-input-border-radius);\n    }\n\n    &.va-input--success {\n      .va-input__container {\n        background: var(--va-input-success-background);\n        border-color: var(--va-input-success-color);\n      }\n    }\n\n    &.va-input--error {\n      .va-input__container {\n        background: var(--va-input-error-background);\n        border-color: var(--va-input-error-color);\n      }\n    }\n  }\n\n  &--outline {\n    .va-input__container {\n      border-radius: 0;\n      border-color: var(--va-input-bordered-color);\n    }\n\n    &.va-input--success {\n      .va-input__container {\n        background: var(--va-input-success-background);\n        border-color: var(--va-input-success-color);\n      }\n    }\n\n    &.va-input--error {\n      .va-input__container {\n        background: var(--va-input-error-background);\n        border-color: var(--va-input-error-color);\n      }\n    }\n  }\n\n  &--bordered {\n    /*\n      We can not just set border-bottom, because we also have border on the other sides.\n      We also can not use after or before, because we need to set border-color according to\n      color prop\n    */\n    &__border {\n      border-color: var(--va-input-bordered-color);\n      position: absolute;\n      height: 0;\n      border-bottom-width: var(--va-input-border-width);\n      border-bottom-style: solid;\n      width: 100%;\n      bottom: 0;\n    }\n\n    .va-input__container {\n      background: var(--va-input-color);\n      border-top-left-radius: var(--va-input-border-radius);\n      border-top-right-radius: var(--va-input-border-radius);\n      border-color: transparent !important;\n    }\n\n    &.va-input--success {\n      .va-input__container {\n        background: var(--va-input-success-background);\n      }\n\n      .va-input_bordered__border {\n        border-color: var(--va-input-success-color);\n      }\n    }\n\n    &.va-input--error {\n      .va-input__container {\n        background: var(--va-input-error-background);\n      }\n\n      .va-input_bordered__border {\n        border-color: var(--va-input-error-color);\n      }\n    }\n  }\n}\n</style>\n","import { computed, Ref } from 'vue'\n\ninterface ClearableProps {\n  clearable: boolean\n  clearableIcon: string\n  clearValue: any\n  disabled?: boolean\n  readonly?: boolean\n  success?: boolean\n  color?: string\n}\n\nexport const useClearableProps = {\n  clearable: { type: Boolean, default: false },\n  clearableIcon: { type: String, default: 'highlight_off' },\n  clearValue: { type: String, default: '' },\n}\n\nexport const useClearableEmits = ['clear']\n\nexport const useClearable = (\n  props: ClearableProps,\n  inputValue: Ref<any>,\n  isFocused?: Ref<boolean>,\n  hasError?: Ref<boolean>,\n) => {\n  const clearedValues = [null, undefined, props.clearValue]\n\n  const canBeCleared = computed(() => (\n    props.clearable &&\n    !props.disabled &&\n    !props.readonly &&\n    !clearedValues.includes(inputValue.value)\n  ))\n\n  const clearIconColor = computed(() => {\n    if (isFocused?.value) { return props.color || 'primary' }\n    if (hasError?.value) { return 'danger' }\n    if (props.success) { return 'success' }\n\n    return 'gray'\n  })\n\n  const clearIconProps = computed(() => ({\n    name: props.clearableIcon,\n    color: clearIconColor.value,\n    size: 'small',\n  }))\n\n  return {\n    canBeCleared,\n    clearIconColor,\n    clearIconProps,\n  }\n}\n","import { Ref } from 'vue'\n\nconst HIDDEN_TEXTAREA_STYLE = `\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important';\n`\n\nconst SIZING_STYLE = [\n  'letter-spacing',\n  'line-height',\n  'padding-top',\n  'padding-bottom',\n  'font-family',\n  'font-weight',\n  'font-size',\n  'text-rendering',\n  'text-transform',\n  'width',\n  'text-indent',\n  'padding-left',\n  'padding-right',\n  'border-width',\n  'box-sizing',\n]\n\nconst getNodeHeightStyles = (node: HTMLElement) => {\n  const style = window.getComputedStyle(node)\n\n  return {\n    boxSizing:\n      style.getPropertyValue('box-sizing') ||\n      style.getPropertyValue('-moz-box-sizing') ||\n      style.getPropertyValue('-webkit-box-sizing'),\n    padding:\n      parseFloat(style.getPropertyValue('padding-bottom')) +\n      parseFloat(style.getPropertyValue('padding-top')),\n    border:\n      parseFloat(style.getPropertyValue('border-bottom-width')) +\n      parseFloat(style.getPropertyValue('border-top-width')),\n    styles:\n      SIZING_STYLE.map(name => `${name}:${style.getPropertyValue(name)}`).join(';') + ';',\n    lineHeight:\n      parseInt(style.getPropertyValue('line-height')),\n  }\n}\n\nlet textarea: null | HTMLTextAreaElement = null\n\nconst createHiddenTextarea = (original: HTMLTextAreaElement, styles: string) => {\n  if (!textarea) {\n    textarea = document.createElement('textarea')\n  }\n\n  textarea.setAttribute('style', styles + HIDDEN_TEXTAREA_STYLE)\n  textarea.value = original.value || original.placeholder || ''\n  const wrap = original.getAttribute('wrap')\n\n  if (wrap !== null) {\n    textarea.setAttribute('wrap', wrap)\n  } else {\n    textarea.removeAttribute('wrap')\n  }\n\n  return textarea\n}\n\nexport const useTextareaRowHeight = (textarea: Ref<HTMLTextAreaElement | undefined>) => {\n  const calculateRowHeight = () => {\n    if (!textarea.value) { return 0 }\n\n    return getNodeHeightStyles(textarea.value).lineHeight\n  }\n\n  const calculateHeight = () => {\n    if (!textarea.value) { return 0 }\n\n    const { boxSizing, padding, border, styles } = getNodeHeightStyles(textarea.value)\n    const hiddenTextarea = createHiddenTextarea(textarea.value, styles)\n    document.body.appendChild(hiddenTextarea)\n    let height = hiddenTextarea.scrollHeight\n\n    if (boxSizing === 'border-box') {\n      height += border\n    } else if (boxSizing === 'content-box') {\n      height -= padding\n    }\n\n    document.body.removeChild(hiddenTextarea)\n\n    return height\n  }\n\n  return {\n    calculateRowHeight,\n    calculateHeight,\n  }\n}\n","<template>\n  <textarea\n    ref=\"textarea\"\n    class=\"textarea\"\n    v-bind=\"{ ...computedProps, ...listeners }\"\n    :value=\"modelValue\"\n    :style=\"computedStyle\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, onMounted, ref, watch, nextTick } from 'vue'\nimport pick from 'lodash/pick'\nimport { useFormProps } from '../../../../composables/useForm'\nimport { useTextareaRowHeight } from './useTextareaRowHeight'\nimport { useEmitProxy } from '../../../../composables/useEmitProxy'\n\nconst positiveNumberValidator = (val: number) => {\n  if (val > 0 && (val | 0) === val) {\n    return true\n  }\n  throw new Error(`\\`minRows|maxRows\\` must be a positive integer greater than 0, but ${val} is provided`)\n}\n\nconst { createEmits, createListeners } = useEmitProxy([\n  'input', 'change', 'click', 'update:modelValue',\n])\n\nexport default defineComponent({\n  name: 'VaTextarea',\n\n  props: {\n    ...useFormProps,\n    modelValue: { type: [String, Number], default: '' },\n    placeholder: { type: String },\n    autosize: { type: Boolean, default: false },\n    minRows: {\n      type: Number,\n      default: 1,\n      validator: positiveNumberValidator,\n    },\n\n    maxRows: {\n      type: Number,\n      validator: positiveNumberValidator,\n    },\n  },\n\n  emits: createEmits(),\n\n  setup (props, { emit }) {\n    const textarea = ref<HTMLTextAreaElement | undefined>()\n    const rowHeight = ref(-1)\n    const height = ref(-1)\n    const { calculateRowHeight, calculateHeight } = useTextareaRowHeight(textarea)\n\n    const isResizable = computed(() => {\n      return (props.autosize || props.maxRows || props.minRows !== 1) && textarea.value\n    })\n\n    const updateRowHeight = () => {\n      if (isResizable.value) {\n        rowHeight.value = calculateRowHeight()\n      }\n    }\n\n    const updateHeight = () => {\n      if (isResizable.value) {\n        height.value = calculateHeight()\n      }\n    }\n\n    onMounted(() => {\n      updateRowHeight()\n      updateHeight()\n    })\n\n    watch(() => props.modelValue, () => {\n      nextTick(updateHeight)\n    })\n\n    const computedStyle = computed(() => ({\n      minHeight: rowHeight.value * props.minRows + 'px',\n      maxHeight: props.maxRows && (rowHeight.value * props.maxRows + 'px'),\n      height: height.value + 'px',\n      resize: isResizable.value && 'none',\n    }))\n\n    const computedProps = computed(() => ({\n      ...pick(props, ['disabled', 'readonly', 'placeholder']),\n    }))\n\n    const focus = () => {\n      textarea.value?.focus()\n    }\n\n    const blur = () => {\n      textarea.value?.blur()\n    }\n\n    return {\n      textarea,\n      computedStyle,\n      listeners: createListeners(emit),\n      computedProps,\n\n      // will used after fix 'useConfigTransport'\n      // focus,\n      // blur,\n    }\n  },\n\n  // we use this while we have problem with 'useConfigTransport'\n  methods: {\n    focus () { this.textarea?.focus() },\n    blur () { this.textarea?.blur() },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.textarea {\n  padding: 0;\n  border: 0;\n  font-family: var(--va-font-family);\n}\n</style>\n","<template>\n  <textarea\n    ref=\"textarea\"\n    class=\"textarea\"\n    v-bind=\"{ ...computedProps, ...listeners }\"\n    :value=\"modelValue\"\n    :style=\"computedStyle\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, onMounted, ref, watch, nextTick } from 'vue'\nimport pick from 'lodash/pick'\nimport { useFormProps } from '../../../../composables/useForm'\nimport { useTextareaRowHeight } from './useTextareaRowHeight'\nimport { useEmitProxy } from '../../../../composables/useEmitProxy'\n\nconst positiveNumberValidator = (val: number) => {\n  if (val > 0 && (val | 0) === val) {\n    return true\n  }\n  throw new Error(`\\`minRows|maxRows\\` must be a positive integer greater than 0, but ${val} is provided`)\n}\n\nconst { createEmits, createListeners } = useEmitProxy([\n  'input', 'change', 'click', 'update:modelValue',\n])\n\nexport default defineComponent({\n  name: 'VaTextarea',\n\n  props: {\n    ...useFormProps,\n    modelValue: { type: [String, Number], default: '' },\n    placeholder: { type: String },\n    autosize: { type: Boolean, default: false },\n    minRows: {\n      type: Number,\n      default: 1,\n      validator: positiveNumberValidator,\n    },\n\n    maxRows: {\n      type: Number,\n      validator: positiveNumberValidator,\n    },\n  },\n\n  emits: createEmits(),\n\n  setup (props, { emit }) {\n    const textarea = ref<HTMLTextAreaElement | undefined>()\n    const rowHeight = ref(-1)\n    const height = ref(-1)\n    const { calculateRowHeight, calculateHeight } = useTextareaRowHeight(textarea)\n\n    const isResizable = computed(() => {\n      return (props.autosize || props.maxRows || props.minRows !== 1) && textarea.value\n    })\n\n    const updateRowHeight = () => {\n      if (isResizable.value) {\n        rowHeight.value = calculateRowHeight()\n      }\n    }\n\n    const updateHeight = () => {\n      if (isResizable.value) {\n        height.value = calculateHeight()\n      }\n    }\n\n    onMounted(() => {\n      updateRowHeight()\n      updateHeight()\n    })\n\n    watch(() => props.modelValue, () => {\n      nextTick(updateHeight)\n    })\n\n    const computedStyle = computed(() => ({\n      minHeight: rowHeight.value * props.minRows + 'px',\n      maxHeight: props.maxRows && (rowHeight.value * props.maxRows + 'px'),\n      height: height.value + 'px',\n      resize: isResizable.value && 'none',\n    }))\n\n    const computedProps = computed(() => ({\n      ...pick(props, ['disabled', 'readonly', 'placeholder']),\n    }))\n\n    const focus = () => {\n      textarea.value?.focus()\n    }\n\n    const blur = () => {\n      textarea.value?.blur()\n    }\n\n    return {\n      textarea,\n      computedStyle,\n      listeners: createListeners(emit),\n      computedProps,\n\n      // will used after fix 'useConfigTransport'\n      // focus,\n      // blur,\n    }\n  },\n\n  // we use this while we have problem with 'useConfigTransport'\n  methods: {\n    focus () { this.textarea?.focus() },\n    blur () { this.textarea?.blur() },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.textarea {\n  padding: 0;\n  border: 0;\n  font-family: var(--va-font-family);\n}\n</style>\n","<template>\n  <VaInputWrapper\n    v-bind=\"fieldListeners\"\n    :class=\"$attrs.class\"\n    :style=\"$attrs.style\"\n    :color=\"color\"\n    :readonly=\"readonly\"\n    :disabled=\"disabled\"\n    :success=\"success\"\n    :messages=\"messages\"\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"errorCount\"\n    :label=\"label\"\n    :bordered=\"bordered\"\n    :outline=\"outline\"\n    :focused=\"isFocused\"\n    :requiredMark=\"requiredMark\"\n    @click=\"input && input.focus()\"\n  >\n    <!-- Simply proxy slots to VaInputWrapper -->\n    <template\n      v-for=\"name in filterSlots\"\n      :key=\"name\"\n      v-slot:[name]=\"slotScope\"\n    >\n      <slot :name=\"name\" v-bind=\"slotScope\" />\n    </template>\n\n    <template #icon=\"slotScope\">\n      <va-icon\n        v-if=\"success\"\n        color=\"success\"\n        name=\"check_circle\"\n        size=\"small\"\n      />\n      <va-icon\n        v-if=\"computedError\"\n        color=\"danger\"\n        name=\"warning\"\n        size=\"small\"\n      />\n      <va-icon\n        v-if=\"canBeCleared\"\n        v-bind=\"clearIconProps\"\n        @click.stop=\"reset()\"\n      />\n      <va-icon\n        v-if=\"loading\"\n        :color=\"color\"\n        size=\"small\"\n        name=\"loop\"\n        spin=\"counter-clockwise\"\n      />\n      <slot name=\"icon\" v-bind=\"slotScope\" />\n    </template>\n\n    <VaTextarea\n      v-if=\"type === 'textarea' && !$slots.content\"\n      ref=\"input\"\n      v-bind=\"{ ...computedChildAttributes, ...textareaProps, ...inputEvents }\"\n      class=\"va-input__content__input\"\n    />\n\n    <input\n      v-else-if=\"!$slots.content\"\n      ref=\"input\"\n      class=\"va-input__content__input\"\n      v-bind=\"{ ...computedInputAttributes, ...inputEvents }\"\n      :value=\"computedValue\"\n    >\n  </VaInputWrapper>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, InputHTMLAttributes, PropType, ref, toRefs } from 'vue'\nimport { useFormProps } from '../../composables/useForm'\nimport { useValidation, useValidationProps, useValidationEmits } from '../../composables/useValidation'\nimport { useCleave, useCleaveProps } from './hooks/useCleave'\nimport { useEmitProxy } from '../../composables/useEmitProxy'\nimport VaInputWrapper from './components/VaInputWrapper.vue'\nimport { useClearableProps, useClearable, useClearableEmits } from '../../composables/useClearable'\nimport VaTextarea from './components/VaTextarea/VaTextarea.vue'\nimport VaIcon from '../va-icon/VaIcon.vue'\nimport { extractComponentProps, filterComponentProps } from '../../utils/child-props'\nimport omit from 'lodash/omit'\nimport pick from 'lodash/pick'\n\nconst VaTextareaProps = extractComponentProps(VaTextarea)\n\nconst { createEmits: createInputEmits, createListeners: createInputListeners } = useEmitProxy(\n  ['change', 'keyup', 'keypress', 'keydown', 'focus', 'blur'],\n)\n\nconst { createEmits: createFieldEmits, createListeners: createFieldListeners } = useEmitProxy([\n  'click',\n  'click-prepend',\n  'click-append',\n  'click-prepend-inner',\n  'click-append-inner',\n  'click-icon',\n])\n\nexport default defineComponent({\n  name: 'VaInput',\n\n  components: { VaInputWrapper, VaTextarea, VaIcon },\n\n  props: {\n    ...useFormProps,\n    ...useValidationProps,\n    ...useClearableProps,\n    ...useCleaveProps,\n    ...VaTextareaProps,\n\n    // input\n    placeholder: { type: String, default: '' },\n    tabindex: { type: Number, default: 0 },\n    modelValue: { type: [String, Number], default: '' },\n    label: { type: String, default: '' },\n    type: { type: String as PropType<'text' | 'textarea'>, default: 'text' },\n    loading: { type: Boolean, default: false },\n    // style\n    color: { type: String, default: 'primary' },\n    outline: { type: Boolean, default: false },\n    bordered: { type: Boolean, default: false },\n    requiredMark: { type: Boolean, default: false },\n  },\n\n  emits: [\n    'update:modelValue',\n    ...useValidationEmits,\n    ...useClearableEmits,\n    ...createInputEmits(),\n    ...createFieldEmits(),\n  ],\n\n  inheritAttrs: false,\n\n  setup (props, { emit, attrs, slots }) {\n    const input = ref<HTMLInputElement | InstanceType<typeof VaTextarea> | undefined>()\n\n    const reset = () => {\n      emit('update:modelValue', props.clearValue)\n      emit('clear')\n    }\n\n    const focus = () => {\n      input.value?.focus()\n    }\n\n    const blur = () => {\n      input.value?.blur()\n    }\n\n    const filterSlots = computed(() => {\n      const iconSlot = ['icon']\n      return Object.keys(slots).filter(slot => !iconSlot.includes(slot))\n    })\n\n    const {\n      isFocused,\n      listeners: validationListeners,\n      computedError,\n      computedErrorMessages,\n    } = useValidation(props, emit, reset, focus)\n\n    const { modelValue } = toRefs(props)\n    const {\n      canBeCleared,\n      clearIconProps,\n    } = useClearable(props, modelValue, isFocused, computedError)\n\n    /** Use cleave only if this component is input, because it will break. */\n    const computedCleaveTarget = computed(() => {\n      return props.type === 'textarea'\n        ? undefined\n        : input.value as HTMLInputElement | undefined\n    })\n    const { computedValue, onInput } = useCleave(computedCleaveTarget, props, emit)\n\n    const inputListeners = createInputListeners(emit)\n\n    /** Combine EmitProxy events with validation events to avoid events overriding */\n    const onFocus = (e: Event) => {\n      inputListeners.onFocus(e)\n      validationListeners.onFocus()\n    }\n\n    const onBlur = (e: Event) => {\n      inputListeners.onBlur(e)\n      validationListeners.onBlur()\n    }\n\n    const inputEvents = {\n      ...inputListeners,\n      onFocus,\n      onBlur,\n      onInput,\n    }\n\n    const computedChildAttributes = computed(() => ({\n      ariaLabel: props.label,\n      ...omit(attrs, ['class', 'style']),\n    }) as InputHTMLAttributes)\n\n    const computedInputAttributes = computed(() => ({\n      ...computedChildAttributes.value,\n      ...pick(props, ['type', 'tabindex', 'disabled', 'readonly', 'placeholder']),\n    }) as InputHTMLAttributes)\n\n    return {\n      input,\n      inputEvents,\n\n      computedChildAttributes,\n      computedInputAttributes,\n      textareaProps: filterComponentProps(props, VaTextareaProps),\n      computedValue,\n\n      // Validations\n      computedError,\n      computedErrorMessages,\n      isFocused,\n\n      // Icon\n      canBeCleared,\n      clearIconProps,\n\n      fieldListeners: createFieldListeners(emit),\n      reset,\n      filterSlots,\n\n      // while we have problem with 'withConfigTransport'\n      // focus,\n      // blur,\n    }\n  },\n\n  // we will use this while we have problem with 'withConfigTransport'\n  methods: {\n    focus () { this.input?.focus() },\n    blur () { this.input?.blur() },\n  },\n})\n</script>\n","<template>\n  <VaInputWrapper\n    v-bind=\"fieldListeners\"\n    :class=\"$attrs.class\"\n    :style=\"$attrs.style\"\n    :color=\"color\"\n    :readonly=\"readonly\"\n    :disabled=\"disabled\"\n    :success=\"success\"\n    :messages=\"messages\"\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"errorCount\"\n    :label=\"label\"\n    :bordered=\"bordered\"\n    :outline=\"outline\"\n    :focused=\"isFocused\"\n    :requiredMark=\"requiredMark\"\n    @click=\"input && input.focus()\"\n  >\n    <!-- Simply proxy slots to VaInputWrapper -->\n    <template\n      v-for=\"name in filterSlots\"\n      :key=\"name\"\n      v-slot:[name]=\"slotScope\"\n    >\n      <slot :name=\"name\" v-bind=\"slotScope\" />\n    </template>\n\n    <template #icon=\"slotScope\">\n      <va-icon\n        v-if=\"success\"\n        color=\"success\"\n        name=\"check_circle\"\n        size=\"small\"\n      />\n      <va-icon\n        v-if=\"computedError\"\n        color=\"danger\"\n        name=\"warning\"\n        size=\"small\"\n      />\n      <va-icon\n        v-if=\"canBeCleared\"\n        v-bind=\"clearIconProps\"\n        @click.stop=\"reset()\"\n      />\n      <va-icon\n        v-if=\"loading\"\n        :color=\"color\"\n        size=\"small\"\n        name=\"loop\"\n        spin=\"counter-clockwise\"\n      />\n      <slot name=\"icon\" v-bind=\"slotScope\" />\n    </template>\n\n    <VaTextarea\n      v-if=\"type === 'textarea' && !$slots.content\"\n      ref=\"input\"\n      v-bind=\"{ ...computedChildAttributes, ...textareaProps, ...inputEvents }\"\n      class=\"va-input__content__input\"\n    />\n\n    <input\n      v-else-if=\"!$slots.content\"\n      ref=\"input\"\n      class=\"va-input__content__input\"\n      v-bind=\"{ ...computedInputAttributes, ...inputEvents }\"\n      :value=\"computedValue\"\n    >\n  </VaInputWrapper>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, InputHTMLAttributes, PropType, ref, toRefs } from 'vue'\nimport { useFormProps } from '../../composables/useForm'\nimport { useValidation, useValidationProps, useValidationEmits } from '../../composables/useValidation'\nimport { useCleave, useCleaveProps } from './hooks/useCleave'\nimport { useEmitProxy } from '../../composables/useEmitProxy'\nimport VaInputWrapper from './components/VaInputWrapper.vue'\nimport { useClearableProps, useClearable, useClearableEmits } from '../../composables/useClearable'\nimport VaTextarea from './components/VaTextarea/VaTextarea.vue'\nimport VaIcon from '../va-icon/VaIcon.vue'\nimport { extractComponentProps, filterComponentProps } from '../../utils/child-props'\nimport omit from 'lodash/omit'\nimport pick from 'lodash/pick'\n\nconst VaTextareaProps = extractComponentProps(VaTextarea)\n\nconst { createEmits: createInputEmits, createListeners: createInputListeners } = useEmitProxy(\n  ['change', 'keyup', 'keypress', 'keydown', 'focus', 'blur'],\n)\n\nconst { createEmits: createFieldEmits, createListeners: createFieldListeners } = useEmitProxy([\n  'click',\n  'click-prepend',\n  'click-append',\n  'click-prepend-inner',\n  'click-append-inner',\n  'click-icon',\n])\n\nexport default defineComponent({\n  name: 'VaInput',\n\n  components: { VaInputWrapper, VaTextarea, VaIcon },\n\n  props: {\n    ...useFormProps,\n    ...useValidationProps,\n    ...useClearableProps,\n    ...useCleaveProps,\n    ...VaTextareaProps,\n\n    // input\n    placeholder: { type: String, default: '' },\n    tabindex: { type: Number, default: 0 },\n    modelValue: { type: [String, Number], default: '' },\n    label: { type: String, default: '' },\n    type: { type: String as PropType<'text' | 'textarea'>, default: 'text' },\n    loading: { type: Boolean, default: false },\n    // style\n    color: { type: String, default: 'primary' },\n    outline: { type: Boolean, default: false },\n    bordered: { type: Boolean, default: false },\n    requiredMark: { type: Boolean, default: false },\n  },\n\n  emits: [\n    'update:modelValue',\n    ...useValidationEmits,\n    ...useClearableEmits,\n    ...createInputEmits(),\n    ...createFieldEmits(),\n  ],\n\n  inheritAttrs: false,\n\n  setup (props, { emit, attrs, slots }) {\n    const input = ref<HTMLInputElement | InstanceType<typeof VaTextarea> | undefined>()\n\n    const reset = () => {\n      emit('update:modelValue', props.clearValue)\n      emit('clear')\n    }\n\n    const focus = () => {\n      input.value?.focus()\n    }\n\n    const blur = () => {\n      input.value?.blur()\n    }\n\n    const filterSlots = computed(() => {\n      const iconSlot = ['icon']\n      return Object.keys(slots).filter(slot => !iconSlot.includes(slot))\n    })\n\n    const {\n      isFocused,\n      listeners: validationListeners,\n      computedError,\n      computedErrorMessages,\n    } = useValidation(props, emit, reset, focus)\n\n    const { modelValue } = toRefs(props)\n    const {\n      canBeCleared,\n      clearIconProps,\n    } = useClearable(props, modelValue, isFocused, computedError)\n\n    /** Use cleave only if this component is input, because it will break. */\n    const computedCleaveTarget = computed(() => {\n      return props.type === 'textarea'\n        ? undefined\n        : input.value as HTMLInputElement | undefined\n    })\n    const { computedValue, onInput } = useCleave(computedCleaveTarget, props, emit)\n\n    const inputListeners = createInputListeners(emit)\n\n    /** Combine EmitProxy events with validation events to avoid events overriding */\n    const onFocus = (e: Event) => {\n      inputListeners.onFocus(e)\n      validationListeners.onFocus()\n    }\n\n    const onBlur = (e: Event) => {\n      inputListeners.onBlur(e)\n      validationListeners.onBlur()\n    }\n\n    const inputEvents = {\n      ...inputListeners,\n      onFocus,\n      onBlur,\n      onInput,\n    }\n\n    const computedChildAttributes = computed(() => ({\n      ariaLabel: props.label,\n      ...omit(attrs, ['class', 'style']),\n    }) as InputHTMLAttributes)\n\n    const computedInputAttributes = computed(() => ({\n      ...computedChildAttributes.value,\n      ...pick(props, ['type', 'tabindex', 'disabled', 'readonly', 'placeholder']),\n    }) as InputHTMLAttributes)\n\n    return {\n      input,\n      inputEvents,\n\n      computedChildAttributes,\n      computedInputAttributes,\n      textareaProps: filterComponentProps(props, VaTextareaProps),\n      computedValue,\n\n      // Validations\n      computedError,\n      computedErrorMessages,\n      isFocused,\n\n      // Icon\n      canBeCleared,\n      clearIconProps,\n\n      fieldListeners: createFieldListeners(emit),\n      reset,\n      filterSlots,\n\n      // while we have problem with 'withConfigTransport'\n      // focus,\n      // blur,\n    }\n  },\n\n  // we will use this while we have problem with 'withConfigTransport'\n  methods: {\n    focus () { this.input?.focus() },\n    blur () { this.input?.blur() },\n  },\n})\n</script>\n"],"names":["DEFAULT_MASK_TOKENS","creditCard","date","datePattern","time","timePattern","timeFormat","numeral","numeralThousandsGroupStyle","useCleaveProps","mask","type","String","Object","default","returnRaw","Boolean","modelValue","useCleave","element","props","emit","cleave","ref","destroyCleave","value","destroy","initCleave","Cleave","onMounted","onBeforeUnmount","watch","computedValue","computed","getRawValue","getFormattedValue","onInput","event","target","keys","length","setRawValue","defineComponent","name","components","VaMessageList","useFormProps","useValidationProps","label","color","outline","bordered","focused","error","success","requiredMark","emits","setup","createModifiersClasses","baseClass","modifiersCb","classes","modifiers","unref","filter","modifierName","map","colorComputed","getColor","wrapperClass","solid","disabled","readonly","labeled","borderColorComputed","undefined","messagesColor","messagesComputed","errorMessages","messages","errorLimit","errorCount","_mergeProps","class","_ctx","prepend","prependInner","content","icon","appendInner","append","limit","useClearableProps","clearable","clearableIcon","clearValue","useClearableEmits","useClearable","inputValue","isFocused","hasError","clearedValues","canBeCleared","includes","clearIconColor","clearIconProps","size","SIZING_STYLE","getNodeHeightStyles","node","style","window","getComputedStyle","boxSizing","getPropertyValue","padding","parseFloat","border","styles","join","lineHeight","parseInt","textarea","createHiddenTextarea","original","document","createElement","setAttribute","placeholder","wrap","getAttribute","removeAttribute","positiveNumberValidator","val","Error","createEmits","createListeners","useEmitProxy","Number","autosize","minRows","validator","maxRows","rowHeight","height","calculateRowHeight","calculateHeight","hiddenTextarea","body","appendChild","scrollHeight","removeChild","useTextareaRowHeight","isResizable","updateHeight","nextTick","computedStyle","minHeight","maxHeight","resize","computedProps","pick","listeners","methods","focus","this","blur","VaTextareaProps","extractComponentProps","VaTextarea","createInputEmits","createInputListeners","createFieldEmits","createFieldListeners","VaInputWrapper","VaIcon","tabindex","loading","useValidationEmits","inheritAttrs","attrs","slots","input","reset","filterSlots","iconSlot","slot","validationListeners","computedError","computedErrorMessages","useValidation","toRefs","computedCleaveTarget","inputListeners","inputEvents","onFocus","e","onBlur","computedChildAttributes","ariaLabel","omit","computedInputAttributes","textareaProps","filterComponentProps","fieldListeners","_createBlock","onClick","spin","_renderSlot","slotScope"],"mappings":"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"}