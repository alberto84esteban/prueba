import{w as t}from"./withConfigTransport.js";import{__decorate as e,__metadata as i}from"tslib";import{watch as o,resolveComponent as a,mergeProps as n,withCtx as s,createTextVNode as r,toDisplayString as l,openBlock as p,createBlock as u,createCommentVNode as d,renderSlot as c,Fragment as h,renderList as g,withDirectives as f,withKeys as m,vModelText as b}from"vue";import{V as v,m as y,O as $,p as V}from"./vue-class-component.esm-bundler.js";import{R as k}from"./decorators.js";import{C as I}from"./ColorMixin.js";import{S as j}from"./StatefulMixin.js";import P from"./index10.js";import x from"./index8.js";import _ from"./index31.js";import{ssrRenderComponent as w,ssrRenderSlot as C,ssrRenderList as L,ssrInterpolate as S,ssrRenderStyle as B,ssrRenderClass as z,ssrIncludeBooleanAttr as N,ssrRenderAttr as R}from"@vue/server-renderer";import{s as T}from"./style-inject.es.js";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./useColor.js";import"./useRouterLink.js";import"./useSize.js";import"./useLoading.js";import"./index28.js";import"./VaIcon.js";import"./flatten.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";import"./VaInput.js";import"./useForm.js";import"./index60.js";import"./useSyncProp.js";import"./consts.js";import"./useFocus.js";import"cleave.js";import"./useEmitProxy.js";import"./pick.js";import"./child-props.js";import"./VaMessageListWrapper.vue_vue&type=script&lang.js";const U=v.with(class PaginationProps{constructor(){this.modelValue=V({type:Number,default:1}),this.visiblePages=V({type:Number,default:0}),this.pages=V({type:Number,default:0}),this.disabled=V({type:Boolean,default:!1}),this.color=V({type:String,default:"primary"}),this.size=V({type:String,default:"medium",validator:t=>["medium","small","large"].includes(t)}),this.boundaryLinks=V({type:Boolean,default:!0}),this.boundaryNumbers=V({type:Boolean,default:!1}),this.directionLinks=V({type:Boolean,default:!0}),this.input=V({type:Boolean,default:!1}),this.hideOnSinglePage=V({type:Boolean,default:!1}),this.flat=V({type:Boolean,default:!1}),this.total=V({type:Number,default:null}),this.pageSize=V({type:Number,default:null}),this.boundaryIconLeft=V({type:String,default:"first_page"}),this.boundaryIconRight=V({type:String,default:"last_page"}),this.directionIconLeft=V({type:String,default:"chevron_left"}),this.directionIconRight=V({type:String,default:"chevron_right"})}});let M=class VaPagination extends(y(j,I,U)){constructor(){super(...arguments),this.inputValue=""}created(){o([()=>this.useTotal,()=>this.$props.pages],(()=>{if(this.useTotal&&this.$props.pages&&"production"!==process.env.NODE_ENV)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")}))}get lastPage(){const{total:t,pageSize:e,pages:i}=this.$props;return this.useTotal?Math.ceil(t/e)||1:i}get paginationRange(){const{visiblePages:t,total:e,pageSize:i,boundaryNumbers:o,pages:a}=this.$props;return((t=1,e,i,o=!1)=>{let a=0;if(0===i&&(i=1),e>i&&(e=i),0===e)a=1,e=i;else{const o=e/2;a=t-o<=0||t>i?1:t+o>i?i-e+1:Math.ceil(t-o)}const n=[];for(let t=0;t<e;t++)n.push(a+t);return o&&(1!==a&&n.splice(0,2,1,"..."),n[n.length-1]!==i&&n.splice(-2,2,"...",i)),n})(this.currentValue||1,t,this.useTotal?Math.ceil(e/i):a,o)}get showBoundaryLinks(){const{visiblePages:t,boundaryLinks:e,boundaryNumbers:i,input:o}=this.$props;return o||t&&this.lastPage>t&&e&&!i}get showDirectionLinks(){const{visiblePages:t,directionLinks:e,input:i}=this.$props;return i||t&&this.lastPage>t&&e}get showPagination(){return this.lastPage>1||!this.$props.hideOnSinglePage&&this.lastPage<=1}get fontColor(){return this.computeColor(this.$props.color)}get useTotal(){const{total:t,pageSize:e}=this.$props;return!(!t&&0!==t||!e)}get currentValue(){return this.useTotal?Math.ceil(this.valueComputed/this.$props.pageSize)||1:this.valueComputed}set currentValue(t){this.valueComputed=t}focusInput(){const{currentValue:t,$nextTick:e}=this;this.inputValue=t,e((()=>this.htmlInput.setSelectionRange(0,this.htmlInput.value.length)))}onUserInput(t){t<1||t>this.lastPage||(this.currentValue=this.useTotal?(t-1)*this.$props.pageSize+1:t)}resetInput(){this.inputValue="",this.htmlInput.blur()}changeValue(){if(this.inputValue===this.currentValue&&this.resetInput(),!this.inputValue.length)return;let t=Number.parseInt(this.inputValue);switch(!0){case t<1:t=1;break;case t>this.lastPage:t=this.lastPage;break;case isNaN(t):t=this.currentValue}this.onUserInput(t),this.resetInput()}activeButtonStyle(t){return t===this.currentValue?{backgroundColor:this.colorComputed,color:"#ffffff"}:{color:this.fontColor}}};e([k(),i("design:type",HTMLInputElement)],M.prototype,"htmlInput",void 0),M=e([$({name:"VaPagination",components:{VaButtonGroup:P,VaButton:x,VaInput:_}})],M);var D=M;T(":root{--va-pagination-input-border-style:solid;--va-pagination-input-border-width:2px 0;--va-pagination-input-text-align:center;--va-pagination-input-font-size:1rem;--va-pagination-input-flat-border-top-width:0}.va-pagination{font-family:var(--va-font-family)}.va-pagination__input{border-style:var(--va-pagination-input-border-style);border-width:var(--va-pagination-input-border-width);font-size:var(--va-pagination-input-font-size);text-align:var(--va-pagination-input-text-align)}.va-pagination__input--flat{border-top-width:var(--va-pagination-input-flat-border-top-width)}.va-pagination .va-button.va-input{cursor:default}.va-pagination .va-button--ellipsis{cursor:default;opacity:1}.va-pagination .va-button--ellipsis>.va-button__content{opacity:.4}.va-pagination .va-button--outline.va-button--disabled{opacity:1}.va-pagination .va-button--outline.va-button--disabled>.va-button__content{opacity:.4}"),D.ssrRender=function ssrRender(t,e,i,o,v,y,$,V){const k=a("va-button-group"),I=a("va-button");t.showPagination?e(w(k,n({class:"va-pagination",flat:t.$props.flat,size:t.$props.size,color:t.$props.color,outline:""},o),{default:s(((e,i,o,a)=>{if(!i)return[t.showBoundaryLinks?(p(),u(I,{key:0,disabled:t.$props.disabled||1===t.currentValue,icon:t.$props.boundaryIconLeft,onClick:e=>t.onUserInput(1)},null,8,["disabled","icon","onClick"])):d("v-if",!0),t.showDirectionLinks?(p(),u(I,{key:1,outline:"",disabled:t.$props.disabled||1===t.currentValue,icon:t.$props.directionIconLeft,onClick:e=>t.onUserInput(t.currentValue-1)},null,8,["disabled","icon","onClick"])):d("v-if",!0),t.$props.input?f((p(),u("input",{key:3,ref:"htmlInput",class:["va-pagination__input va-button",{"va-pagination__input--flat":t.$props.flat}],style:{cursor:"default",color:t.computeColor(t.$props.color),opacity:t.$props.disabled?.4:1},onKeydown:m(t.changeValue,["enter"]),onFocus:t.focusInput,onBlur:t.changeValue,disabled:t.$props.disabled,placeholder:`${t.currentValue}/${t.lastPage}`,"onUpdate:modelValue":e=>t.inputValue=e},null,46,["onKeydown","onFocus","onBlur","disabled","placeholder","onUpdate:modelValue"])),[[b,t.inputValue]]):c(t.$slots,"default",{key:2},(()=>[(p(!0),u(h,null,g(t.paginationRange,((e,i)=>(p(),u(I,{style:t.activeButtonStyle(e),outline:"",key:i,disabled:t.$props.disabled||"..."===e,class:{"va-button--ellipsis":"..."===e},onClick:i=>t.onUserInput(e)},{default:s((()=>[r(l(e),1)])),_:2},1032,["style","disabled","class","onClick"])))),128))])),t.showDirectionLinks?(p(),u(I,{key:4,outline:"",disabled:t.$props.disabled||t.currentValue===t.lastPage,icon:t.$props.directionIconRight,onClick:e=>t.onUserInput(t.currentValue+1)},null,8,["disabled","icon","onClick"])):d("v-if",!0),t.showBoundaryLinks?(p(),u(I,{key:5,outline:"",disabled:t.$props.disabled||t.currentValue===t.lastPage,icon:t.$props.boundaryIconRight,onClick:e=>t.onUserInput(t.lastPage)},null,8,["disabled","icon","onClick"])):d("v-if",!0)];t.showBoundaryLinks?i(w(I,{disabled:t.$props.disabled||1===t.currentValue,icon:t.$props.boundaryIconLeft},null,o,a)):i("\x3c!----\x3e"),t.showDirectionLinks?i(w(I,{outline:"",disabled:t.$props.disabled||1===t.currentValue,icon:t.$props.directionIconLeft},null,o,a)):i("\x3c!----\x3e"),t.$props.input?i(`<input style="${B({cursor:"default",color:t.computeColor(t.$props.color),opacity:t.$props.disabled?.4:1})}" class="${z([{"va-pagination__input--flat":t.$props.flat},"va-pagination__input va-button"])}"${N(t.$props.disabled)?" disabled":""}${R("placeholder",`${t.currentValue}/${t.lastPage}`)}${R("value",t.inputValue)}${a}>`):C(t.$slots,"default",{},(()=>{i("\x3c!--[--\x3e"),L(t.paginationRange,((e,n)=>{i(w(I,{style:t.activeButtonStyle(e),outline:"",key:n,disabled:t.$props.disabled||"..."===e,class:{"va-button--ellipsis":"..."===e}},{default:s(((t,i,o,a)=>{if(!i)return[r(l(e),1)];i(`${S(e)}`)})),_:2},o,a))})),i("\x3c!--]--\x3e")}),i,o,a),t.showDirectionLinks?i(w(I,{outline:"",disabled:t.$props.disabled||t.currentValue===t.lastPage,icon:t.$props.directionIconRight},null,o,a)):i("\x3c!----\x3e"),t.showBoundaryLinks?i(w(I,{outline:"",disabled:t.$props.disabled||t.currentValue===t.lastPage,icon:t.$props.boundaryIconRight},null,o,a)):i("\x3c!----\x3e")})),_:3},i)):e("\x3c!----\x3e")},D.__file="src/components/va-pagination/VaPagination.vue";var E=t(D);export{E as default};
//# sourceMappingURL=index35.js.map
