import{w as e}from"./withConfigTransport.js";import{defineComponent as a,ref as i,computed as r,watch as o,mergeProps as t}from"vue";import{ssrRenderAttrs as l,ssrRenderSlot as s,ssrRenderStyle as v,ssrRenderAttr as n}from"@vue/server-renderer";import{s as d}from"./style-inject.es.js";import"./VaConfig.js";var m=a({name:"VaImage",emits:["loaded","error"],props:{ratio:{type:Number,default:1},contain:{type:Boolean,default:!1},src:{type:String,required:!0}},setup(e,{emit:a}){const t=i(!0),l=i(!1),s=r((()=>({objectFit:e.contain?"contain":"cover"}))),v=r((()=>({paddingBottom:1/e.ratio*100+"%"})));return o((()=>e.src),(()=>{t.value=!0,l.value=!1})),{loading:t,loadingError:l,imageStyles:s,paddingStyles:v,handleLoad:()=>{t.value=!1,a("loaded",e.src)},handleError:e=>{l.value=!0,t.value=!1,a("error",e)}}}});d(":root{--va-image-overflow:hidden;--va-image-position:relative;--va-image-img-background-position:50% 50%;--va-image-img-background-repeat:no-repeat}.va-image{font-family:var(--va-font-family);overflow:var(--va-image-overflow);position:var(--va-image-position)}.va-image img{height:100%;width:100%}.va-image__error,.va-image__img,.va-image__loader,.va-image__overlay{bottom:0;left:0;position:absolute;right:0;top:0}.va-image__error,.va-image__loader,.va-image__overlay{align-items:center;display:flex;justify-content:center}"),m.ssrRender=function ssrRender(e,a,i,r,o,d,m,g){a(`<div${l(t({class:"va-image"},r))}>`),e.loadingError?(a('<div class="va-image__error">'),s(e.$slots,"error",{},null,a,i),a("</div>")):a("\x3c!----\x3e"),a(`<div style="${v(e.paddingStyles)}"></div><div style="${v(e.loadingError||e.loading?{display:"none"}:null)}" class="va-image__img"><img style="${v(e.imageStyles)}"${n("src",e.src)}></div><div class="va-image__overlay">`),s(e.$slots,"default",{},null,a,i),a("</div>"),e.loading?(a('<div class="va-image__loader">'),s(e.$slots,"loader",{},null,a,i),a("</div>")):a("\x3c!----\x3e"),a("</div>")},m.__file="src/components/va-image/VaImage.vue";var g=e(m);export{g as default};
//# sourceMappingURL=index29.js.map
