import{w as a}from"./withConfigTransport.js";import{__decorate as e}from"tslib";import{h as o,Transition as t,watch as i,resolveComponent as l,withCtx as s,createVNode as r,createTextVNode as d,toDisplayString as n,openBlock as m,createBlock as v,createCommentVNode as p,renderSlot as c}from"vue";import{V as h,O as u,m as f,p as x}from"./vue-class-component.esm-bundler.js";import{C as g}from"./ColorMixin.js";import{S as _}from"./StatefulMixin.js";import y from"./index8.js";import $ from"./index28.js";import{ssrRenderTeleport as w,ssrRenderComponent as b,ssrRenderStyle as k,ssrRenderClass as z,ssrInterpolate as C,ssrRenderSlot as S}from"@vue/server-renderer";import{s as T}from"./style-inject.es.js";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./useColor.js";import"./useRouterLink.js";import"./useSize.js";import"./useLoading.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";import"./VaIcon.js";import"./flatten.js";const j=h.with(class ModalProps{constructor(){this.modelValue=x({type:Boolean,default:!1}),this.attachElement=x({type:String,default:"body"}),this.disableAttachment=x({type:Boolean,default:!1}),this.title=x({type:String,default:""}),this.message=x({type:String,default:""}),this.okText=x({type:String,default:"OK"}),this.cancelText=x({type:String,default:"Cancel"}),this.hideDefaultActions=x({type:Boolean,default:!1}),this.fullscreen=x({type:Boolean,default:!1}),this.mobileFullscreen=x({type:Boolean,default:!0}),this.noDismiss=x({type:Boolean,default:!1}),this.noOutsideDismiss=x({type:Boolean,default:!1}),this.noEscDismiss=x({type:Boolean,default:!1}),this.maxWidth=x({type:String,default:""}),this.maxHeight=x({type:String,default:""}),this.size=x({type:String,default:"medium",validator:a=>["medium","small","large"].includes(a)}),this.fixedLayout=x({type:Boolean,default:!1}),this.withoutTransitions=x({type:Boolean,default:!1}),this.overlay=x({type:Boolean,default:!0}),this.overlayOpacity=x({type:[Number,String],default:.6}),this.zIndex=x({type:[Number,String],default:void 0})}});class ModalElementProps{constructor(){this.isTransition=x({type:Boolean,default:!0})}}let B=class ModalElement extends(h.with(ModalElementProps)){render(){const a=this.$slots.default?this.$slots.default(this.$attrs):null;return this.$props.isTransition?o(t,{...this.$attrs},this.$slots):a}};B=e([u({name:"ModalElement"})],B);let E=class VaModal extends(f(g,_,j)){created(){i((()=>this.valueComputed),(a=>{a?window.addEventListener("keyup",this.listenKeyUp):window.removeEventListener("keyup",this.listenKeyUp)}))}get computedClass(){return{"va-modal--fullscreen":this.$props.fullscreen,"va-modal--mobile-fullscreen":this.$props.mobileFullscreen,"va-modal--fixed-layout":this.$props.fixedLayout,[`va-modal--size-${this.$props.size}`]:"medium"!==this.$props.size}}get computedOverlayStyles(){return!!document.querySelectorAll(".va-modal__overlay").length?{}:{"background-color":`rgba(0, 0, 0, ${this.$props.overlayOpacity})`,"z-index":this.$props.zIndex?Number(this.$props.zIndex)-1:void 0}}get computedModalContainerStyle(){return{"z-index":this.$props.zIndex}}get hasContentSlot(){return this.$slots.default}get hasHeaderSlot(){return this.$slots.header}get hasFooterSlot(){return this.$slots.footer}show(){this.valueComputed=!0}hide(){this.valueComputed=!1}toggle(){this.valueComputed=!this.valueComputed}cancel(){this.hide(),this.$emit("cancel")}ok(){this.hide(),this.$emit("ok")}listenKeyUp(a){"Escape"!==a.code||this.$props.noEscDismiss||this.$props.noDismiss||this.cancel()}onOutsideClick(){this.$props.noOutsideDismiss||this.$props.noDismiss||(this.$emit("click-outside"),this.cancel())}onBeforeEnterTransition(a){this.$emit("before-open",a)}onAfterEnterTransition(a){this.$emit("open",a)}onBeforeLeaveTransition(a){this.$emit("before-close",a)}onAfterLeaveTransition(a){this.$emit("close",a)}};E=e([u({name:"VaModal",components:{VaButton:y,VaIcon:$,ModalElement:B},emits:["update:modelValue","cancel","ok","before-open","open","before-close","close","click-outside"]})],E);var M=E;T(":root{--va-modal-title-margin-bottom:1.5rem;--va-modal-position:fixed;--va-modal-top:0;--va-modal-left:0;--va-modal-display:flex;--va-modal-width:100%;--va-modal-height:100%;--va-modal-align-items:center;--va-modal-justify-content:center;--va-modal-overflow:hidden;--va-modal-outline:0;--va-modal-z-index:var(--va-z-index-teleport-overlay);--va-modal-container-z-index:100;--va-modal-dialog-background:#fff;--va-modal-dialog-min-height:3.125rem;--va-modal-dialog-height:fit-content;--va-modal-dialog-border-radius:0.375rem;--va-modal-dialog-margin:1rem;--va-modal-dialog-box-shadow:0 4px 70px -18px #707070;--va-modal-dialog-max-width:768px;--va-modal-dialog-max-height:calc(100vh - 2rem);--va-modal-dialog-position:relative;--va-modal-overlay-position:fixed;--va-modal-overlay-top:0;--va-modal-overlay-left:0;--va-modal-overlay-z-index:calc(var(--va-modal-container-z-index) - 1);--va-modal-overlay-width:100vw;--va-modal-overlay-height:100vh}.va-modal{align-items:var(--va-modal-align-items);display:var(--va-modal-display);font-family:var(--va-font-family);height:var(--va-modal-height);justify-content:var(--va-modal-justify-content);left:var(--va-modal-left);outline:var(--va-modal-outline);overflow:var(--va-modal-overflow);position:var(--va-modal-position);top:var(--va-modal-top);width:var(--va-modal-width);z-index:var(--va-modal-z-index)}.va-modal__title{font-size:.625rem;font-weight:700;letter-spacing:.6px;line-height:1.2;margin-bottom:1.5rem;text-transform:uppercase}.va-modal__container{z-index:var(--va-modal-container-z-index)}.va-modal__container--transition-enter-from,.va-modal__container--transition-leave-to{opacity:0;transform:translateY(-30%)}.va-modal__container--transition-enter-active,.va-modal__container--transition-leave-active{transition:opacity .15s cubic-bezier(1,.5,.8,1),transform .3s ease}.va-modal__dialog{background:var(--va-modal-dialog-background);border-radius:var(--va-modal-dialog-border-radius,var(--va-block-border-radius));box-shadow:var(--va-modal-dialog-box-shadow,var(--va-block-box-shadow));height:var(--va-modal-dialog-height);margin:var(--va-modal-dialog-margin);max-height:var(--va-modal-dialog-max-height);max-width:var(--va-modal-dialog-max-width);min-height:var(--va-modal-dialog-min-height);overflow:auto;position:var(--va-modal-dialog-position)}.va-modal__overlay{height:var(--va-modal-overlay-height);left:var(--va-modal-overlay-left);position:var(--va-modal-overlay-position);top:var(--va-modal-overlay-top);width:var(--va-modal-overlay-width);z-index:var(--va-modal-overlay-z-index)}.va-modal__overlay--transition-enter-from,.va-modal__overlay--transition-leave-to{opacity:0}.va-modal__overlay--transition-enter-active,.va-modal__overlay--transition-leave-active{transition:opacity .2s cubic-bezier(1,.5,.8,1)}.va-modal--fullscreen{border-radius:0;margin:0;min-height:100vh!important;min-width:100vw!important}@media (max-width:576px){.va-modal--mobile-fullscreen{border-radius:0;margin:0!important;min-height:100vh!important;min-width:100vw!important}}.va-modal--size-small{max-width:576px}@media (max-width:576px){.va-modal--size-small{max-width:100vw!important}}.va-modal--size-small .va-modal__inner{max-width:576px}@media (max-width:576px){.va-modal--size-small .va-modal__inner{max-width:100vw!important}}.va-modal--size-large,.va-modal--size-large .va-modal__inner{max-width:992px}.va-modal--fixed-layout .va-modal__inner{max-height:calc(100vh - 2rem);overflow:hidden;padding:1.25rem 0 1.5rem}.va-modal--fixed-layout .va-modal__inner .va-modal__footer,.va-modal--fixed-layout .va-modal__inner .va-modal__header,.va-modal--fixed-layout .va-modal__inner .va-modal__title{padding:0 1.875rem 0 1.5rem}.va-modal--fixed-layout .va-modal__inner .va-modal__message{overflow:auto;padding:0 1.875rem 0 1.5rem}.va-modal--fixed-layout .va-modal__dialog{overflow:hidden}.va-modal__message{margin-bottom:1.5rem}.va-modal__inner{display:flex;flex-flow:column;margin:auto;max-width:768px;overflow:visible;padding:1.25rem 1.875rem 1.5rem 1.5rem;position:relative}.va-modal__inner>div:last-of-type{margin-bottom:0!important}.va-modal__close{color:#babfc2;cursor:pointer;font-size:1.5rem!important;font-style:normal!important;position:absolute;right:1rem;top:1rem;z-index:1}.va-modal__footer{display:flex;flex-wrap:wrap;justify-content:center;margin-top:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content}.va-modal__footer:last-of-type{margin-bottom:0!important}"),M.ssrRender=function ssrRender(a,e,o,t,i,h,u,f){const x=l("modal-element"),g=l("va-icon"),_=l("va-button");a.valueComputed?w(e,(e=>{e('<div class="va-modal">'),e(b(x,{name:"va-modal__overlay--transition",isTransition:!a.$props.withoutTransitions,appear:""},{default:s(((e,o,t,i)=>{if(!o)return[r("div",{class:"va-modal__overlay",style:a.$props.overlay&&a.computedOverlayStyles},null,4)];o(`<div class="va-modal__overlay" style="${k(a.$props.overlay&&a.computedOverlayStyles)}"${i}></div>`)})),_:1},o)),e(b(x,{name:"va-modal__container--transition",isTransition:!a.$props.withoutTransitions,appear:""},{default:s(((e,o,t,i)=>{if(!o)return[a.valueComputed?(m(),v("div",{key:0,class:"va-modal__container",style:a.computedModalContainerStyle},[r("div",{class:["va-modal__dialog",a.computedClass],style:{maxWidth:a.$props.maxWidth,maxHeight:a.$props.maxHeight},ref:"modal"},[a.$props.fullscreen?(m(),v(g,{key:0,onClick:e=>a.cancel(),name:"close",class:"va-modal__close"},null,8,["onClick"])):p("v-if",!0),r("div",{class:"va-modal__inner",style:{maxWidth:a.$props.maxWidth,maxHeight:a.$props.maxHeight}},[a.title?(m(),v("div",{key:0,class:"va-modal__title",style:{color:a.theme.getColor("primary")}},n(a.$props.title),5)):p("v-if",!0),a.hasHeaderSlot?(m(),v("div",{key:1,class:"va-modal__header"},[c(a.$slots,"header")])):p("v-if",!0),a.$props.message?(m(),v("div",{key:2,class:"va-modal__message"},n(a.$props.message),1)):p("v-if",!0),a.hasContentSlot?(m(),v("div",{key:3,class:"va-modal__message"},[c(a.$slots,"default")])):p("v-if",!0),!a.$props.cancelText&&!a.$props.okText||a.$props.hideDefaultActions?p("v-if",!0):(m(),v("div",{key:4,class:"va-modal__footer"},[a.$props.cancelText?(m(),v(_,{key:0,color:"gray",class:"mr-2",flat:"",onClick:a.cancel},{default:s((()=>[d(n(a.$props.cancelText),1)])),_:1},8,["onClick"])):p("v-if",!0),r(_,{onClick:a.ok},{default:s((()=>[d(n(a.$props.okText),1)])),_:1},8,["onClick"])])),a.hasFooterSlot?(m(),v("div",{key:5,class:"va-modal__footer"},[c(a.$slots,"footer")])):p("v-if",!0)],4)],6)],4)):p("v-if",!0)];a.valueComputed?(o(`<div class="va-modal__container" style="${k(a.computedModalContainerStyle)}"${i}><div class="${z([a.computedClass,"va-modal__dialog"])}" style="${k({maxWidth:a.$props.maxWidth,maxHeight:a.$props.maxHeight})}"${i}>`),a.$props.fullscreen?o(b(g,{name:"close",class:"va-modal__close"},null,t,i)):o("\x3c!----\x3e"),o(`<div class="va-modal__inner" style="${k({maxWidth:a.$props.maxWidth,maxHeight:a.$props.maxHeight})}"${i}>`),a.title?o(`<div class="va-modal__title" style="${k({color:a.theme.getColor("primary")})}"${i}>${C(a.$props.title)}</div>`):o("\x3c!----\x3e"),a.hasHeaderSlot?(o(`<div class="va-modal__header"${i}>`),S(a.$slots,"header",{},null,o,t,i),o("</div>")):o("\x3c!----\x3e"),a.$props.message?o(`<div class="va-modal__message"${i}>${C(a.$props.message)}</div>`):o("\x3c!----\x3e"),a.hasContentSlot?(o(`<div class="va-modal__message"${i}>`),S(a.$slots,"default",{},null,o,t,i),o("</div>")):o("\x3c!----\x3e"),!a.$props.cancelText&&!a.$props.okText||a.$props.hideDefaultActions?o("\x3c!----\x3e"):(o(`<div class="va-modal__footer"${i}>`),a.$props.cancelText?o(b(_,{color:"gray",class:"mr-2",flat:""},{default:s(((e,o,t,i)=>{if(!o)return[d(n(a.$props.cancelText),1)];o(`${C(a.$props.cancelText)}`)})),_:1},t,i)):o("\x3c!----\x3e"),o(b(_,null,{default:s(((e,o,t,i)=>{if(!o)return[d(n(a.$props.okText),1)];o(`${C(a.$props.okText)}`)})),_:1},t,i)),o("</div>")),a.hasFooterSlot?(o(`<div class="va-modal__footer"${i}>`),S(a.$slots,"footer",{},null,o,t,i),o("</div>")):o("\x3c!----\x3e"),o("</div></div></div>")):o("\x3c!----\x3e")})),_:3},o)),e("</div>")}),a.attachElement,a.disableAttachment,o):e("\x3c!----\x3e")},M.__file="src/components/va-modal/VaModal.vue";var H=a(M);export{H as default};
//# sourceMappingURL=index33.js.map
