import{w as t}from"./withConfigTransport.js";import{detect as r}from"detect-browser";import a from"element-resize-detector";import{mergeProps as i}from"vue";import{ssrRenderAttrs as s,ssrRenderSlot as o}from"@vue/server-renderer";import{s as e}from"./style-inject.es.js";import"./VaConfig.js";const l=r();var c={name:"VaScrollbar",props:{speed:{type:Number,default:20}},methods:{calcSize(){this.isDown=this.isUp=!1,this.maxHeight=parseFloat(this.wrapper.offsetHeight,10),this.contentHeight=parseFloat(this.content.offsetHeight,10),this.trackHeight=parseFloat(this.track.offsetHeight,10),this.maxHeight/this.contentHeight*this.trackHeight<10?this.thumb.style.height="10px":this.thumb.style.height=this.maxHeight/this.contentHeight*this.trackHeight+"px",this.maxHeight/this.contentHeight<1?this.thumb.classList.add("active"):this.thumb.classList.remove("active")},calcThumb(){const t=""===this.content.style.marginTop?0:parseInt(this.content.style.marginTop,10);this.thumb.style.top=-t/this.contentHeight*this.trackHeight+"px"},onContentResize(){const t=this.contentHeight;this.calcSize(),this.calcThumb(),this.content.style.transition="margin-top .3s linear",this.thumb.style.transition="top .3s linear";const handler=t=>{"margin-top"===t.propertyName&&(this.content.style.transition="",this.calcSize(),this.calcThumb(),this.content.removeEventListener("transitionend",handler),this.thumb.style.transition="")};this.content.addEventListener("transitionend",handler),this.setVertical(this.contentHeight-t)},startDrag(t){this.isDragging=!0,this.prevTouch=t.touches[0]},onDrag(t){if(this.isDragging){t.preventDefault();const r=t.touches[0],a=this.prevTouch.clientY-r.clientY;this.setVertical(a),this.prevTouch=r}},stopDrag(){this.isDragging=!1},scroll(t){let r=.01*t.deltaY*this.speed;"firefox"===l.name&&(r*=10),this.setVertical(r),t.preventDefault()},setVertical(t){if(this.isDown&&t>0||this.isUp&&t<0||this.contentHeight<=this.maxHeight)return;const r=""===this.content.style.marginTop?0:parseFloat(this.content.style.marginTop,10);let a=0;this.maxHeight-(r-t)>this.contentHeight&&t>0?(a=this.maxHeight-this.contentHeight,this.isDown=!0):(this.isDown=!1,r-t>0?(this.isUp=!0,a=0):(a=r-t,this.isUp=!1)),this.content.style.marginTop=a+"px",this.calcThumb()}},mounted(){this.track=this.$refs.track,this.thumb=this.$refs.thumb,this.content=this.$refs.scrollbarContent,this.wrapper=this.$refs.scrollbarWrapper,this.calcSize(),this.calcThumb(),a.listenTo(this.content,(()=>{this.calcSize(),this.calcThumb()}))},beforeUnmount(){a.removeAllListeners(this.content)},data:()=>({wrapper:void 0,maxHeight:void 0,thumb:void 0,track:void 0,trackHeight:void 0,content:void 0,contentHeight:void 0,isDown:!1,isUp:!0,prevTouch:{},isDragging:!1})};e(":root{--va-scrollbar-background:transparent;--va-scrollbar-transition:all 0.3s linear;--va-scrollbar-position:relative;--va-scrollbar-wrapper-border-radius:0.375rem;--va-scrollbar-wrapper-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-scrollbar-wrapper-position:relative;--va-scrollbar-wrapper-overflow:hidden;--va-scrollbar-wrapper-max-height:100%;--va-scrollbar-track-width:5px;--va-scrollbar-track-position:absolute;--va-scrollbar-track-right:0;--va-scrollbar-track-top:0;--va-scrollbar-track-height:100%;--va-scrollbar-thumb-transition:height 0.3s linear,opacity 0.6s linear;--va-scrollbar-thumb-position:absolute;--va-scrollbar-thumb-width:100%;--va-scrollbar-thumb-background-color:#4ae387;--va-scrollbar-thumb-opacity:0}.va-scrollbar{background:var(--va-scrollbar-background);font-family:var(--va-font-family);position:var(--va-scrollbar-position);transition:var(--va-scrollbar-transition)}.va-scrollbar .scrollbar-wrapper{border-radius:var(--va-scrollbar-wrapper-border-radius);box-shadow:var(--va-scrollbar-wrapper-box-shadow);max-height:var(--va-scrollbar-wrapper-max-height);overflow:var(--va-scrollbar-wrapper-overflow);position:var(--va-scrollbar-wrapper-position)}.va-scrollbar .scrollbar-wrapper .track{height:var(--va-scrollbar-wrapper-track-height);position:var(--va-scrollbar-wrapper-track-position);right:var(--va-scrollbar-wrapper-track-right);top:var(--va-scrollbar-wrapper-track-top);width:var(--va-scrollbar-wrapper-track-width)}.va-scrollbar .scrollbar-wrapper .track .thumb{background-color:var(--va-scrollbar-thumb-background-color);opacity:var(--va-scrollbar-thumb-opacity);position:var(--va-scrollbar-thumb-position);transition:var(--va-scrollbar-thumb-transition);width:var(--va-scrollbar-thumb-width)}.va-scrollbar .scrollbar-wrapper .track .thumb.active{opacity:.3}.va-scrollbar:hover .thumb.active{opacity:1!important}"),c.ssrRender=function ssrRender(t,r,a,e,l,c,h,n){r(`<div${s(i({class:"va-scrollbar",ref:"vuesticScrollbar"},e))}><div class="scrollbar-wrapper"><div class="scrollbar-content">`),o(t.$slots,"default",{},null,r,a),r('</div><div class="track"><div class="thumb"></div></div></div></div>')},c.__file="src/components/va-scrollbar/VaScrollbar.vue";var h=t(c);export{h as default};
//# sourceMappingURL=index42.js.map
