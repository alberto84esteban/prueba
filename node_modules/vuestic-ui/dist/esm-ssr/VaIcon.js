import{defineComponent as e,computed as n,createVNode as t,resolveDynamicComponent as r,mergeProps as o,withCtx as a,renderSlot as i,createTextVNode as s,toDisplayString as c}from"vue";import{i as l,b as u,_ as f,t as v,d as m,e as p,f as g,h as d,j as h,k as y,l as $,n as b,g as w,o as C}from"./withConfigTransport.js";import{f as z}from"./flatten.js";import{u as S}from"./color-config.js";import{u as j,a as k}from"./useSize.js";import{ssrRenderVNode as x,ssrRenderSlot as E,ssrInterpolate as R}from"@vue/server-renderer";import{s as I}from"./style-inject.es.js";var _=l,A=u,T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/;var O=function isKey$1(e,n){if(_(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!A(e))||(F.test(e)||!T.test(e)||null!=n&&e in Object(n))},P=f;function memoize$1(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var memoized=function(){var t=arguments,r=n?n.apply(this,t):t[0],o=memoized.cache;if(o.has(r))return o.get(r);var a=e.apply(this,t);return memoized.cache=o.set(r,a)||o,a};return memoized.cache=new(memoize$1.Cache||P),memoized}memoize$1.Cache=P;var B=memoize$1;var K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/\\(\\)?/g,V=function memoizeCapped$1(e){var n=B(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(K,(function(e,t,r,o){n.push(r?o.replace(U,"$1"):t||e)})),n})),G=l,N=O,q=V,D=v;var H=function castPath$3(e,n){return G(e)?e:N(e,n)?[e]:q(D(e))};var J=u;var L=function toKey$2(e){if("string"==typeof e||J(e))return e;var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n},M=H,Q=L;var W=function baseGet$1(e,n){for(var t=0,r=(n=M(n,e)).length;null!=e&&t<r;)e=e[Q(n[t++])];return t&&t==r?e:void 0},X=W,Y=m;var Z=H,ee=function last$1(e){var n=null==e?0:e.length;return n?e[n-1]:void 0},ne=function parent$1(e,n){return n.length<2?e:X(e,Y(n,0,-1))},te=L;var re=p;var oe=z,ae=g,ie=d;var se=function flatRest$1(e){return ie(ae(e,void 0,oe),e+"")},ce=h,le=b,ue=function baseUnset$1(e,n){return n=Z(n,e),null==(e=ne(e,n))||delete e[te(ee(n))]},fe=H,ve=y,me=function customOmitClone$1(e){return re(e)?void 0:e},pe=$,ge=se((function(e,n){var t={};if(null==e)return t;var r=!1;n=ce(n,(function(n){return n=fe(n,e),r||(r=n.length>1),n})),ve(e,pe(e),t),r&&(t=le(t,7,me));for(var o=n.length;o--;)ue(t,n[o]);return t}));const regexGroupsValues=(e,n)=>{if("string"!=typeof n&&n.global)return[...e.matchAll(n)].map((e=>e.slice(1)));const t=e.match(n)||[];return t?t.length>1?t.slice(1):t:[]},de=/{[^}]*}/g,dynamicSegmentStringToRegex=e=>e.replace(de,"(.*)"),dynamicSegments=(e,n)=>{const t=(e=>(e.match(de)||[]).map((e=>e.replace(/{|}/g,""))))(n),r=((e,n)=>regexGroupsValues(e,dynamicSegmentStringToRegex(n)))(e,n);return t.reduce(((e,n,t)=>({...e,[n]:r[t]})),{})},isIconConfigurationString=e=>"string"==typeof e.name,isIconConfigurationRegex=e=>e.name instanceof RegExp,isMatchConfiguration=(e,n)=>{return isIconConfigurationString(n)?((e,n)=>{const t=dynamicSegmentStringToRegex(n);return((e,n)=>(e.match(n)||[])[0]===e)(e,new RegExp(t))})(e,n.name):!!isIconConfigurationRegex(n)&&(t=e,n.name.test(t));var t},resolveIconConfiguration=(e,n)=>{if(isIconConfigurationString(n))return((e,n)=>{const t=dynamicSegments(e,n.name);return n.resolve&&n.resolve(t)})(e,n);if(isIconConfigurationRegex(n))return((e,n)=>{if(n.name.global)throw new Error(`Bad icon config with name ${n.name}. Please, don't use global regex as name.`);const t=regexGroupsValues(e,n.name);return n.resolveFromRegex&&n.resolveFromRegex(...t)})(e,n);throw Error("Unknown icon config")},findIconConfiguration=(e,n,t=[])=>{if(!e)return;const r=((e,n,t=[])=>{const r=n.find((n=>!t.includes(n.name.toString())&&isMatchConfiguration(e,n)));if(!r)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return r})(e,n,t),o=C(resolveIconConfiguration(e,r),r);return t=[...t,r.name.toString()],C(findIconConfiguration(o.to,n,t),o)},getIconConfiguration=(e,n=(()=>w().icons||[])())=>{const t=findIconConfiguration(e,n);return void 0===t?{}:(e=>{const n=e;return["name","to","resolve","resolveFromRegex"].forEach((e=>{delete n[e]})),n})(t)},useIcons=e=>({getIcon:e=>getIconConfiguration(e)});var he=e({name:"VaIcon",props:{...j,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e,{attrs:t}){const{getColor:r}=S(),{sizeComputed:o}=k(e),{getIcon:a}=useIcons(),i=n((()=>a(e.name))),s=n((()=>e.component||e.tag||i.value.component||i.value.tag||"i")),c=n((()=>({...i.value.attrs,...ge(t,["class"])}))),getSpinClass=e=>{if(e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},l=n((()=>{var n;return[i.value.class,getSpinClass(null!==(n=e.spin)&&void 0!==n?n:i.value.spin)]})),u=n((()=>{const n=e.rotation?`rotate(${e.rotation}deg)`:"",t="vertical"===e.flip||"both"===e.flip?-1:1,r="horizontal"===e.flip||"both"===e.flip?-1:1;return`${"off"===e.flip?"":`scale(${t}, ${r})`} ${n}`.trim()})),f=n((()=>({transform:u.value,cursor:t.onClick?"pointer":null,color:e.color?r(e.color):i.value.color,fontSize:o.value})));return{iconConfig:i,computedTag:s,computedAttrs:c,computedClass:l,computedStyle:f}}});I(":root{--va-icon-vertical-align:middle;--va-icon-user-select:none}.va-icon{-webkit-user-select:var(--va-icon-user-select);-moz-user-select:var(--va-icon-user-select);-ms-user-select:var(--va-icon-user-select);user-select:var(--va-icon-user-select);vertical-align:var(--va-icon-vertical-align)}.va-icon.va-icon{font-style:normal}.va-icon--spin,.va-icon--spin-reverse{-webkit-animation:va-icon--spin-animation 1.5s linear infinite;animation:va-icon--spin-animation 1.5s linear infinite}.va-icon--spin-reverse{animation-direction:reverse}@-webkit-keyframes va-icon--spin-animation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes va-icon--spin-animation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"),he.ssrRender=function ssrRender(e,n,l,u,f,v,m,p){x(n,t(r(e.computedTag),o(e.computedAttrs,{"aria-hidden":"true",notranslate:"",class:["va-icon",e.computedClass],style:e.computedStyle},u),{default:a(((n,t,r,o)=>{if(!t)return[i(e.$slots,"default",{},(()=>[s(c(e.iconConfig.content),1)]))];E(e.$slots,"default",{},(()=>{t(`${R(e.iconConfig.content)}`)}),t,r,o)})),_:3}),l)},he.__file="src/components/va-icon/VaIcon.vue";export{H as _,L as a,W as b,se as c,ge as o,he as s,useIcons as u};
//# sourceMappingURL=VaIcon.js.map
