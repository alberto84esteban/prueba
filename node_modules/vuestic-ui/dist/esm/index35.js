import{w as t}from"./withConfigTransport.js";import{__decorate as e,__metadata as i}from"tslib";import{watch as o,resolveComponent as a,openBlock as n,createBlock as s,withCtx as r,createCommentVNode as l,renderSlot as p,createElementBlock as u,Fragment as c,renderList as d,normalizeStyle as h,normalizeClass as g,createTextVNode as m,toDisplayString as f,withDirectives as b,withKeys as v,vModelText as y}from"vue";import{V,m as j,O as $,p as I}from"./vue-class-component.esm-bundler.js";import{R as k}from"./decorators.js";import{C as P}from"./ColorMixin.js";import{S as _}from"./StatefulMixin.js";import w from"./index10.js";import S from"./index8.js";import C from"./index31.js";import{s as L}from"./style-inject.es.js";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./useColor.js";import"./useRouterLink.js";import"./useSize.js";import"./useLoading.js";import"./index28.js";import"./VaIcon.js";import"./flatten.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";import"./VaInput.js";import"./useForm.js";import"./index60.js";import"./useSyncProp.js";import"./consts.js";import"./useFocus.js";import"cleave.js";import"./useEmitProxy.js";import"./pick.js";import"./child-props.js";import"./VaMessageListWrapper.vue_vue&type=script&lang.js";const x=V.with(class PaginationProps{constructor(){this.modelValue=I({type:Number,default:1}),this.visiblePages=I({type:Number,default:0}),this.pages=I({type:Number,default:0}),this.disabled=I({type:Boolean,default:!1}),this.color=I({type:String,default:"primary"}),this.size=I({type:String,default:"medium",validator:t=>["medium","small","large"].includes(t)}),this.boundaryLinks=I({type:Boolean,default:!0}),this.boundaryNumbers=I({type:Boolean,default:!1}),this.directionLinks=I({type:Boolean,default:!0}),this.input=I({type:Boolean,default:!1}),this.hideOnSinglePage=I({type:Boolean,default:!1}),this.flat=I({type:Boolean,default:!1}),this.total=I({type:Number,default:null}),this.pageSize=I({type:Number,default:null}),this.boundaryIconLeft=I({type:String,default:"first_page"}),this.boundaryIconRight=I({type:String,default:"last_page"}),this.directionIconLeft=I({type:String,default:"chevron_left"}),this.directionIconRight=I({type:String,default:"chevron_right"})}});let z=class VaPagination extends(j(_,P,x)){constructor(){super(...arguments),this.inputValue=""}created(){o([()=>this.useTotal,()=>this.$props.pages],(()=>{if(this.useTotal&&this.$props.pages&&"production"!==process.env.NODE_ENV)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")}))}get lastPage(){const{total:t,pageSize:e,pages:i}=this.$props;return this.useTotal?Math.ceil(t/e)||1:i}get paginationRange(){const{visiblePages:t,total:e,pageSize:i,boundaryNumbers:o,pages:a}=this.$props;return((t=1,e,i,o=!1)=>{let a=0;if(0===i&&(i=1),e>i&&(e=i),0===e)a=1,e=i;else{const o=e/2;a=t-o<=0||t>i?1:t+o>i?i-e+1:Math.ceil(t-o)}const n=[];for(let t=0;t<e;t++)n.push(a+t);return o&&(1!==a&&n.splice(0,2,1,"..."),n[n.length-1]!==i&&n.splice(-2,2,"...",i)),n})(this.currentValue||1,t,this.useTotal?Math.ceil(e/i):a,o)}get showBoundaryLinks(){const{visiblePages:t,boundaryLinks:e,boundaryNumbers:i,input:o}=this.$props;return o||t&&this.lastPage>t&&e&&!i}get showDirectionLinks(){const{visiblePages:t,directionLinks:e,input:i}=this.$props;return i||t&&this.lastPage>t&&e}get showPagination(){return this.lastPage>1||!this.$props.hideOnSinglePage&&this.lastPage<=1}get fontColor(){return this.computeColor(this.$props.color)}get useTotal(){const{total:t,pageSize:e}=this.$props;return!(!t&&0!==t||!e)}get currentValue(){return this.useTotal?Math.ceil(this.valueComputed/this.$props.pageSize)||1:this.valueComputed}set currentValue(t){this.valueComputed=t}focusInput(){const{currentValue:t,$nextTick:e}=this;this.inputValue=t,e((()=>this.htmlInput.setSelectionRange(0,this.htmlInput.value.length)))}onUserInput(t){t<1||t>this.lastPage||(this.currentValue=this.useTotal?(t-1)*this.$props.pageSize+1:t)}resetInput(){this.inputValue="",this.htmlInput.blur()}changeValue(){if(this.inputValue===this.currentValue&&this.resetInput(),!this.inputValue.length)return;let t=Number.parseInt(this.inputValue);switch(!0){case t<1:t=1;break;case t>this.lastPage:t=this.lastPage;break;case isNaN(t):t=this.currentValue}this.onUserInput(t),this.resetInput()}activeButtonStyle(t){return t===this.currentValue?{backgroundColor:this.colorComputed,color:"#ffffff"}:{color:this.fontColor}}};e([k(),i("design:type",HTMLInputElement)],z.prototype,"htmlInput",void 0),z=e([$({name:"VaPagination",components:{VaButtonGroup:w,VaButton:S,VaInput:C}})],z);var B=z;const N=["disabled","placeholder"];L(":root{--va-pagination-input-border-style:solid;--va-pagination-input-border-width:2px 0;--va-pagination-input-text-align:center;--va-pagination-input-font-size:1rem;--va-pagination-input-flat-border-top-width:0}.va-pagination{font-family:var(--va-font-family)}.va-pagination__input{border-style:var(--va-pagination-input-border-style);border-width:var(--va-pagination-input-border-width);font-size:var(--va-pagination-input-font-size);text-align:var(--va-pagination-input-text-align)}.va-pagination__input--flat{border-top-width:var(--va-pagination-input-flat-border-top-width)}.va-pagination .va-button.va-input{cursor:default}.va-pagination .va-button--ellipsis{cursor:default;opacity:1}.va-pagination .va-button--ellipsis>.va-button__content{opacity:.4}.va-pagination .va-button--outline.va-button--disabled{opacity:1}.va-pagination .va-button--outline.va-button--disabled>.va-button__content{opacity:.4}"),B.render=function render(t,e,i,o,V,j){const $=a("va-button"),I=a("va-button-group");return t.showPagination?(n(),s(I,{key:0,class:"va-pagination",flat:t.$props.flat,size:t.$props.size,color:t.$props.color,outline:""},{default:r((()=>[t.showBoundaryLinks?(n(),s($,{key:0,disabled:t.$props.disabled||1===t.currentValue,icon:t.$props.boundaryIconLeft,onClick:e[0]||(e[0]=e=>t.onUserInput(1))},null,8,["disabled","icon"])):l("v-if",!0),t.showDirectionLinks?(n(),s($,{key:1,outline:"",disabled:t.$props.disabled||1===t.currentValue,icon:t.$props.directionIconLeft,onClick:e[1]||(e[1]=e=>t.onUserInput(t.currentValue-1))},null,8,["disabled","icon"])):l("v-if",!0),t.$props.input?b((n(),u("input",{key:3,ref:"htmlInput",class:g(["va-pagination__input va-button",{"va-pagination__input--flat":t.$props.flat}]),style:h({cursor:"default",color:t.computeColor(t.$props.color),opacity:t.$props.disabled?.4:1}),onKeydown:e[2]||(e[2]=v(((...e)=>t.changeValue&&t.changeValue(...e)),["enter"])),onFocus:e[3]||(e[3]=(...e)=>t.focusInput&&t.focusInput(...e)),onBlur:e[4]||(e[4]=(...e)=>t.changeValue&&t.changeValue(...e)),disabled:t.$props.disabled,placeholder:`${t.currentValue}/${t.lastPage}`,"onUpdate:modelValue":e[5]||(e[5]=e=>t.inputValue=e)},null,46,N)),[[y,t.inputValue]]):p(t.$slots,"default",{key:2},(()=>[(n(!0),u(c,null,d(t.paginationRange,((e,i)=>(n(),s($,{style:h(t.activeButtonStyle(e)),outline:"",key:i,disabled:t.$props.disabled||"..."===e,class:g({"va-button--ellipsis":"..."===e}),onClick:i=>t.onUserInput(e)},{default:r((()=>[m(f(e),1)])),_:2},1032,["style","disabled","class","onClick"])))),128))])),t.showDirectionLinks?(n(),s($,{key:4,outline:"",disabled:t.$props.disabled||t.currentValue===t.lastPage,icon:t.$props.directionIconRight,onClick:e[6]||(e[6]=e=>t.onUserInput(t.currentValue+1))},null,8,["disabled","icon"])):l("v-if",!0),t.showBoundaryLinks?(n(),s($,{key:5,outline:"",disabled:t.$props.disabled||t.currentValue===t.lastPage,icon:t.$props.boundaryIconRight,onClick:e[7]||(e[7]=e=>t.onUserInput(t.lastPage))},null,8,["disabled","icon"])):l("v-if",!0)])),_:3},8,["flat","size","color"])):l("v-if",!0)},B.__file="src/components/va-pagination/VaPagination.vue";var T=t(B);export{T as default};
//# sourceMappingURL=index35.js.map
