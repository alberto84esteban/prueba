{"version":3,"file":"index6.js","sources":["../../src/components/va-backtop/VaBacktop.vue","../../src/components/va-backtop/VaBacktop.vue?vue&type=template&id=17846d70&lang.js","../../src/components/va-backtop/index.ts"],"sourcesContent":["<template>\n  <div\n    v-if=\"visible\"\n    class=\"va-backtop\"\n    :style=\"computedStyle\"\n    @click=\"scrollToTop()\"\n  >\n    <slot>\n      <va-button\n        icon=\"expand_less\"\n        :color=\"color\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType, ref, onMounted, onBeforeMount, Ref } from 'vue'\n\nimport VaButton from '../va-button'\n\nexport default defineComponent({\n  name: 'VaBacktop',\n  components: { VaButton },\n  props: {\n    target: {\n      type: [Object, String] as PropType<Element | string>,\n      default: () => document.body,\n    },\n\n    visibilityHeight: { type: Number as PropType<number>, default: 300 },\n    speed: { type: Number as PropType<number>, default: 50 },\n    verticalOffset: { type: String as PropType<string>, default: '1rem' },\n    horizontalOffset: { type: String as PropType<string>, default: '1rem' },\n    color: { type: String as PropType<string>, default: '' },\n    horizontalPosition: {\n      type: String as PropType<'right' | 'left'>,\n      default: 'right',\n      validator: (value: string) => ['right', 'left'].includes(value),\n    },\n\n    verticalPosition: {\n      type: String as PropType<'bottom' | 'top'>,\n      default: 'bottom',\n      validator: (value: string) => ['bottom', 'top'].includes(value),\n    },\n  },\n  setup (props) {\n    const visible = ref(false)\n\n    const computedStyle = computed(() => ({\n      [props.verticalPosition]: props.verticalOffset,\n      [props.horizontalPosition]: props.horizontalOffset,\n    }))\n\n    let targetElement: Element = document.body\n    const getTargetElement = () => typeof props.target === 'string'\n      ? document.querySelector(props.target) || document.body\n      : props.target\n\n    const scrolled = ref(false)\n    const interval = ref(0)\n    const scrollToTop = () => {\n      if (scrolled.value) { return }\n\n      scrolled.value = true\n\n      interval.value = window.setInterval(() => {\n        if (targetElement.scrollTop === 0) {\n          clearInterval(interval.value)\n          scrolled.value = false\n        } else {\n          const next = Math.floor(targetElement.scrollTop - props.speed)\n          targetElement.scrollTo(0, next)\n        }\n      }, 15)\n    }\n\n    const handleScroll = () => {\n      visible.value = targetElement.scrollTop > props.visibilityHeight\n    }\n\n    onMounted(() => {\n      targetElement = getTargetElement()\n      targetElement?.addEventListener('scroll', handleScroll)\n    })\n\n    onBeforeMount(() => targetElement?.removeEventListener('scroll', handleScroll))\n\n    return {\n      computedStyle,\n      visible,\n      scrollToTop,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-backtop {\n  position: var(--va-backtop-position);\n  top: var(--va-backtop-top);\n  left: var(--va-backtop-left);\n  right: var(--va-backtop-right);\n  bottom: var(--va-backtop-bottom);\n  cursor: var(--va-backtop-cursor);\n  z-index: var(--va-backtop-z-index);\n  font-family: var(--va-font-family);\n}\n</style>\n","<template>\n  <div\n    v-if=\"visible\"\n    class=\"va-backtop\"\n    :style=\"computedStyle\"\n    @click=\"scrollToTop()\"\n  >\n    <slot>\n      <va-button\n        icon=\"expand_less\"\n        :color=\"color\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType, ref, onMounted, onBeforeMount, Ref } from 'vue'\n\nimport VaButton from '../va-button'\n\nexport default defineComponent({\n  name: 'VaBacktop',\n  components: { VaButton },\n  props: {\n    target: {\n      type: [Object, String] as PropType<Element | string>,\n      default: () => document.body,\n    },\n\n    visibilityHeight: { type: Number as PropType<number>, default: 300 },\n    speed: { type: Number as PropType<number>, default: 50 },\n    verticalOffset: { type: String as PropType<string>, default: '1rem' },\n    horizontalOffset: { type: String as PropType<string>, default: '1rem' },\n    color: { type: String as PropType<string>, default: '' },\n    horizontalPosition: {\n      type: String as PropType<'right' | 'left'>,\n      default: 'right',\n      validator: (value: string) => ['right', 'left'].includes(value),\n    },\n\n    verticalPosition: {\n      type: String as PropType<'bottom' | 'top'>,\n      default: 'bottom',\n      validator: (value: string) => ['bottom', 'top'].includes(value),\n    },\n  },\n  setup (props) {\n    const visible = ref(false)\n\n    const computedStyle = computed(() => ({\n      [props.verticalPosition]: props.verticalOffset,\n      [props.horizontalPosition]: props.horizontalOffset,\n    }))\n\n    let targetElement: Element = document.body\n    const getTargetElement = () => typeof props.target === 'string'\n      ? document.querySelector(props.target) || document.body\n      : props.target\n\n    const scrolled = ref(false)\n    const interval = ref(0)\n    const scrollToTop = () => {\n      if (scrolled.value) { return }\n\n      scrolled.value = true\n\n      interval.value = window.setInterval(() => {\n        if (targetElement.scrollTop === 0) {\n          clearInterval(interval.value)\n          scrolled.value = false\n        } else {\n          const next = Math.floor(targetElement.scrollTop - props.speed)\n          targetElement.scrollTo(0, next)\n        }\n      }, 15)\n    }\n\n    const handleScroll = () => {\n      visible.value = targetElement.scrollTop > props.visibilityHeight\n    }\n\n    onMounted(() => {\n      targetElement = getTargetElement()\n      targetElement?.addEventListener('scroll', handleScroll)\n    })\n\n    onBeforeMount(() => targetElement?.removeEventListener('scroll', handleScroll))\n\n    return {\n      computedStyle,\n      visible,\n      scrollToTop,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-backtop {\n  position: var(--va-backtop-position);\n  top: var(--va-backtop-top);\n  left: var(--va-backtop-left);\n  right: var(--va-backtop-right);\n  bottom: var(--va-backtop-bottom);\n  cursor: var(--va-backtop-cursor);\n  z-index: var(--va-backtop-z-index);\n  font-family: var(--va-font-family);\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport VaBacktop from './VaBacktop.vue'\n\nexport default withConfigTransport(VaBacktop)\n"],"names":["defineComponent","name","components","VaButton","props","target","type","Object","String","default","document","body","visibilityHeight","Number","speed","verticalOffset","horizontalOffset","color","horizontalPosition","validator","value","includes","verticalPosition","setup","visible","ref","computedStyle","computed","targetElement","scrolled","interval","handleScroll","scrollTop","onMounted","querySelector","addEventListener","onBeforeMount","removeEventListener","scrollToTop","window","setInterval","clearInterval","next","Math","floor","scrollTo","_ctx","_createElementBlock","class","style","onClick","_renderSlot","_createVNode","icon","withConfigTransport","VaBacktop"],"mappings":"4nBAqBA,MAAeA,EAAgB,CAC7BC,KAAM,YACNC,WAAY,CAAEC,SAAAA,GACdC,MAAO,CACLC,OAAQ,CACNC,KAAM,CAACC,OAAQC,QACfC,QAAS,IAAMC,SAASC,MAG1BC,iBAAkB,CAAEN,KAAMO,OAA4BJ,QAAS,KAC/DK,MAAO,CAAER,KAAMO,OAA4BJ,QAAS,IACpDM,eAAgB,CAAET,KAAME,OAA4BC,QAAS,QAC7DO,iBAAkB,CAAEV,KAAME,OAA4BC,QAAS,QAC/DQ,MAAO,CAAEX,KAAME,OAA4BC,QAAS,IACpDS,mBAAoB,CAClBZ,KAAME,OACNC,QAAS,QACTU,UAAYC,GAAkB,CAAC,QAAS,QAAQC,SAASD,IAG3DE,iBAAkB,CAChBhB,KAAME,OACNC,QAAS,SACTU,UAAYC,GAAkB,CAAC,SAAU,OAAOC,SAASD,KAG7DG,MAAOnB,GACL,MAAMoB,EAAUC,GAAI,GAEdC,EAAgBC,GAAS,MAC7B,CAACvB,EAAMkB,kBAAmBlB,EAAMW,eAChC,CAACX,EAAMc,oBAAqBd,EAAMY,qBAGpC,IAAIY,EAAyBlB,SAASC,KACtC,MAIMkB,EAAWJ,GAAI,GACfK,EAAWL,EAAI,GAiBfM,aAAe,KACnBP,EAAQJ,MAAQQ,EAAcI,UAAY5B,EAAMQ,kBAUlD,OAPAqB,GAAU,KACRL,EA3BqD,iBAAjBxB,EAAMC,OACxCK,SAASwB,cAAc9B,EAAMC,SAAWK,SAASC,KACjDP,EAAMC,OA0BRuB,MAAAA,GAAAA,EAAeO,iBAAiB,SAAUJ,iBAG5CK,GAAc,IAAMR,MAAAA,SAAAA,EAAeS,oBAAoB,SAAUN,gBAE1D,CACLL,cAAAA,EACAF,QAAAA,EACAc,YA9BkB,KACdT,EAAST,QAEbS,EAAST,OAAQ,EAEjBU,EAASV,MAAQmB,OAAOC,aAAY,KAClC,GAAgC,IAA5BZ,EAAcI,UAChBS,cAAcX,EAASV,OACvBS,EAAST,OAAQ,MACZ,CACL,MAAMsB,EAAOC,KAAKC,MAAMhB,EAAcI,UAAY5B,EAAMU,OACxDc,EAAciB,SAAS,EAAGH,MAE3B,+gBCzECI,EAAO,aADfC,eAEEC,MAAM,aACLC,QAAOH,iBACPI,uBAAOJ,mBAERK,yBAAA,KACEC,KACEC,KAAK,cACJpC,MAAO6B,oGCPhB,MAAeQ,EAAoBC"}