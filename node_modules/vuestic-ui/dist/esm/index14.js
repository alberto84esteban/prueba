import{w as e}from"./withConfigTransport.js";import{computed as a,defineComponent as o,ref as r,resolveComponent as c,openBlock as t,createBlock as l,normalizeClass as n,withCtx as s,createElementVNode as i,normalizeStyle as u,withModifiers as d,mergeProps as v,toHandlers as b,createVNode as p,renderSlot as m,createTextVNode as h,toDisplayString as k}from"vue";import x from"./index28.js";import{u as f}from"./color-config.js";import{u as y}from"./useKeyboardOnlyFocus.js";import{u as g,a as V}from"./useStateful.js";import{u as _}from"./useLoading.js";import{u as S,a as j,b as w}from"./index60.js";import"./VaMessageListWrapper.js";import{s as q}from"./VaMessageListWrapper.vue_vue&type=script&lang.js";import{s as B}from"./style-inject.es.js";import"./VaConfig.js";import"./VaIcon.js";import"./flatten.js";import"./useSize.js";import"colortranslator";import"./useSyncProp.js";import"./consts.js";import"./useFocus.js";import"./useColor.js";const C={...g,..._,...S,arrayValue:{type:null,default:null},label:{type:String,default:""},leftLabel:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:null,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},F=[...j,"update:modelValue","focus","blur"],useSelectable=(e,o,{input:r,label:c,container:t})=>{(e=>{const a=[e.falseValue,e.trueValue];if(e.indeterminate&&a.push(e.indeterminateValue),new Set(a).size!==a.length)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")})(e);const reset=()=>o("update:modelValue",!1),focus=()=>{var e;return null===(e=r.value)||void 0===e?void 0:e.focus()},{isFocused:l,computedError:n,computedErrorMessages:s,validate:i}=w(e,o,reset,focus),{valueComputed:u}=V(e,o),d=a((()=>!!e.indeterminate&&u.value===e.indeterminateValue)),v=a((()=>null!==e.arrayValue)),b=a((()=>{var a;return v.value?null===(a=e.modelValue)||void 0===a?void 0:a.includes(e.arrayValue):u.value===e.trueValue}));return{isChecked:b,isIndeterminate:d,onBlur:e=>{var a;r.value!==e.target||(a=e.relatedTarget)&&[c.value,t.value].includes(a)||(l.value=!1,n.value=!1,i(),o("blur",e))},onFocus:e=>o("focus",e),toggleSelection:()=>{if(!(e.readonly||e.disabled||e.loading))if(v.value)if(e.modelValue){if(!Array.isArray(e.modelValue))return;e.modelValue.includes(e.arrayValue)?o("update:modelValue",e.modelValue.filter((a=>a!==e.arrayValue))):o("update:modelValue",e.modelValue.concat(e.arrayValue))}else o("update:modelValue",[e.arrayValue]);else e.indeterminate?d.value?u.value=e.trueValue:b.value?u.value=e.falseValue:u.value=e.indeterminateValue:b.value?u.value=e.falseValue:u.value=e.trueValue},reset:reset,focus:focus,computedError:n,computedErrorMessages:s}};var E=o({name:"VaCheckbox",components:{VaMessageListWrapper:q,VaIcon:x},emits:F,props:{...C,modelValue:{type:null,default:!1},color:{type:String,default:"primary"},checkedIcon:{type:String,default:"check"},indeterminateIcon:{type:String,default:"remove"},id:{type:String,default:""},name:{type:String,default:""}},setup(e,{emit:o}){const c={container:r(null),input:r(null),label:r(null)},{isChecked:t,computedError:l,isIndeterminate:n,computedErrorMessages:s,toggleSelection:i,onBlur:u,onFocus:d}=useSelectable(e,o,c),{getColor:v}=f(),{hasKeyboardFocus:b,keyboardFocusListeners:p}=y();return{computedClass:a((()=>({"va-checkbox--selected":t.value,"va-checkbox--readonly":e.readonly,"va-checkbox--disabled":e.disabled,"va-checkbox--indeterminate":e.indeterminate,"va-checkbox--error":l.value,"va-checkbox--left-label":e.leftLabel,"va-checkbox--on-keyboard-focus":b.value}))),labelStyle:a((()=>({color:l.value?v("danger"):"",padding:e.label?e.leftLabel?"0 0.5rem 0 0":"0 0 0 0.5rem":""}))),inputStyle:a((()=>{const a=t.value||n.value,o={background:a?v(e.color):"",borderColor:a?v(e.color):""};return l.value&&(o.borderColor=v("danger")),o})),computedIconName:a((()=>e.indeterminate&&n.value?e.indeterminateIcon:e.checkedIcon)),computedError:l,computedErrorMessages:s,keyboardFocusListeners:p,toggleSelection:i,onBlur:u,onFocus:d}}});const L=["id","name","disabled","indeterminate"];B(":root{--va-checkbox-display:block;--va-checkbox-max-width:fit-content;--va-checkbox-input-align-items:center;--va-checkbox-input-display:flex;--va-checkbox-input-padding:0 0.3rem;--va-checkbox-input-cursor:pointer;--va-checkbox-disabled-cursor:default;--va-checkbox-readonly-cursor:initial;--va-checkbox-label-display:inline-block;--va-checkbox-label-position:relative;--va-checkbox-icon-pointer-events:none;--va-checkbox-icon-position:absolute;--va-checkbox-icon-color:transparent;--va-checkbox-selected-icon-color:#fff;--va-checkbox-indeterminate-icon-color:#fff;--va-checkbox-square-width:1.35rem;--va-checkbox-square-min-width:1.35rem;--va-checkbox-square-height:1.35rem;--va-checkbox-square-position:relative;--va-checkbox-square-background-color:#fff;--va-checkbox-square-border:solid 0.125rem #acb5be;--va-checkbox-square-border-radius:0.25rem}.va-checkbox{display:var(--va-checkbox-display);font-family:var(--va-font-family);max-width:var(--va-checkbox-max-width)}.va-checkbox__input-container{align-items:var(--va-checkbox-input-align-items);cursor:var(--va-checkbox-input-cursor);display:var(--va-checkbox-input-display);padding:var(--va-checkbox-input-padding)}.va-checkbox--disabled .va-checkbox__input-container{cursor:default;cursor:var(--va-checkbox-disabled-cursor);opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-checkbox--readonly .va-checkbox__input-container{cursor:var(--va-checkbox-readonly-cursor)}.va-checkbox--left-label .va-checkbox__input-container{flex-direction:row-reverse}.va-checkbox .va-checkbox__square{align-items:center;background-color:var(--va-checkbox-square-background-color,var(--va-background-color));border:var(--va-checkbox-square-border,var(--va-control-border));border-radius:var(--va-checkbox-square-border-radius,var(--va-square-border-radius));display:flex;height:var(--va-checkbox-square-height);justify-content:center;min-width:var(--va-checkbox-square-min-width);position:var(--va-checkbox-square-position);width:var(--va-checkbox-square-width)}.va-checkbox--on-keyboard-focus.va-checkbox .va-checkbox__square{box-shadow:0 0 .5rem 0 rgba(0,0,0,.3);transition:all,.6s,ease-in}.va-checkbox__input{height:0!important;opacity:0;width:0}.va-checkbox__label{display:var(--va-checkbox-label-display);position:var(--va-checkbox-label-position)}.va-checkbox__icon{color:var(--va-checkbox-icon-color);pointer-events:var(--va-checkbox-icon-pointer-events);position:var(--va-checkbox-icon-position)}.va-checkbox--selected .va-checkbox__icon{color:var(--va-checkbox-selected-icon-color)}.va-checkbox--indeterminate .va-checkbox__icon{color:var(--va-checkbox-indeterminate-icon-color)}"),E.render=function render(e,a,o,r,x,f){const y=c("va-icon"),g=c("VaMessageListWrapper");return t(),l(g,{class:n(["va-checkbox",e.computedClass]),disabled:e.disabled,success:e.success,messages:e.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.errorCount},{default:s((()=>[i("div",{class:"va-checkbox__input-container",onClick:a[6]||(a[6]=(...a)=>e.toggleSelection&&e.toggleSelection(...a)),tabindex:"-1",onBlur:a[7]||(a[7]=(...a)=>e.onBlur&&e.onBlur(...a)),ref:"container"},[i("div",{class:"va-checkbox__square",style:u(e.inputStyle),onSelectstart:a[4]||(a[4]=d((()=>{}),["prevent"]))},[i("input",v({ref:"input",type:"checkbox",role:"checkbox",readonly:"",id:e.id,name:e.name},b(e.keyboardFocusListeners),{onFocus:a[0]||(a[0]=(...a)=>e.onFocus&&e.onFocus(...a)),onBlur:a[1]||(a[1]=(...a)=>e.onBlur&&e.onBlur(...a)),class:"va-checkbox__input",onClick:a[2]||(a[2]=d((()=>{}),["stop","prevent"])),onKeypress:a[3]||(a[3]=d(((...a)=>e.toggleSelection&&e.toggleSelection(...a)),["prevent"])),disabled:e.disabled,indeterminate:e.indeterminate}),null,16,L),p(y,{class:"va-checkbox__icon",name:e.computedIconName,size:"20px"},null,8,["name"])],36),i("div",{class:"va-checkbox__label",style:u(e.labelStyle),ref:"label",tabindex:"-1",onBlur:a[5]||(a[5]=(...a)=>e.onBlur&&e.onBlur(...a))},[m(e.$slots,"label",{},(()=>[h(k(e.label),1)]))],36)],544)])),_:3},8,["class","disabled","success","messages","error","error-messages","error-count"])},E.__file="src/components/va-checkbox/VaCheckbox.vue";var I=e(E);export{I as default};
//# sourceMappingURL=index14.js.map
