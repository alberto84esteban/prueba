import{w as a}from"./withConfigTransport.js";import{defineComponent as e,ref as r,computed as o,watch as i,openBlock as t,createElementBlock as l,renderSlot as n,createCommentVNode as s,createElementVNode as v,normalizeStyle as d,withDirectives as g,vShow as m}from"vue";import{s as c}from"./style-inject.es.js";import"./VaConfig.js";var p=e({name:"VaImage",emits:["loaded","error"],props:{ratio:{type:Number,default:1},contain:{type:Boolean,default:!1},src:{type:String,required:!0}},setup(a,{emit:e}){const t=r(!0),l=r(!1),n=o((()=>({objectFit:a.contain?"contain":"cover"}))),s=o((()=>({paddingBottom:1/a.ratio*100+"%"})));return i((()=>a.src),(()=>{t.value=!0,l.value=!1})),{loading:t,loadingError:l,imageStyles:n,paddingStyles:s,handleLoad:()=>{t.value=!1,e("loaded",a.src)},handleError:a=>{l.value=!0,t.value=!1,e("error",a)}}}});const f={class:"va-image"},_={key:0,class:"va-image__error"},u={class:"va-image__img",ref:"img"},y=["src"],h={class:"va-image__overlay"},E={key:1,class:"va-image__loader"};c(":root{--va-image-overflow:hidden;--va-image-position:relative;--va-image-img-background-position:50% 50%;--va-image-img-background-repeat:no-repeat}.va-image{font-family:var(--va-font-family);overflow:var(--va-image-overflow);position:var(--va-image-position)}.va-image img{height:100%;width:100%}.va-image__error,.va-image__img,.va-image__loader,.va-image__overlay{bottom:0;left:0;position:absolute;right:0;top:0}.va-image__error,.va-image__loader,.va-image__overlay{align-items:center;display:flex;justify-content:center}"),p.render=function render(a,e,r,o,i,c){return t(),l("div",f,[a.loadingError?(t(),l("div",_,[n(a.$slots,"error")])):s("v-if",!0),v("div",{style:d(a.paddingStyles)},null,4),g(v("div",u,[v("img",{style:d(a.imageStyles),src:a.src,onError:e[0]||(e[0]=(...e)=>a.handleError&&a.handleError(...e)),onLoad:e[1]||(e[1]=(...e)=>a.handleLoad&&a.handleLoad(...e))},null,44,y)],512),[[m,!a.loadingError&&!a.loading]]),v("div",h,[n(a.$slots,"default")]),a.loading?(t(),l("div",E,[n(a.$slots,"loader")])):s("v-if",!0)])},p.__file="src/components/va-image/VaImage.vue";var b=a(p);export{b as default};
//# sourceMappingURL=index29.js.map
