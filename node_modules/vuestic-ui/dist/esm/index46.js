import{y as e,w as t}from"./withConfigTransport.js";import{__decorate as r}from"tslib";import{V as s,m as a,s as i,O as c,p as o}from"./vue-class-component.esm-bundler.js";import{C as h}from"./ColorMixin.js";import{f as n}from"./flatten.js";import{i as l}from"./index60.js";import{inject as d,resolveComponent as u,openBlock as p,createBlock as v,normalizeClass as w,withCtx as m,createElementVNode as g,mergeProps as k,toHandlers as b,withModifiers as f,normalizeStyle as y,renderSlot as _,createTextVNode as V,toDisplayString as C,createCommentVNode as S}from"vue";import{F as $}from"./consts.js";import{S as x}from"./StatefulMixin.js";import{L as E}from"./LoadingMixin.js";import{VaProgressCircle as j}from"./index39.js";import{u as L}from"./useKeyboardOnlyFocus.js";import"./VaMessageListWrapper.js";import{s as M}from"./VaMessageListWrapper.vue_vue&type=script&lang.js";import{s as B}from"./style-inject.es.js";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./useSyncProp.js";import"./useFocus.js";import"./useColor.js";import"./clamp.js";import"./toNumber.js";import"./useSize.js";const prepareValidations=(t=[],r=null)=>(l(t)&&(t=[t]),t.map((t=>e(t)?t(r):t)));const F=s.with(class Props$1{constructor(){this.rules=o({type:Array,default:()=>[]}),this.disabled=o({type:Boolean,default:!1}),this.readonly=o({type:Boolean,default:!1}),this.success=o({type:Boolean,default:!1}),this.messages=o({type:Array,default:()=>[]}),this.error=o({type:Boolean,default:!1}),this.errorMessages=o({type:[Array,String]}),this.errorCount=o({type:Number,default:1}),this.id=o({type:[String,Number],default:void 0}),this.name=o({type:[String,Number],default:void 0}),this.modelValue=o({validator:()=>{throw new Error("ValidateMixin: `modelValue` prop should be defined in component.")}})}});let I=class FormComponentMixin extends(a(F)){constructor(){super(...arguments),this.hadFocus=!1,this.isFocused=!1,this.internalErrorMessages=[],this.internalError=!1,this.isFormComponent=!0,this.formProvider=i((()=>({...d($,void 0)})))}mounted(){Object.keys(this.formProvider).length&&this.formProvider.onChildMounted(this)}unmounted(){Object.keys(this.formProvider).length&&this.formProvider.onChildUnmounted(this)}validate(){return this.computedError=!1,this.computedErrorMessages=[],this.rules&&this.rules.length>0&&prepareValidations(n(this.rules),this.modelValue).forEach((e=>{l(e)?(this.computedErrorMessages.push(e),this.computedError=!0):!1===e&&(this.computedError=!0)})),!this.computedError}focus(){throw new Error("focus method should be implemented in component")}reset(){throw new Error("reset method should be implemented in component")}resetValidation(){this.computedErrorMessages=[],this.computedError=!1}hasError(){return this.computedError}ValidateMixin_onBlur(){this.isFocused=!1,this.computedError=!1,this.validate()}get shouldValidateOnBlur(){return this.hadFocus}get computedError(){return this.error||this.internalError}set computedError(e){this.internalError=e}get computedErrorMessages(){return this.errorMessages?prepareValidations(this.errorMessages):this.internalErrorMessages}set computedErrorMessages(e){this.internalErrorMessages=e}};I=r([c({})],I);const z=s.with(class Props{constructor(){this.arrayValue=o({type:[String,Object],default:""}),this.label=o({type:String,default:""}),this.leftLabel=o({type:Boolean,default:!1}),this.trueValue=o({default:!0}),this.falseValue=o({default:!1}),this.indeterminate=o({type:Boolean,default:!1}),this.indeterminateValue=o({type:[Boolean,Array,String,Object],default:null})}});let P=class SelectableMixin extends(a(h,x,I,E,z)){created(){this.isSelectableComponent=!0,this.checkDuplicates()}get isChecked(){return this.modelIsArray?this.modelValue&&this.modelValue.includes(this.arrayValue):this.valueComputed===this.trueValue}get isIndeterminate(){return this.indeterminate&&this.valueComputed===this.indeterminateValue}get modelIsArray(){return!!this.arrayValue}reset(){this.$emit("update:modelValue",!1)}checkDuplicates(){const e=[this.falseValue,this.trueValue];this.indeterminate&&e.push(this.indeterminateValue);if(new Set(e).size!==e.length)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")}onFocus(e){this.$emit("focus",e)}onBlur(e){this.$refs.input!==e.target||this.isElementRelated(e.relatedTarget)||(this.ValidateMixin_onBlur(),this.$emit("blur",e))}isElementRelated(e){return[this.$refs.label,this.$refs.container].includes(e)}onWrapperClick(){this.toggleSelection()}toggleSelection(){this.readonly||this.disabled||this.loading||(this.modelIsArray?this.modelValue?this.modelValue.includes(this.arrayValue)?this.$emit("update:modelValue",this.modelValue.filter((e=>e!==this.arrayValue))):this.$emit("update:modelValue",this.modelValue.concat(this.arrayValue)):this.$emit("update:modelValue",[this.arrayValue]):this.indeterminate?this.isIndeterminate?this.valueComputed=this.trueValue:this.isChecked?this.valueComputed=this.falseValue:this.valueComputed=this.indeterminateValue:this.isChecked?this.valueComputed=this.falseValue:this.valueComputed=this.trueValue)}};P=r([c({emits:["update:modelValue","focus","blur"]})],P);const A=s.with(class SwitchProps{constructor(){this.modelValue=o({type:[Boolean,Array,String,Object],default:!1}),this.size=o({type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}),this.trueLabel=o({type:String,default:null}),this.falseLabel=o({type:String,default:null}),this.trueInnerLabel=o({type:String,default:null}),this.falseInnerLabel=o({type:String,default:null}),this.color=o({type:String,default:"primary"})}});let O=class VaSwitch extends(a(P,E,h,A)){constructor(){super(...arguments),this.SetupContext=i((()=>{const{hasKeyboardFocus:e,keyboardFocusListeners:t}=L();return{hasKeyboardFocus:e,keyboardFocusListeners:t}}))}get computedInnerLabel(){return this.$props.trueInnerLabel&&this.isChecked?this.$props.trueInnerLabel:this.$props.falseInnerLabel&&!this.isChecked?this.$props.falseInnerLabel:""}get computedLabel(){return this.$props.trueLabel&&this.isChecked?this.$props.trueLabel:this.$props.falseLabel&&!this.isChecked?this.$props.falseLabel:this.$props.label}get computedClass(){return{"va-switch--checked":this.isChecked,"va-switch--indeterminate":this.isIndeterminate,"va-switch--small":"small"===this.$props.size,"va-switch--large":"large"===this.$props.size,"va-switch--disabled":this.$props.disabled,"va-switch--left-label":this.$props.leftLabel,"va-switch--error":this.computedError,"va-switch--on-keyboard-focus":this.SetupContext.hasKeyboardFocus}}get progressCircleSize(){return{small:"15px",medium:"20px",large:"25px"}[this.$props.size]}get trackStyle(){return{borderColor:this.$props.error?this.theme.getColor("danger"):"",backgroundColor:this.isChecked?this.colorComputed:this.theme.getColor("gray")}}get labelStyle(){return{color:this.$props.error?this.theme.getColor("danger"):""}}};O=r([c({name:"VaSwitch",components:{VaProgressCircle:j,VaMessageListWrapper:M},emits:["focus","blur","update:modelValue"]})],O);var W=O;const X=["aria-checked","id","name","disabled"],K={class:"va-switch__track-label"},N={class:"va-switch__checker-wrapper"},D={class:"va-switch__checker"};B(":root{--va-switch-display:inline-block;--va-switch-checker-position:absolute;--va-switch-checker-top:0;--va-switch-checker-bottom:0;--va-switch-checker-margin:auto 0.3rem;--va-switch-checker-transform:translateX(0);--va-switch-checker-height:1.5rem;--va-switch-checker-width:1.5rem;--va-switch-checker-background-color:#fff;--va-switch-checker-border-radius:50%;--va-switch-checker-box-shadow:0 0.1rem 0.2rem rgba(0,0,0,0.3);--va-switch-checker-transition:all 0.2s ease;--va-switch-checker-display:flex;--va-switch-checker-justify-content:center;--va-switch-checker-align-items:center;--va-switch-checker-wrapper-position:absolute;--va-switch-checker-wrapper-margin:auto;--va-switch-checker-wrapper-transform:translateX(0);--va-switch-checker-wrapper-top:0;--va-switch-checker-wrapper-left:0;--va-switch-checker-wrapper-bottom:0;--va-switch-checker-wrapper-right:0;--va-switch-checker-wrapper-width:100%;--va-switch-checker-wrapper-height:100%;--va-switch-checker-wrapper-transition:all 0.2s ease;--va-switch-checker-wrapper-pointer-events:none;--va-switch-label-left-padding:0.3rem;--va-switch-label-right-padding:0.3rem;--va-switch-track-display:flex;--va-switch-track-overflow:hidden;--va-switch-track-border-radius:1rem;--va-switch-track-height:100%;--va-switch-track-width:100%;--va-switch-track-background:#fff;--va-switch-track-box-shadow:inset 0 0.1rem 0.2rem rgba(0,0,0,0.1);--va-switch-track-transition:background-color 0.2s ease;--va-switch-container-display:inline-flex;--va-switch-container-align-items:center;--va-switch-inner-cursor:pointer;--va-switch-inner-display:inline-block;--va-switch-inner-position:relative;--va-switch-inner-height:2rem;--va-switch-inner-width:auto;--va-switch-inner-min-width:4rem;--va-switch-inner-border-radius:1rem;--va-switch-sm-inner-height:1.5rem;--va-switch-sm-inner-width:auto;--va-switch-sm-inner-min-width:3rem;--va-switch-lg-inner-height:2.5rem;--va-switch-lg-inner-width:auto;--va-switch-lg-inner-min-width:5rem}.va-switch{display:var(--va-switch-display)}.va-switch__container{align-items:var(--va-switch-container-align-items);display:var(--va-switch-container-display)}.va-switch:focus{outline:none}.va-switch__inner{border-radius:var(--va-switch-inner-border-radius);cursor:var(--va-switch-inner-cursor);display:var(--va-switch-inner-display);height:var(--va-switch-inner-height);min-width:var(--va-switch-inner-min-width);position:var(--va-switch-inner-position);width:var(--va-switch-inner-width)}.va-switch__inner:focus{box-shadow:0 0 0 .3rem rgba(52,144,220,.5);outline:0}.va-switch--small .va-switch__inner{height:var(--va-switch-sm-inner-height);min-width:var(--va-switch-sm-inner-min-width);width:var(--va-switch-sm-inner-width)}.va-switch--small .va-switch__checker{height:1.1rem;width:1.1rem}.va-switch--large .va-switch__inner{height:var(--va-switch-lg-inner-height);min-width:var(--va-switch-lg-inner-min-width);width:var(--va-switch-lg-inner-width)}.va-switch--large .va-switch__checker{height:1.8rem;width:1.8rem}.va-switch--disabled{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-switch--left-label .va-switch__container{flex-direction:row-reverse}.va-switch--left-label .va-switch__label{padding:0 var(--va-switch-label-left-padding) 0 0}.va-switch--indeterminate .va-switch__checker{margin:auto 0;transform:translateX(-50%)}.va-switch--indeterminate .va-switch__checker-wrapper{transform:translateX(50%)}.va-switch--checked .va-switch__checker{margin:auto -.3rem;transform:translateX(-100%)}.va-switch--checked .va-switch__checker-wrapper{transform:translateX(100%)}.va-switch--error .va-switch__track{border:.1rem solid}.va-switch__label{cursor:pointer;padding:0 0 0 var(--va-switch-label-right-padding);text-align:left}.va-switch .va-switch__track{background:var(--va-switch-track-background);border-radius:var(--va-switch-track-border-radius);box-shadow:var(--va-switch-track-box-shadow);display:var(--va-switch-track-display);height:var(--va-switch-track-height);overflow:var(--va-switch-track-overflow);transition:var(--va-switch-track-transition);width:var(--va-switch-track-width)}.va-switch--on-keyboard-focus.va-switch .va-switch__track{box-shadow:0 0 .5rem 0 rgba(0,0,0,.3);transition:all,.6s,ease-in}.va-switch--small.va-switch .va-switch__track{border-radius:.75rem}.va-switch--large.va-switch .va-switch__track{border-radius:1.25rem}.va-switch .va-switch__track-label{color:#fff;margin:auto .5rem auto 2rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-switch--checked.va-switch .va-switch__track-label{margin:auto 2rem auto .5rem}.va-switch--small.va-switch .va-switch__track-label{margin:auto .5rem auto 1.55rem}.va-switch--checked.va-switch--small.va-switch .va-switch__track-label{margin:auto 1.55rem auto .5rem}.va-switch--large.va-switch .va-switch__track-label{margin:auto .5rem auto 2.3rem}.va-switch--checked.va-switch--large.va-switch .va-switch__track-label{margin:auto 2.3rem auto .5rem}.va-switch__checker{align-items:var(--va-switch-checker-align-items);background-color:var(--va-switch-checker-background-color);border-radius:var(--va-switch-checker-border-radius);bottom:var(--va-switch-checker-bottom);box-shadow:var(--va-switch-checker-box-shadow);display:var(--va-switch-checker-display);height:var(--va-switch-checker-height);justify-content:var(--va-switch-checker-justify-content);margin:var(--va-switch-checker-margin);position:var(--va-switch-checker-position);top:var(--va-switch-checker-top);transform:var(--va-switch-checker-transform);transition:var(--va-switch-checker-transition);width:var(--va-switch-checker-width)}.va-switch__checker-wrapper{bottom:var(--va-switch-checker-wrapper-bottom);height:var(--va-switch-checker-wrapper-height);left:var(--va-switch-checker-wrapper-left);margin:var(--va-switch-checker-wrapper-margin);pointer-events:var(--va-switch-checker-wrapper-pointer-events);position:var(--va-switch-checker-wrapper-position);right:var(--va-switch-checker-wrapper-right);top:var(--va-switch-checker-wrapper-top);transform:var(--va-switch-checker-wrapper-transform);transition:var(--va-switch-checker-wrapper-transition);width:var(--va-switch-checker-wrapper-width)}.va-switch__input{height:0;opacity:0;position:absolute;width:0}"),W.render=function render(e,t,r,s,a,i){const c=u("va-progress-circle"),o=u("VaMessageListWrapper");return p(),v(o,{class:w(["va-switch",e.computedClass]),disabled:e.$props.disabled,success:e.$props.success,messages:e.$props.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.$props.errorCount},{default:m((()=>[g("div",{class:"va-switch__container",tabindex:"-1",onBlur:t[6]||(t[6]=(...t)=>e.onBlur&&e.onBlur(...t)),ref:"container"},[g("div",{class:"va-switch__inner",onClick:t[3]||(t[3]=t=>e.onWrapperClick())},[g("input",k({class:"va-switch__input",ref:"input",type:"checkbox",role:"switch","aria-checked":e.isChecked,id:String(e.$props.id),name:String(e.$props.name),readonly:"",disabled:e.$props.disabled},b(e.SetupContext.keyboardFocusListeners),{onFocus:t[0]||(t[0]=(...t)=>e.onFocus&&e.onFocus(...t)),onBlur:t[1]||(t[1]=(...t)=>e.onBlur&&e.onBlur(...t)),onKeypress:t[2]||(t[2]=f((t=>e.toggleSelection()),["prevent"]))}),null,16,X),g("div",{class:"va-switch__track",style:y(e.trackStyle)},[g("div",K,[_(e.$slots,"innerLabel",{},(()=>[V(C(e.computedInnerLabel),1)]))]),g("div",N,[g("span",D,[e.$props.loading?(p(),v(c,{key:0,indeterminate:"",size:e.progressCircleSize,color:e.trackStyle.backgroundColor},null,8,["size","color"])):S("v-if",!0)])])],4)]),g("div",{class:"va-switch__label",ref:"label",onBlur:t[4]||(t[4]=(...t)=>e.onBlur&&e.onBlur(...t)),style:y(e.labelStyle),onClick:t[5]||(t[5]=t=>e.onWrapperClick())},[_(e.$slots,"default",{},(()=>[V(C(e.computedLabel),1)]))],36)],544)])),_:3},8,["class","disabled","success","messages","error","error-messages","error-count"])},W.__file="src/components/va-switch/VaSwitch.vue";var R=t(W);export{R as default};
//# sourceMappingURL=index46.js.map
