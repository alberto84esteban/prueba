import{w as a}from"./withConfigTransport.js";import{__decorate as t}from"tslib";import{V as e,m as i,O as r,p as l}from"./vue-class-component.esm-bundler.js";import{openBlock as s,createElementBlock as n,normalizeStyle as o,createElementVNode as p,renderSlot as m}from"vue";import{s as v}from"./style-inject.es.js";import"./VaConfig.js";const h=e.with(class ParallaxProps{constructor(){this.target=l({type:[Object,String],default:""}),this.src=l({type:String,default:"",required:!0}),this.alt=l({type:String,default:"parallax"}),this.height=l({type:Number,default:400}),this.reversed=l({type:Boolean,default:!1}),this.speed=l({type:Number,default:.5,validator:a=>a>=0&&a<=1})}});let g=class VaParallax extends(i(h)){constructor(){super(...arguments),this.elOffsetTop=0,this.parallax=0,this.parallaxDist=0,this.percentScrolled=0,this.scrollTop=0,this.windowHeight=0,this.windowBottom=0,this.isLoaded=!1}get computedWrapperStyles(){return{height:this.$props.height+"px"}}get targetElement(){return"string"==typeof this.$props.target?document.querySelector(this.$props.target):this.$props.target||this.$el.parentElement}get computedImgStyles(){return{display:"block",transform:`translate(-50%, ${this.parallax}px)`,opacity:this.isLoaded?1:0,top:this.$props.reversed?0:"auto"}}get imgHeight(){return this.$refs.img.naturalHeight}calcDimensions(){const a=this.$el.getBoundingClientRect();this.scrollTop=this.targetElement.scrollTop,this.parallaxDist=this.imgHeight-this.$props.height,this.elOffsetTop=a.top+this.scrollTop,this.windowHeight=window.innerHeight,this.windowBottom=this.scrollTop+this.windowHeight}translate(){this.calcDimensions(),this.percentScrolled=(this.windowBottom-this.elOffsetTop)/(this.$props.height+this.windowHeight),this.parallax=Math.round(this.parallaxDist*this.percentScrolled)*this.$props.speed,this.$props.reversed&&(this.parallax=-this.parallax)}addEventListeners(){this.targetElement.addEventListener("scroll",this.translate),this.targetElement.addEventListener("resize",this.translate)}removeEventListeners(){this.targetElement.removeEventListener("scroll",this.translate),this.targetElement.removeEventListener("resize",this.translate)}initImage(){const a=this.$refs.img;a.complete?(this.translate(),this.addEventListeners()):a.addEventListener("load",(()=>{this.translate(),this.addEventListeners()}),!1),this.isLoaded=!0}mounted(){this.initImage()}beforeUnmount(){this.removeEventListeners()}};g=t([r({name:"VaParallax"})],g);var c=g;const d={class:"va-parallax__image-container"},x=["src","alt"],u={class:"va-parallax__item-container"};v(":root{--va-parallax-display:block;--va-parallax-position:relative;--va-parallax-overflow:hidden;--va-parallax-width:auto;--va-parallax-z-index:0;--va-parallax-image-container-position:absolute;--va-parallax-image-container-top:0;--va-parallax-image-container-left:0;--va-parallax-image-container-right:0;--va-parallax-image-container-bottom:0;--va-parallax-image-container-z-index:1;--va-parallax-image-container-contain:strict;--va-parallax-image-container-user-select:none;--va-parallax-image-position:absolute;--va-parallax-image-bottom:0;--va-parallax-image-left:50%;--va-parallax-image-min-width:100%;--va-parallax-image-min-height:100%;--va-parallax-image-display:none;--va-parallax-image-transform:translate(-50%);--va-parallax-image-will-change:transform;--va-parallax-image-transition:0.3s opacity linear;--va-parallax-image-z-index:1}.va-parallax{display:var(--va-parallax-display);font-family:var(--va-font-family);overflow:var(--va-parallax-overflow);position:var(--va-parallax-position);width:var(--va-parallax-width);z-index:var(--va-parallax-z-index)}.va-parallax__image-container{bottom:var(--va-parallax-image-container-bottom);contain:var(--va-parallax-image-container-contain);left:var(--va-parallax-image-container-left);position:var(--va-parallax-image-container-position);right:var(--va-parallax-image-container-right);top:var(--va-parallax-image-container-top);-webkit-user-select:var(--va-parallax-image-container-user-select);-moz-user-select:var(--va-parallax-image-container-user-select);-ms-user-select:var(--va-parallax-image-container-user-select);user-select:var(--va-parallax-image-container-user-select);z-index:var(--va-parallax-image-container-z-index)}.va-parallax__image{bottom:var(--va-parallax-image-bottom);display:var(--va-parallax-image-display);left:var(--va-parallax-image-left);min-height:var(--va-parallax-image-min-height);min-width:var(--va-parallax-image-min-width);position:var(--va-parallax-image-position);transform:var(--va-parallax-image-transform);transition:var(--va-parallax-image-transition);will-change:var(--va-parallax-image-will-change);z-index:var(--va-parallax-image-z-index)}.va-parallax__item-container{bottom:0;contain:strict;left:0;position:absolute;right:0;top:0;z-index:2}"),c.render=function render(a,t,e,i,r,l){return s(),n("div",{class:"va-parallax",style:o(a.computedWrapperStyles)},[p("div",d,[p("img",{class:"va-parallax__image",ref:"img",src:a.$props.src,alt:a.$props.alt,style:o(a.computedImgStyles)},null,12,x)]),p("div",u,[m(a.$slots,"default")])],4)},c.__file="src/components/va-parallax/VaParallax.vue";var f=a(c);export{f as default};
//# sourceMappingURL=index36.js.map
