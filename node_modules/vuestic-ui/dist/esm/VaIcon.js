import{defineComponent as e,computed as n,openBlock as t,createBlock as r,resolveDynamicComponent as o,mergeProps as a,withCtx as i,renderSlot as s,createTextVNode as c,toDisplayString as l}from"vue";import{i as u,b as f,_ as v,t as m,d as p,e as g,f as d,h,j as y,k as $,l as b,n as w,g as C,o as z}from"./withConfigTransport.js";import{f as S}from"./flatten.js";import{u as j}from"./color-config.js";import{u as k,a as x}from"./useSize.js";import{s as E}from"./style-inject.es.js";var R=u,I=f,_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/;var T=function isKey$1(e,n){if(R(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!I(e))||(A.test(e)||!_.test(e)||null!=n&&e in Object(n))},F=v;function memoize$1(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var memoized=function(){var t=arguments,r=n?n.apply(this,t):t[0],o=memoized.cache;if(o.has(r))return o.get(r);var a=e.apply(this,t);return memoized.cache=o.set(r,a)||o,a};return memoized.cache=new(memoize$1.Cache||F),memoized}memoize$1.Cache=F;var O=memoize$1;var P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B=/\\(\\)?/g,K=function memoizeCapped$1(e){var n=O(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(P,(function(e,t,r,o){n.push(r?o.replace(B,"$1"):t||e)})),n})),U=u,V=T,G=K,N=m;var q=function castPath$3(e,n){return U(e)?e:V(e,n)?[e]:G(N(e))};var D=f;var H=function toKey$2(e){if("string"==typeof e||D(e))return e;var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n},J=q,L=H;var M=function baseGet$1(e,n){for(var t=0,r=(n=J(n,e)).length;null!=e&&t<r;)e=e[L(n[t++])];return t&&t==r?e:void 0},Q=M,W=p;var X=q,Y=function last$1(e){var n=null==e?0:e.length;return n?e[n-1]:void 0},Z=function parent$1(e,n){return n.length<2?e:Q(e,W(n,0,-1))},ee=H;var ne=g;var te=S,re=d,oe=h;var ae=function flatRest$1(e){return oe(re(e,void 0,te),e+"")},ie=y,se=w,ce=function baseUnset$1(e,n){return n=X(n,e),null==(e=Z(e,n))||delete e[ee(Y(n))]},le=q,ue=$,fe=function customOmitClone$1(e){return ne(e)?void 0:e},ve=b,me=ae((function(e,n){var t={};if(null==e)return t;var r=!1;n=ie(n,(function(n){return n=le(n,e),r||(r=n.length>1),n})),ue(e,ve(e),t),r&&(t=se(t,7,fe));for(var o=n.length;o--;)ce(t,n[o]);return t}));const regexGroupsValues=(e,n)=>{if("string"!=typeof n&&n.global)return[...e.matchAll(n)].map((e=>e.slice(1)));const t=e.match(n)||[];return t?t.length>1?t.slice(1):t:[]},pe=/{[^}]*}/g,dynamicSegmentStringToRegex=e=>e.replace(pe,"(.*)"),dynamicSegments=(e,n)=>{const t=(e=>(e.match(pe)||[]).map((e=>e.replace(/{|}/g,""))))(n),r=((e,n)=>regexGroupsValues(e,dynamicSegmentStringToRegex(n)))(e,n);return t.reduce(((e,n,t)=>({...e,[n]:r[t]})),{})},isIconConfigurationString=e=>"string"==typeof e.name,isIconConfigurationRegex=e=>e.name instanceof RegExp,isMatchConfiguration=(e,n)=>{return isIconConfigurationString(n)?((e,n)=>{const t=dynamicSegmentStringToRegex(n);return((e,n)=>(e.match(n)||[])[0]===e)(e,new RegExp(t))})(e,n.name):!!isIconConfigurationRegex(n)&&(t=e,n.name.test(t));var t},resolveIconConfiguration=(e,n)=>{if(isIconConfigurationString(n))return((e,n)=>{const t=dynamicSegments(e,n.name);return n.resolve&&n.resolve(t)})(e,n);if(isIconConfigurationRegex(n))return((e,n)=>{if(n.name.global)throw new Error(`Bad icon config with name ${n.name}. Please, don't use global regex as name.`);const t=regexGroupsValues(e,n.name);return n.resolveFromRegex&&n.resolveFromRegex(...t)})(e,n);throw Error("Unknown icon config")},findIconConfiguration=(e,n,t=[])=>{if(!e)return;const r=((e,n,t=[])=>{const r=n.find((n=>!t.includes(n.name.toString())&&isMatchConfiguration(e,n)));if(!r)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return r})(e,n,t),o=z(resolveIconConfiguration(e,r),r);return t=[...t,r.name.toString()],z(findIconConfiguration(o.to,n,t),o)},getIconConfiguration=(e,n=(()=>C().icons||[])())=>{const t=findIconConfiguration(e,n);return void 0===t?{}:(e=>{const n=e;return["name","to","resolve","resolveFromRegex"].forEach((e=>{delete n[e]})),n})(t)},useIcons=e=>({getIcon:e=>getIconConfiguration(e)});var ge=e({name:"VaIcon",props:{...k,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e,{attrs:t}){const{getColor:r}=j(),{sizeComputed:o}=x(e),{getIcon:a}=useIcons(),i=n((()=>a(e.name))),s=n((()=>e.component||e.tag||i.value.component||i.value.tag||"i")),c=n((()=>({...i.value.attrs,...me(t,["class"])}))),getSpinClass=e=>{if(e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},l=n((()=>{var n;return[i.value.class,getSpinClass(null!==(n=e.spin)&&void 0!==n?n:i.value.spin)]})),u=n((()=>{const n=e.rotation?`rotate(${e.rotation}deg)`:"",t="vertical"===e.flip||"both"===e.flip?-1:1,r="horizontal"===e.flip||"both"===e.flip?-1:1;return`${"off"===e.flip?"":`scale(${t}, ${r})`} ${n}`.trim()})),f=n((()=>({transform:u.value,cursor:t.onClick?"pointer":null,color:e.color?r(e.color):i.value.color,fontSize:o.value})));return{iconConfig:i,computedTag:s,computedAttrs:c,computedClass:l,computedStyle:f}}});E(":root{--va-icon-vertical-align:middle;--va-icon-user-select:none}.va-icon{-webkit-user-select:var(--va-icon-user-select);-moz-user-select:var(--va-icon-user-select);-ms-user-select:var(--va-icon-user-select);user-select:var(--va-icon-user-select);vertical-align:var(--va-icon-vertical-align)}.va-icon.va-icon{font-style:normal}.va-icon--spin,.va-icon--spin-reverse{-webkit-animation:va-icon--spin-animation 1.5s linear infinite;animation:va-icon--spin-animation 1.5s linear infinite}.va-icon--spin-reverse{animation-direction:reverse}@-webkit-keyframes va-icon--spin-animation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes va-icon--spin-animation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"),ge.render=function render(e,n,u,f,v,m){return t(),r(o(e.computedTag),a(e.computedAttrs,{"aria-hidden":"true",notranslate:"",class:["va-icon",e.computedClass],style:e.computedStyle}),{default:i((()=>[s(e.$slots,"default",{},(()=>[c(l(e.iconConfig.content),1)]))])),_:3},16,["class","style"])},ge.__file="src/components/va-icon/VaIcon.vue";export{q as _,H as a,M as b,ae as c,me as o,ge as s,useIcons as u};
//# sourceMappingURL=VaIcon.js.map
