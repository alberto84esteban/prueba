{"version":3,"file":"vuestic-plugin.js","sources":["../../src/components/va-popup/plugins/platform.ts","../../src/components/va-popup/install.ts","../../src/vuestic-plugin/vuestic-plugin.ts"],"sourcesContent":["/* eslint-disable */\n// @ts-nocheck\n\nexport const isSSR = typeof window === 'undefined'\nexport let fromSSR = false\nexport let onSSR = isSSR\n\nfunction getMatch (userAgent, platformMatch) {\n  const match = /(edge)\\/([\\w.]+)/.exec(userAgent) ||\n    /(opr)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(vivaldi)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(chrome)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(iemobile)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(version)(applewebkit)[\\/]([\\w.]+).*(safari)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(webkit)[\\/]([\\w.]+).*(version)[\\/]([\\w.]+).*(safari)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(webkit)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(opera)(?:.*version|)[\\/]([\\w.]+)/.exec(userAgent) ||\n    /(msie) ([\\w.]+)/.exec(userAgent) ||\n    userAgent.indexOf('trident') >= 0 && /(rv)(?::| )([\\w.]+)/.exec(userAgent) ||\n    userAgent.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(userAgent) ||\n    []\n\n  return {\n    browser: match[5] || match[3] || match[1] || '',\n    version: match[2] || match[4] || '0',\n    versionNumber: match[4] || match[2] || '0',\n    platform: platformMatch[0] || '',\n  }\n}\n\nfunction getPlatformMatch (userAgent) {\n  return /(ipad)/.exec(userAgent) ||\n    /(ipod)/.exec(userAgent) ||\n    /(windows phone)/.exec(userAgent) ||\n    /(iphone)/.exec(userAgent) ||\n    /(kindle)/.exec(userAgent) ||\n    /(silk)/.exec(userAgent) ||\n    /(android)/.exec(userAgent) ||\n    /(win)/.exec(userAgent) ||\n    /(mac)/.exec(userAgent) ||\n    /(linux)/.exec(userAgent) ||\n    /(cros)/.exec(userAgent) ||\n    /(playbook)/.exec(userAgent) ||\n    /(bb)/.exec(userAgent) ||\n    /(blackberry)/.exec(userAgent) ||\n    []\n}\n\nfunction getPlatform (userAgent) {\n  userAgent = (userAgent || navigator.userAgent || navigator.vendor || window.opera).toLowerCase()\n\n  const platformMatch = getPlatformMatch(userAgent)\n  const matched = getMatch(userAgent, platformMatch)\n  const browser = {}\n\n  if (matched.browser) {\n    browser[matched.browser] = true\n    browser.version = matched.version\n    browser.versionNumber = parseInt(matched.versionNumber, 10)\n  }\n\n  if (matched.platform) {\n    browser[matched.platform] = true\n  }\n\n  // These are all considered mobile platforms, meaning they run a mobile browser\n  if (browser.android || browser.bb || browser.blackberry || browser.ipad || browser.iphone ||\n    browser.ipod || browser.kindle || browser.playbook || browser.silk || browser['windows phone']) {\n    browser.mobile = true\n  }\n\n  // Set iOS if on iPod, iPad or iPhone\n  if (browser.ipod || browser.ipad || browser.iphone) {\n    browser.ios = true\n  }\n\n  if (browser['windows phone']) {\n    browser.winphone = true\n    delete browser['windows phone']\n  }\n\n  // These are all considered desktop platforms, meaning they run a desktop browser\n  if (browser.cros || browser.mac || browser.linux || browser.win) {\n    browser.desktop = true\n  }\n\n  // Chrome, Opera 15+, Vivaldi and Safari are webkit based browsers\n  if (browser.chrome || browser.opr || browser.safari || browser.vivaldi) {\n    browser.webkit = true\n  }\n\n  // IE11 has a new token so we will assign it msie to avoid breaking changes\n  if (browser.rv || browser.iemobile) {\n    matched.browser = 'ie'\n    browser.ie = true\n  }\n\n  // Edge is officially known as Microsoft Edge, so rewrite the key to match\n  if (browser.edge) {\n    matched.browser = 'edge'\n    browser.edge = true\n  }\n\n  // Blackberry browsers are marked as Safari on BlackBerry\n  if (browser.safari && browser.blackberry || browser.bb) {\n    matched.browser = 'blackberry'\n    browser.blackberry = true\n  }\n\n  // Playbook browsers are marked as Safari on Playbook\n  if (browser.safari && browser.playbook) {\n    matched.browser = 'playbook'\n    browser.playbook = true\n  }\n\n  // Opera 15+ are identified as opr\n  if (browser.opr) {\n    matched.browser = 'opera'\n    browser.opera = true\n  }\n\n  // Stock Android browsers are marked as Safari on Android.\n  if (browser.safari && browser.android) {\n    matched.browser = 'android'\n    browser.android = true\n  }\n\n  // Kindle browsers are marked as Safari on Kindle\n  if (browser.safari && browser.kindle) {\n    matched.browser = 'kindle'\n    browser.kindle = true\n  }\n\n  // Kindle Silk browsers are marked as Safari on Kindle\n  if (browser.safari && browser.silk) {\n    matched.browser = 'silk'\n    browser.silk = true\n  }\n\n  if (browser.vivaldi) {\n    matched.browser = 'vivaldi'\n    browser.vivaldi = true\n  }\n\n  // Assign the name and platform variable\n  browser.name = matched.browser\n  browser.platform = matched.platform\n\n  if (!isSSR) {\n    if (window.process && window.process.versions && window.process.versions.electron) {\n      browser.electron = true\n    } else if (document.location.href.indexOf('chrome-extension://') === 0) {\n      browser.chromeExt = true\n    } else if (window._cordovaNative || window.cordova) {\n      browser.cordova = true\n    }\n\n    fromSSR = browser.cordova === void 0 &&\n      browser.electron === void 0 &&\n      !!document.querySelector('[data-server-rendered]')\n\n    fromSSR && (onSSR = true)\n  }\n\n  return browser\n}\n\nlet webStorage\n\nexport function hasWebStorage () {\n  if (webStorage !== void 0) {\n    return webStorage\n  }\n\n  try {\n    if (window.localStorage) {\n      webStorage = true\n      return true\n    }\n  } catch (e) {\n  }\n\n  webStorage = false\n  return false\n}\n\nfunction getClientProperties () {\n  return {\n    has: {\n      touch: (() => !!('ontouchstart' in document.documentElement) || window.navigator.msMaxTouchPoints > 0)(),\n      webStorage: hasWebStorage(),\n    },\n    within: {\n      iframe: window.self !== window.top,\n    },\n  }\n}\n\nexport default {\n  has: {\n    touch: false,\n    webStorage: false,\n  },\n  parseSSR (/* ssrContext */ ssr) {\n    return ssr ? {\n      is: getPlatform(ssr.req.headers['user-agent']),\n      has: this.has,\n      within: this.within,\n    } : {\n      is: getPlatform(),\n      ...getClientProperties(),\n    }\n  },\n\n  install ($q, queues, Vue) {\n    if (isSSR) {\n      queues.server.push((q, ctx) => {\n        q.platform = this.parseSSR(ctx.ssr)\n      })\n      return\n    }\n\n    this.is = getPlatform()\n\n    if (fromSSR) {\n      queues.takeover.push(q => {\n        onSSR = fromSSR = false\n        Object.assign(q.platform, getClientProperties())\n      })\n      Vue.util.defineReactive($q, 'platform', this)\n    } else {\n      Object.assign(this, getClientProperties())\n      $q.platform = this\n    }\n  },\n}\n","import Platform from './plugins/platform'\nimport Vue from 'vue'\n\n// At the moment we use quasar platform install to make its components work.\n// Ideally we want to create similar vuestic platform object that holds needed values.\nexport const installPlatform = () => {\n  const queues = {\n    server: [], // on SSR update\n    takeover: [], // on client takeover\n  }\n\n  const framework = {}\n  Platform.install(framework, queues, {} as any)\n}\n","import { App } from 'vue'\n\nimport { installPlatform } from '../components/va-popup/install'\nimport DropdownPopperSubplugin\n  from '../components/va-dropdown/dropdown-popover-subplugin'\nimport ToastInstall from '../components/va-toast/install'\n\nimport ColorHelpersPlugin from '../services/color-config/color-css-variables-updater'\nimport { GlobalConfig } from '../services/global-config/global-config'\nimport { GlobalConfigPlugin } from '../services/global-config/global-config-plugin'\n\nimport * as vuesticComponentMap from './vuestic-components'\n\ninstallPlatform()\n\nexport const VuesticPlugin = {\n  install (app: App, vuesticConfig: GlobalConfig): void {\n    Object.entries(vuesticComponentMap).forEach(([name, component]) => {\n      app.component(name, component)\n    })\n\n    app.use(DropdownPopperSubplugin)\n\n    app.use(ToastInstall)\n\n    app.use(GlobalConfigPlugin, vuesticConfig)\n\n    app.use(ColorHelpersPlugin)\n  },\n}\n"],"names":["isSSR","window","webStorage","fromSSR","getPlatform","userAgent","matched","getMatch","platformMatch","match","exec","indexOf","browser","version","versionNumber","platform","navigator","vendor","opera","toLowerCase","getPlatformMatch","parseInt","android","bb","blackberry","ipad","iphone","ipod","kindle","playbook","silk","mobile","ios","winphone","cros","mac","linux","win","desktop","chrome","opr","safari","vivaldi","webkit","rv","iemobile","ie","edge","name","process","versions","electron","document","location","href","chromeExt","_cordovaNative","cordova","querySelector","hasWebStorage","localStorage","e","getClientProperties","has","touch","documentElement","msMaxTouchPoints","within","iframe","self","top","parseSSR","ssr","is","req","headers","this","install","$q","queues","Vue","server","push","q","ctx","takeover","Object","assign","util","defineReactive","VuesticPlugin","app","vuesticConfig","entries","vuesticComponentMap","forEach","component","use","DropdownPopperSubplugin","ToastInstall","GlobalConfigPlugin","ColorHelpersPlugin"],"mappings":"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"}